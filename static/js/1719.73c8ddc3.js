{name:n},next:e,throw:t,return:g,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function v(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var _=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},y=function(e){return Array.apply(null,new Array(e))},b=function(e){return function(t){return e(Object.defineProperty(t,r.Nm,{value:!0}))}},E=function(e){return e===r.EO},C=function(e){return e===r.Wd},S=function(e){return E(e)||C(e)};function T(e,t){var n=Object.keys(e),r=n.length;var o,i=0,s=(0,a.IX)(e)?y(r):{},l={};return n.forEach((function(e){var n=function(n,a){o||(a||S(n)?(t.cancel(),t(n,a)):(s[e]=n,++i===r&&(o=!0,t(s))))};n.cancel=c,l[e]=n})),t.cancel=function(){o||(o=!0,n.forEach((function(e){return l[e].cancel()})))},l}function I(e){return{name:e.name||"anonymous",location:w(e)}}function w(e){return e[r.b_]}var A={isEmpty:s,put:c,take:c};function k(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,o=0,a=0,i=function(t){n[o]=t,o=(o+1)%e,r++},s=function(){if(0!=r){var t=n[a];return n[a]=null,r--,a=(a+1)%e,t}},c=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){var l;if(r<e)i(s);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[o]=s,a=o=(o+1)%e;break;case 4:l=2*e,n=c(),r=n.length,o=n.length,a=0,n.length=l,e=l,i(s)}},take:s,flush:c}}var P=function(){return A},x=function(e){return k(e,3)},R=function(e){return k(e,4)},N=Object.freeze({__proto__:null,none:P,fixed:function(e){return k(e,1)},dropping:function(e){return k(e,2)},sliding:x,expanding:R}),O="TAKE",L="PUT",M="ALL",D="RACE",U="CALL",B="CPS",F="FORK",H="JOIN",q="CANCEL",G="SELECT",z="ACTION_CHANNEL",$="CANCELLED",X="FLUSH",V="GET_CONTEXT",W="SET_CONTEXT",j=Object.freeze({__proto__:null,TAKE:O,PUT:L,ALL:M,RACE:D,CALL:U,CPS:B,FORK:F,JOIN:H,CANCEL:q,SELECT:G,ACTION_CHANNEL:z,CANCELLED:$,FLUSH:X,GET_CONTEXT:V,SET_CONTEXT:W}),K=function(e,t){var n;return(n={})[r.IO]=!0,n.combinator=!1,n.type=e,n.payload=t,n},Z=function(e){return K(F,(0,o.Z)({},e.payload,{detached:!0}))};function Y(e,t){return void 0===e&&(e="*"),(0,a.uj)(e)?K(O,{pattern:e}):(0,a.Om)(e)&&(0,a.d5)(t)&&(0,a.uj)(t)?K(O,{channel:e,pattern:t}):(0,a.CE)(e)?K(O,{channel:e}):void 0}var Q=function(){var e=Y.apply(void 0,arguments);return e.payload.maybe=!0,e};function J(e,t){return(0,a.sR)(t)&&(t=e,e=void 0),K(L,{channel:e,action:t})}var ee=function(){var e=J.apply(void 0,arguments);return e.payload.resolve=!0,e};function te(e){var t=K(M,e);return t.combinator=!0,t}function ne(e){var t=K(D,e);return t.combinator=!0,t}function re(e,t){var n,r=null;return(0,a.Yl)(e)?n=e:((0,a.IX)(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&(0,a.Z_)(n)&&(0,a.Yl)(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function oe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return K(U,re(e,n))}function ae(e,t,n){void 0===n&&(n=[]);return K(U,re([e,t],n))}function ie(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return K(B,re(e,n))}function se(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return K(F,re(e,n))}function ce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Z(se.apply(void 0,[e].concat(n)))}function le(e){return K(H,e)}function ue(e){return void 0===e&&(e=r.sC),K(q,e)}function de(e){void 0===e&&(e=l);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return K(G,{selector:e,args:n})}function he(e,t){return K(z,{pattern:e,buffer:t})}function me(){return K($,{})}function pe(e){return K(X,e)}function ge(e){return K(V,e)}function fe(e){return K(W,e)}var ve=oe.bind(null,i.Z)},61260:(e,t,n)=>{"use strict";n.d(t,{CE:()=>w,Ef:()=>s.H,GG:()=>A,Y0:()=>P,ZP:()=>W,b_:()=>r.b_,he:()=>I,j7:()=>V,n1:()=>r.n1,og:()=>s.I,uR:()=>T,xN:()=>k});var r=n(23143),o=n(7896),a=n(31461),i=n(83594),s=n(36660),c=n(18717),l=n(61884),u=[],d=0;function h(e){try{g(),e()}finally{f()}}function m(e){u.push(e),d||(g(),v())}function p(e){try{return g(),e()}finally{v()}}function g(){d++}function f(){d--}function v(){var e;for(f();!d&&void 0!==(e=u.shift());)h(e)}var _=function(e){return function(t){return e.some((function(e){return S(e)(t)}))}},y=function(e){return function(t){return e(t)}},b=function(e){return function(t){return t.type===String(e)}},E=function(e){return function(t){return t.type===e}},C=function(){return s.k};function S(e){var t="*"===e?C:(0,i.Z_)(e)?b:(0,i.IX)(e)?_:(0,i.eR)(e)?b:(0,i.Yl)(e)?y:(0,i.NA)(e)?E:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var T={type:r.sZ},I=function(e){return e&&e.type===r.sZ};function w(e){void 0===e&&(e=(0,s.e)());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(T):e.isEmpty()?(n.push(r),r.cancel=function(){(0,s.r)(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(T):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,o=e.length;r<o;r++){(0,e[r])(T)}}}}}function A(e,t){void 0===t&&(t=(0,s.n)());var n,r=!1,o=w(t),a=function(){r||(r=!0,(0,i.Yl)(n)&&n(),o.close())};return n=e((function(e){I(e)?a():o.put(e)})),n=(0,s.o)(n),r&&n(),{take:o.take,flush:o.flush,close:a}}function k(){var e,t=!1,n=[],o=n;var a=function(){o===n&&(o=n.slice())},i=function(){t=!0;var e=n=o;o=[],e.forEach((function(e){e(T)}))};return(e={})[r.AS]=!0,e.put=function(e){if(!t)if(I(e))i();else for(var a=n=o,s=0,c=a.length;s<c;s++){var l=a[s];l[r.uq](e)&&(l.cancel(),l(e))}},e.take=function(e,n){void 0===n&&(n=C),t?e(T):(e[r.uq]=n,a(),o.push(e),e.cancel=(0,s.o)((function(){a(),(0,s.r)(o,e)})))},e.close=i,e}function P(){var e=k(),t=e.put;return e.put=function(e){e[r.Nm]?t(e):m((function(){t(e)}))},e}function x(e,t){var n=e[r.n1];(0,i.Yl)(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var R,N=0,O=function(){return++N};function L(e){e.isRunning()&&e.cancel()}var M=((R={})[s.T]=function(e,t,n){var o=t.channel,a=void 0===o?e.channel:o,s=t.pattern,c=t.maybe,l=function(e){e instanceof Error?n(e,!0):!I(e)||c?n(e):n(r.EO)};try{a.take(l,(0,i.d5)(s)?S(s):null)}catch(u){return void n(u,!0)}n.cancel=l.cancel},R[s.P]=function(e,t,n){var r=t.channel,o=t.action,a=t.resolve;m((function(){var t;try{t=(r?r.put:e.dispatch)(o)}catch(s){return void n(s,!0)}a&&(0,i.MC)(t)?x(t,n):n(t)}))},R[s.A]=function(e,t,n,r){var o=r.digestEffect,a=N,c=Object.keys(t);if(0!==c.length){var l=(0,s.l)(t,n);c.forEach((function(e){o(t[e],a,l[e],e)}))}else n((0,i.IX)(t)?[]:{})},R[s.R]=function(e,t,n,r){var o=r.digestEffect,a=N,c=Object.keys(t),l=(0,i.IX)(t)?(0,s.m)(c.length):{},u={},d=!1;c.forEach((function(e){var t=function(t,r){d||(r||(0,s.s)(t)?(n.cancel(),n(t,r)):(n.cancel(),d=!0,l[e]=t,n(l)))};t.cancel=s.t,u[e]=t})),n.cancel=function(){d||(d=!0,c.forEach((function(e){return u[e].cancel()})))},c.forEach((function(e){d||o(t[e],a,u[e],e)}))},R[s.C]=function(e,t,n,r){var o=t.context,a=t.fn,c=t.args,l=r.task;try{var u=a.apply(o,c);if((0,i.MC)(u))return void x(u,n);if((0,i.hZ)(u))return void X(e,u,l.context,N,(0,s.j)(a),!1,n);n(u)}catch(d){n(d,!0)}},R[s.a]=function(e,t,n){var r=t.context,o=t.fn,a=t.args;try{var s=function(e,t){(0,i.sR)(e)?n(t):n(e,!0)};o.apply(r,a.concat(s)),s.cancel&&(n.cancel=s.cancel)}catch(c){n(c,!0)}},R[s.F]=function(e,t,n,r){var o=t.context,a=t.fn,c=t.args,l=t.detached,u=r.task,d=function(e){var t=e.context,n=e.fn,r=e.args;try{var o=n.apply(t,r);if((0,i.hZ)(o))return o;var a=!1;return(0,s.q)((function(e){return a?{value:e,done:!0}:(a=!0,{value:o,done:!(0,i.MC)(o)})}))}catch(c){return(0,s.q)((function(){throw c}))}}({context:o,fn:a,args:c}),h=function(e,t){return e.isSagaIterator?{name:e.meta.name}:(0,s.j)(t)}(d,a);p((function(){var t=X(e,d,u.context,N,h,l,void 0);l?n(t):t.isRunning()?(u.queue.addTask(t),n(t)):t.isAborted()?u.queue.abort(t.error()):n(t)}))},R[s.J]=function(e,t,n,r){var o=r.task,a=function(e,t){if(e.isRunning()){var n={task:o,cb:t};t.cancel=function(){e.isRunning()&&(0,s.r)(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if((0,i.IX)(t)){if(0===t.length)return void n([]);var c=(0,s.l)(t,n);t.forEach((function(e,t){a(e,c[t])}))}else a(t,n)},R[s.b]=function(e,t,n,o){var a=o.task;t===r.sC?L(a):(0,i.IX)(t)?t.forEach(L):L(t),n()},R[s.S]=function(e,t,n){var r=t.selector,o=t.args;try{n(r.apply(void 0,[e.getState()].concat(o)))}catch(a){n(a,!0)}},R[s.d]=function(e,t,n){var r=t.pattern,o=w(t.buffer),a=S(r),i=function t(n){I(n)||e.channel.take(t,a),o.put(n)},s=o.close;o.close=function(){i.cancel(),s()},e.channel.take(i,a),n(o)},R[s.f]=function(e,t,n,r){n(r.task.isCancelled())},R[s.g]=function(e,t,n){t.flush(n)},R[s.G]=function(e,t,n,r){n(r.task.context[t])},R[s.h]=function(e,t,n,r){var o=r.task;(0,s.p)(o.context,t),n()},R);function D(e,t){return e+"?"+t}function U(e){var t=e.name,n=e.location;return n?t+"  "+D(n.fileName,n.lineNumber):t}function B(e){var t=(0,s.u)((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var F=null,H=[],q=function(e){e.crashedEffect=F,H.push(e)},G=function(){F=null,H.length=0},z=function(){var e=H[0],t=H.slice(1),n=e.crashedEffect?function(e){var t=(0,s.v)(e);return t?t.code+"  "+D(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+U(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+U(e.meta)})),[B(H)]).join("\n")};function $(e,t,n,o,a,i,c){var u;void 0===c&&(c=s.t);var d,h,m=0,p=null,g=[],f=Object.create(n),v=function(e,t,n){var r,o=[],a=!1;function i(e){t(),l(),n(e,!0)}function c(t){o.push(t),t.cont=function(c,l){a||((0,s.r)(o,t),t.cont=s.t,l?i(c):(t===e&&(r=c),o.length||(a=!0,n(r))))}}function l(){a||(a=!0,o.forEach((function(e){e.cont=s.t,e.cancel()})),o=[])}return c(e),{addTask:c,cancelAll:l,abort:i,getTasks:function(){return o}}}(t,(function(){g.push.apply(g,v.getTasks().map((function(e){return e.meta.name})))}),_);function _(t,n){if(n){if(m=2,q({meta:a,cancelledTasks:g}),y.isRoot){var o=z();G(),e.onError(t,{sagaStack:o})}h=t,p&&p.reject(t)}else t===r.Wd?m=1:1!==m&&(m=3),d=t,p&&p.resolve(t);y.cont(t,n),y.joiners.forEach((function(e){e.cb(t,n)})),y.joiners=null}var y=((u={})[r.Cs]=!0,u.id=o,u.meta=a,u.isRoot=i,u.context=f,u.joiners=[],u.queue=v,u.cancel=function(){0===m&&(m=1,v.cancelAll(),_(r.Wd,!1))},u.cont=c,u.end=_,u.setContext=function(e){(0,s.p)(f,e)},u.toPromise=function(){return p||(p=(0,l.Z)(),2===m?p.reject(h):0!==m&&p.resolve(d)),p.promise},u.isRunning=function(){return 0===m},u.isCancelled=function(){return 1===m||0===m&&1===t.status},u.isAborted=function(){return 2===m},u.result=function(){return d},u.error=function(){return h},u);return y}function X(e,t,n,o,a,c,l){var u=e.finalizeRunEffect((function(t,n,o){if((0,i.MC)(t))x(t,o);else if((0,i.hZ)(t))X(e,t,h.context,n,a,!1,o);else if(t&&t[r.IO]){(0,M[t.type])(e,t.payload,o,m)}else o(t)}));p.cancel=s.t;var d={meta:a,cancel:function(){0===d.status&&(d.status=1,p(r.Wd))},status:0},h=$(e,d,n,o,a,c,l),m={task:h,digestEffect:g};return l&&(l.cancel=h.cancel),p(),h;function p(e,n){try{var a;n?(a=t.throw(e),G()):(0,s.y)(e)?(d.status=1,p.cancel(),a=(0,i.Yl)(t.return)?t.return(r.Wd):{done:!0,value:r.Wd}):a=(0,s.z)(e)?(0,i.Yl)(t.return)?t.return():{done:!0}:t.next(e),a.done?(1!==d.status&&(d.status=3),d.cont(a.value)):g(a.value,o,p)}catch(c){if(1===d.status)throw c;d.status=2,d.cont(c,!0)}}function g(t,n,r,o){void 0===o&&(o="");var a,i=O();function c(n,o){a||(a=!0,r.cancel=s.t,e.sagaMonitor&&(o?e.sagaMonitor.effectRejected(i,n):e.sagaMonitor.effectResolved(i,n)),o&&function(e){F=e}(t),r(n,o))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:i,parentEffectId:n,label:o,effect:t}),c.cancel=s.t,r.cancel=function(){a||(a=!0,c.cancel(),c.cancel=s.t,e.sagaMonitor&&e.sagaMonitor.effectCancelled(i))},u(t,i,c)}}function V(e,t){var n=e.channel,r=void 0===n?P():n,o=e.dispatch,a=e.getState,i=e.context,l=void 0===i?{}:i,u=e.sagaMonitor,d=e.effectMiddlewares,h=e.onError,m=void 0===h?s.B:h;for(var g=arguments.length,f=new Array(g>2?g-2:0),v=2;v<g;v++)f[v-2]=arguments[v];var _=t.apply(void 0,f);var y,b=O();if(u&&(u.rootSagaStarted=u.rootSagaStarted||s.t,u.effectTriggered=u.effectTriggered||s.t,u.effectResolved=u.effectResolved||s.t,u.effectRejected=u.effectRejected||s.t,u.effectCancelled=u.effectCancelled||s.t,u.actionDispatched=u.actionDispatched||s.t,u.rootSagaStarted({effectId:b,saga:t,args:f})),d){var E=c.compose.apply(void 0,d);y=function(e){return function(t,n,r){return E((function(t){return e(t,n,r)}))(t)}}}else y=s.E;var C={channel:r,dispatch:(0,s.D)(o),getState:a,sagaMonitor:u,onError:m,finalizeRunEffect:y};return p((function(){var e=X(C,_,l,b,(0,s.j)(t),!0,void 0);return u&&u.effectResolved(b,e),e}))}const W=function(e){var t,n=void 0===e?{}:e,r=n.context,i=void 0===r?{}:r,c=n.channel,l=void 0===c?P():c,u=n.sagaMonitor,d=(0,a.Z)(n,["context","channel","sagaMonitor"]);function h(e){var n=e.getState,r=e.dispatch;return t=V.bind(null,(0,o.Z)({},d,{context:i,channel:l,dispatch:r,getState:n,sagaMonitor:u})),function(e){return function(t){u&&u.actionDispatched&&u.actionDispatched(t);var n=e(t);return l.put(t),n}}}return h.run=function(){return t.apply(void 0,arguments)},h.setContext=function(e){(0,s.p)(i,e)},h}},5703:(e,t,n)=>{"use strict";n.d(t,{$6:()=>o._,A7:()=>v,By:()=>o.a4,CN:()=>o.X,Cs:()=>o.a1,Ds:()=>b,FW:()=>o.W,Fm:()=>f,P2:()=>_,PV:()=>o.a0,RE:()=>o.N,S3:()=>o.V,XD:()=>y,Ys:()=>o.a3,ZO:()=>o.O,al:()=>o.M,fw:()=>o.a6,gw:()=>o.U,gz:()=>o.Y,ib:()=>g,nn:()=>o.$,qn:()=>o.K,rM:()=>o.L,v:()=>o.a7,v_:()=>o.a2,xN:()=>o.Z,yl:()=>o.a5});var r=n(83594),o=n(36660),a=function(e){return{done:!0,value:e}},i={};function s(e){return(0,r.CE)(e)?"channel":(0,r.eR)(e)?String(e):(0,r.Yl)(e)?e.name:String(e)}function c(e,t,n){var r,s,c,l=t;function u(t,n){if(l===i)return a(t);if(n&&!s)throw l=i,n;r&&r(t);var o=n?e[s](n):e[l]();return l=o.nextState,c=o.effect,r=o.stateUpdater,s=o.errorState,l===i?a(t):c}return(0,o.q)(u,(function(e){return u(null,e)}),n)}function l(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i,l={done:!1,value:(0,o.K)(e)},u=function(e){return{done:!1,value:o.L.apply(void 0,[t].concat(r,[e]))}},d=function(e){return i=e};return c({q1:function(){return{nextState:"q2",effect:l,stateUpdater:d}},q2:function(){return{nextState:"q1",effect:u(i)}}},"q1","takeEvery("+s(e)+", "+t.name+")")}function u(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i,l,u={done:!1,value:(0,o.K)(e)},d=function(e){return{done:!1,value:o.L.apply(void 0,[t].concat(r,[e]))}},h=function(e){return{done:!1,value:(0,o.M)(e)}},m=function(e){return i=e},p=function(e){return l=e};return c({q1:function(){return{nextState:"q2",effect:u,stateUpdater:p}},q2:function(){return i?{nextState:"q3",effect:h(i)}:{nextState:"q1",effect:d(l),stateUpdater:m}},q3:function(){return{nextState:"q1",effect:d(l),stateUpdater:m}}},"q1","takeLatest("+s(e)+", "+t.name+")")}function d(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i,l={done:!1,value:(0,o.K)(e)},u=function(e){return{done:!1,value:o.N.apply(void 0,[t].concat(r,[e]))}},d=function(e){return i=e};return c({q1:function(){return{nextState:"q2",effect:l,stateUpdater:d}},q2:function(){return{nextState:"q1",effect:u(i)}}},"q1","takeLeading("+s(e)+", "+t.name+")")}function h(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];var l,u,d={done:!1,value:(0,o.O)(t,(0,o.Q)(1))},h=function(){return{done:!1,value:(0,o.K)(u)}},m=function(e){return{done:!1,value:o.L.apply(void 0,[n].concat(a,[e]))}},p={done:!1,value:(0,o.U)(e)},g=function(e){return l=e},f=function(e){return u=e};return c({q1:function(){return{nextState:"q2",effect:d,stateUpdater:f}},q2:function(){return{nextState:"q3",effect:h(),stateUpdater:g}},q3:function(){return{nextState:"q4",effect:m(l)}},q4:function(){return{nextState:"q2",effect:p}}},"q1","throttle("+s(t)+", "+n.name+")")}function m(e,t,n){for(var r=e,a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];var u={done:!1,value:o.N.apply(void 0,[n].concat(s))},d={done:!1,value:(0,o.U)(t)};return c({q1:function(){return{nextState:"q2",effect:u,errorState:"q10"}},q2:function(){return{nextState:i}},q10:function(e){if((r-=1)<=0)throw e;return{nextState:"q1",effect:d}}},"q1","retry("+n.name+")")}function p(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];var l,u,d={done:!1,value:(0,o.K)(t)},h={done:!1,value:(0,o.V)({action:(0,o.K)(t),debounce:(0,o.U)(e)})},m=function(e){return{done:!1,value:o.L.apply(void 0,[n].concat(a,[e]))}},p=function(e){return{done:!1,value:e}},g=function(e){return l=e},f=function(e){return u=e};return c({q1:function(){return{nextState:"q2",effect:d,stateUpdater:g}},q2:function(){return{nextState:"q3",effect:h,stateUpdater:f}},q3:function(){return u.debounce?{nextState:"q1",effect:m(l)}:{nextState:"q2",effect:p(u.action),stateUpdater:g}}},"q1","debounce("+s(t)+", "+n.name+")")}function g(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return o.L.apply(void 0,[l,e,t].concat(r))}function f(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return o.L.apply(void 0,[u,e,t].concat(r))}function v(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return o.L.apply(void 0,[d,e,t].concat(r))}function _(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];return o.L.apply(void 0,[h,e,t,n].concat(a))}function y(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];return o.N.apply(void 0,[m,e,t,n].concat(a))}function b(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];return o.L.apply(void 0,[p,e,t,n].concat(a))}},83594:(e,t,n)=>{"use strict";n.d(t,{CE:()=>h,IX:()=>c,MC:()=>l,NA:()=>p,Om:()=>g,Yl:()=>i,Z_:()=>s,d5:()=>a,eR:()=>m,hZ:()=>u,sR:()=>o,uj:()=>d});var r=n(23143),o=function(e){return null===e||void 0===e},a=function(e){return null!==e&&void 0!==e},i=function(e){return"function"===typeof e},s=function(e){return"string"===typeof e},c=Array.isArray,l=function(e){return e&&i(e.then)},u=function(e){return e&&i(e.next)&&i(e.throw)},d=function e(t){return t&&(s(t)||p(t)||i(t)||c(t)&&t.every(e))},h=function(e){return e&&i(e.take)&&i(e.close)},m=function(e){return i(e)&&e.hasOwnProperty("toString")},p=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},g=function(e){return h(e)&&e[r.AS]}},23143:(e,t,n)=>{"use strict";n.d(t,{AS:()=>c,Cs:()=>d,EO:()=>m,IO:()=>i,Nm:()=>l,Wd:()=>h,b_:()=>p,n1:()=>o,sC:()=>u,sZ:()=>a,uq:()=>s});var r=function(e){return"@@redux-saga/"+e},o=r("CANCEL_PROMISE"),a=r("CHANNEL_END"),i=r("IO"),s=r("MATCH"),c=r("MULTICAST"),l=r("SAGA_ACTION"),u=r("SELF_CANCELLATION"),d=r("TASK"),h=r("TASK_CANCEL"),m=r("TERMINATE"),p=r("LOCATION")},6252:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(2784);const o=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t};function a(e){var t=o(e);return(0,r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}},89632:(e,t,n)=>{"use strict";n.d(t,{E8:()=>gt});var r=n(58536),o=n(7790),a=n(73232),i=n(43002),s=n(63699),c=n(21995);let l;function u(e){return l?l.get(e):void 0}function d(e){const t=u(e);if(!t)return;const n={};for(const[,[r,o]]of t)n[r]||(n[r]=[]),n[r].push((0,c.Jr)(o));return n}const h="sentry.source",m="sentry.sample_rate",p="sentry.op",g="sentry.origin";var f,v=n(85112);function _(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}!function(e){e.Ok="ok";e.DeadlineExceeded="deadline_exceeded";e.Unauthenticated="unauthenticated";e.PermissionDenied="permission_denied";e.NotFound="not_found";e.ResourceExhausted="resource_exhausted";e.InvalidArgument="invalid_argument";e.Unimplemented="unimplemented";e.Unavailable="unavailable";e.InternalError="internal_error";e.UnknownError="unknown_error";e.Cancelled="cancelled";e.AlreadyExists="already_exists";e.FailedPrecondition="failed_precondition";e.Aborted="aborted";e.OutOfRange="out_of_range";e.DataLoss="data_loss"}(f||(f={}));function y(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=_(t);"unknown_error"!==n&&e.setStatus(n)}class b{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class E{constructor(e={}){this._traceId=e.traceId||(0,s.DM)(),this._spanId=e.spanId||(0,s.DM)().substring(16),this._startTime=e.startTimestamp||(0,o.ph)(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[g]:e.origin||"manual",[p]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),void 0!==e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes["sentry.op"]}set op(e){this.setAttribute(p,e)}get origin(){return this._attributes["sentry.origin"]}set origin(e){this.setAttribute(g,e)}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?i.i0:i.ve}}startChild(e){const t=new E({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t);const n=(0,v.G)(this);if(t.transaction=n,a.X&&n){const o=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${(0,i.XU)(t).description||"< unknown name >"}' (${n.spanContext().spanId}).`;r.kg.log(o),this._logMessage=o}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach((t=>this.setAttribute(t,e[t])))}setStatus(e){return this._status=e,this}setHttpStatus(e){return y(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return"ok"===this._status}finish(e){return this.end(e)}end(e){if(this._endTime)return;const t=(0,v.G)(this);if(a.X&&t&&t.spanContext().spanId!==this._spanId){const e=this._logMessage;e&&r.kg.log(e.replace("Starting","Finishing"))}this._endTime=(0,i.$k)(e)}toTraceparent(){return(0,i.Hb)(this)}toContext(){return(0,c.Jr)({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return(0,i.wy)(this)}getSpanJSON(){return(0,c.Jr)({data:this._getData(),description:this._name,op:this._attributes["sentry.op"],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes["sentry.origin"],_metrics_summary:d(this),profile_id:this._attributes.profile_id,exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:t}=this,n=Object.keys(e).length>0,r=Object.keys(t).length>0;if(n||r)return n&&r?{...e,...t}:n?e:t}}var C=n(66465),S=n(92980),T=n(92642);function I(e){if("boolean"===typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=(0,T.s3)(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function w(e){if(!I())return;const t=P(e),n=(0,C.Gd)(),r=e.scope?e.scope.getSpan():A();if(e.onlyIfParent&&!r)return;const o=(e.scope||(0,T.nZ)()).clone();return k(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:o})}function A(){return(0,T.nZ)().getSpan()}function k(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:o}){if(!I())return;const a=(0,C.aF)();let s;if(t&&!r)s=t.startChild(n);else if(t){const r=(0,S.j)(t),{traceId:o,spanId:a}=t.spanContext(),c=(0,i.Tt)(t);s=e.startTransaction({traceId:o,parentSpanId:a,parentSampled:c,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}else{const{traceId:t,dsc:r,parentSpanId:i,sampled:c}={...a.getPropagationContext(),...o.getPropagationContext()};s=e.startTransaction({traceId:t,parentSpanId:i,parentSampled:c,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}return o.setSpan(s),function(e,t,n){e&&((0,c.xp)(e,R,n),(0,c.xp)(e,x,t))}(s,o,a),s}function P(e){if(e.startTime){const t={...e};return t.startTimestamp=(0,i.$k)(e.startTime),delete t.startTime,t}return e}const x="_sentryScope",R="_sentryIsolationScope";class N extends E{constructor(e,t){super(e),this._contexts={},this._hub=t||(0,C.Gd)(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes["sentry.source"]&&{source:this._attributes["sentry.source"]},...this._attributes["sentry.sample_rate"]&&{sampleRate:this._attributes["sentry.sample_rate"]}}}set metadata(e){this._metadata=e}setName(e,t="custom"){this._name=e,this.setAttribute(h,t)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new b(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const t=(0,i.$k)(e),n=this._finishTransaction(t);if(n)return this._hub.captureEvent(n)}toContext(){const e=super.toContext();return(0,c.Jr)({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return(0,S.j)(this)}setHub(e){this._hub=e}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(e){if(void 0!==this._endTime)return;this._name||(a.X&&r.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this._sampled)return a.X&&r.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(t&&t.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&(0,i.XU)(e).timestamp)):[];if(this._trimEnd&&n.length>0){const e=n.map((e=>(0,i.XU)(e).timestamp)).filter(Boolean);this._endTime=e.reduce(((e,t)=>e>t?e:t))}const{scope:o,isolationScope:s}={scope:(l=this)._sentryScope,isolationScope:l._sentryIsolationScope};var l;const{metadata:u}=this,{source:h}=u,m={contexts:{...this._contexts,trace:(0,i.wy)(this)},spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...u,capturedSpanScope:o,capturedSpanIsolationScope:s,...(0,c.Jr)({dynamicSamplingContext:(0,S.j)(this)})},_metrics_summary:d(this),...h&&{transaction_info:{source:h}}};return Object.keys(this._measurements).length>0&&(a.X&&r.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),m.measurements=this._measurements),a.X&&r.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),m}}const O={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},L=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class M extends b{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){if(e.spanContext().spanId!==this.transactionSpanId){const t=e.end;e.end=(...n)=>(this._popActivity(e.spanContext().spanId),t.apply(e,n)),void 0===(0,i.XU)(e).timestamp&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class D extends N{constructor(e,t,n=O.idleTimeout,o=O.finalTimeout,i=O.heartbeatInterval,s=!1,c=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=o,this._heartbeatInterval=i,this._onScope=s,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=L[4],this._autoFinishAllowed=!c,s&&(a.X&&r.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),t.getScope().setSpan(this)),c||this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=L[3],this.end())}),this._finalTimeout)}end(e){const t=(0,i.$k)(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){a.X&&r.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter((e=>{if(e.spanContext().spanId===this.spanContext().spanId)return!0;(0,i.XU)(e).timestamp||(e.setStatus("cancelled"),e.end(t),a.X&&r.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));const{start_timestamp:n,timestamp:o}=(0,i.XU)(e),s=n&&n<t,c=(this._finalTimeout+this._idleTimeout)/1e3,l=o&&n&&o-n<c;if(a.X){const t=JSON.stringify(e,void 0,2);s?l||r.kg.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):r.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return s&&l})),a.X&&r.kg.log("[Tracing] flushing IdleTransaction")}else a.X&&r.kg.log("[Tracing] No active IdleTransaction");if(this._onScope){const e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},n=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new M(t,n,this.spanContext().spanId,e),a.X&&r.kg.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=L[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(a.X&&r.kg.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=L[1],this.end(e))}),this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),a.X&&r.kg.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,a.X&&r.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(a.X&&r.kg.log(`[Tracing] popActivity ${e}`),delete this.activities[e],a.X&&r.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=(0,o.ph)();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=L[5],this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(a.X&&r.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=L[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){a.X&&r.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}var U=n(21240),B=n(82146);function F(e){return(e||(0,C.Gd)()).getScope().getTransaction()}let H=!1;function q(){const e=F();if(e){const t="internal_error";a.X&&r.kg.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}q.tag="sentry_tracingErrorCallback";var G=n(81757);function z(e,t,n){if(!I(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setAttribute(m,Number(e.sampled)),e;let o;return"function"===typeof t.tracesSampler?(o=t.tracesSampler(n),e.setAttribute(m,Number(o))):void 0!==n.parentSampled?o=n.parentSampled:"undefined"!==typeof t.tracesSampleRate?(o=t.tracesSampleRate,e.setAttribute(m,Number(o))):(o=1,e.setAttribute(m,o)),$(o)?o?(e.sampled=Math.random()<o,e.sampled?(a.X&&r.kg.log(`[Tracing] starting ${e.op} transaction - ${(0,i.XU)(e).description}`),e):(a.X&&r.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),e)):(a.X&&r.kg.log("[Tracing] Discarding transaction because "+("function"===typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(a.X&&r.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function $(e){return(0,G.i2)(e)||"number"!==typeof e&&"boolean"!==typeof e?(a.X&&r.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!(e<0||e>1)||(a.X&&r.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1)}function X(){const e=this.getScope().getSpan();return e?{"sentry-trace":(0,i.Hb)(e)}:{}}function V(e,t){const n=this.getClient(),o=n&&n.getOptions()||{},i=o.instrumenter||"sentry",s=e.instrumenter||"sentry";i!==s&&(a.X&&r.kg.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${i}\` instrumenter.\nThe transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),e.sampled=!1);let c=new N(e,this);return c=z(c,o,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),c.isRecording()&&c.initSpanRecorder(o._experiments&&o._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",c),c}function W(e,t,n,r,o,a,i,s=!1){const c=e.getClient(),l=c&&c.getOptions()||{};let u=new D(t,e,n,r,i,o,s);return u=z(u,l,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...a}),u.isRecording()&&u.initSpanRecorder(l._experiments&&l._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",u),u}function j(){const e=(0,C.cu)();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=V),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=X),H||(H=!0,(0,U.V)(q),(0,B.h)(q)))}var K=n(49691),Z=n(2311),Y=n(54194);const Q="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;const J=n(90063).GLOBAL_OBJ;var ee=n(69038);const te=(e,t,n)=>{let r,o;return a=>{t.value>=0&&(a||n)&&(o=t.value-(r||0),(o||void 0===r)&&(r=t.value,t.delta=o,e(t)))}},ne=()=>J.__WEB_VITALS_POLYFILL__?J.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=J.performance.timing,t=J.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const r in e)"navigationStart"!==r&&"toJSON"!==r&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n})()):J.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],re=()=>{const e=ne();return e&&e.activationStart||0},oe=(e,t)=>{const n=ne();let r="navigate";return n&&(r=J.document&&J.document.prerendering||re()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:"undefined"===typeof t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},ae=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(r){}},ie=(e,t)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==J.document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};J.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))};let se=-1;const ce=()=>(se<0&&(J.document&&J.document.visibilityState&&(se="hidden"!==J.document.visibilityState||J.document.prerendering?1/0:0),ie((({timeStamp:e})=>{se=e}),!0)),{get firstHiddenTime(){return se}});let le=0,ue=1/0,de=0;const he=e=>{e.forEach((e=>{e.interactionId&&(ue=Math.min(ue,e.interactionId),de=Math.max(de,e.interactionId),le=de?(de-ue)/7+1:0)}))};let me;const pe=()=>{"interactionCount"in performance||me||(me=ae("event",he,{type:"event",buffered:!0,durationThreshold:0}))},ge=()=>me?le:performance.interactionCount||0,fe=[],ve={},_e=e=>{const t=fe[fe.length-1],n=ve[e.interactionId];if(n||fe.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const t={id:e.interactionId,latency:e.duration,entries:[e]};ve[t.id]=t,fe.push(t)}fe.sort(((e,t)=>t.latency-e.latency)),fe.splice(10).forEach((e=>{delete ve[e.id]}))}},ye=(e,t)=>{t=t||{},pe();const n=oe("INP");let r;const o=e=>{e.forEach((e=>{if(e.interactionId&&_e(e),"first-input"===e.entryType){!fe.some((t=>t.entries.some((t=>e.duration===t.duration&&e.startTime===t.startTime))))&&_e(e)}}));const t=(()=>{const e=Math.min(fe.length-1,Math.floor(ge()/50));return fe[e]})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())},a=ae("event",o,{durationThreshold:t.durationThreshold||40});r=te(e,n,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),ie((()=>{o(a.takeRecords()),n.value<0&&ge()>0&&(n.value=0,n.entries=[]),r(!0)})))},be={},Ee=e=>{J.document&&(J.document.prerendering?addEventListener("prerenderingchange",(()=>Ee(e)),!0):"complete"!==J.document.readyState?addEventListener("load",(()=>Ee(e)),!0):setTimeout(e,0))},Ce={},Se={};let Te,Ie,we,Ae,ke;function Pe(e,t){return Ue(e,t),Se[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);ae(e,(t=>{xe(e,{entries:t})}),t)}(e),Se[e]=!0),Be(e,t)}function xe(e,t){const n=Ce[e];if(n&&n.length)for(const a of n)try{a(t)}catch(o){Q&&r.kg.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${(0,ee.$P)(a)}\nError:`,o)}}function Re(){return((e,t={})=>{const n=oe("CLS",0);let r,o=0,a=[];const i=e=>{e.forEach((e=>{if(!e.hadRecentInput){const t=a[0],i=a[a.length-1];o&&0!==a.length&&e.startTime-i.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,a.push(e)):(o=e.value,a=[e]),o>n.value&&(n.value=o,n.entries=a,r&&r())}}))},s=ae("layout-shift",i);if(s){r=te(e,n,t.reportAllChanges);const o=()=>{i(s.takeRecords()),r(!0)};return ie(o),o}})((e=>{xe("cls",{metric:e}),Te=e}),{reportAllChanges:!0})}function Ne(){return(e=>{const t=ce(),n=oe("FID");let r;const o=e=>{e.startTime<t.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),r(!0))},a=e=>{e.forEach(o)},i=ae("first-input",a);r=te(e,n),i&&ie((()=>{a(i.takeRecords()),i.disconnect()}),!0)})((e=>{xe("fid",{metric:e}),Ie=e}))}function Oe(){return(e=>{const t=ce(),n=oe("LCP");let r;const o=e=>{const o=e[e.length-1];if(o){const e=Math.max(o.startTime-re(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[o],r())}},a=ae("largest-contentful-paint",o);if(a){r=te(e,n);const t=()=>{be[n.id]||(o(a.takeRecords()),a.disconnect(),be[n.id]=!0,r(!0))};return["keydown","click"].forEach((e=>{J.document&&addEventListener(e,t,{once:!0,capture:!0})})),ie(t,!0),t}})((e=>{xe("lcp",{metric:e}),we=e}))}function Le(){return((e,t)=>{t=t||{};const n=oe("TTFB"),r=te(e,n,t.reportAllChanges);Ee((()=>{const e=ne();if(e){if(n.value=Math.max(e.responseStart-re(),0),n.value<0||n.value>performance.now())return;n.entries=[e],r(!0)}}))})((e=>{xe("ttfb",{metric:e}),Ae=e}))}function Me(){return ye((e=>{xe("inp",{metric:e}),ke=e}))}function De(e,t,n,r,o=!1){let a;return Ue(e,t),Se[e]||(a=n(),Se[e]=!0),r&&t({metric:r}),Be(e,t,o?a:void 0)}function Ue(e,t){Ce[e]=Ce[e]||[],Ce[e].push(t)}function Be(e,t,n){return()=>{n&&n();const r=Ce[e];if(!r)return;const o=r.indexOf(t);-1!==o&&r.splice(o,1)}}var Fe=n(73135),He=n(46894);function qe(e){return[{type:"span"},e]}var Ge=n(33483);function ze(e){return"number"===typeof e&&isFinite(e)}function $e(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}function Xe(e){return e/1e3}function Ve(){return J&&J.addEventListener&&J.performance}let We,je,Ke=0,Ze={};function Ye(){const e=Ve();if(e&&o.Z1){e.mark&&J.performance.mark("sentry-tracing-init");const t=function(){return e=({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Xe(o.Z1),a=Xe(t.startTime);Q&&r.kg.log("[Measurements] Adding FID"),Ze.fid={value:e.value,unit:"millisecond"},Ze["mark.fid"]={value:n+a,unit:"second"}},De("fid",e,Ne,Ie);var e}(),n=function(e,t=!1){return De("cls",e,Re,Te,t)}((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Q&&r.kg.log("[Measurements] Adding CLS"),Ze.cls={value:e.value,unit:""},je=t)}),!0),a=function(e,t=!1){return De("lcp",e,Oe,we,t)}((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Q&&r.kg.log("[Measurements] Adding LCP"),Ze.lcp={value:e.value,unit:"millisecond"},We=t)}),!0),i=function(){return e=({metric:e})=>{e.entries[e.entries.length-1]&&(Q&&r.kg.log("[Measurements] Adding TTFB"),Ze.ttfb={value:e.value,unit:"millisecond"})},De("ttfb",e,Le,Ae);var e}();return()=>{t(),n(),a(),i()}}return()=>{}}function Qe(e,t){if(Ve()&&o.Z1){const n=function(e,t){return n=({metric:n})=>{if(void 0===n.value)return;const a=n.entries.find((e=>e.duration===n.value&&void 0!==Je[e.name])),i=(0,T.s3)();if(!a||!i)return;const s=Je[a.name],c=i.getOptions(),l=Xe(o.Z1+a.startTime),u=Xe(n.value),d=void 0!==a.interactionId?e[a.interactionId]:void 0;if(void 0===d)return;const{routeName:h,parentContext:m,activeTransaction:p,user:g,replayId:f}=d,v=void 0!==g?g.email||g.id||g.ip_address:void 0,_=void 0!==p?p.getProfileId():void 0,y=new E({startTimestamp:l,endTimestamp:l+u,op:`ui.interaction.${s}`,name:(0,Y.Rt)(a.target),attributes:{release:c.release,environment:c.environment,transaction:h,...void 0!==v&&""!==v?{user:v}:{},...void 0!==_?{profile_id:_}:{},...void 0!==f?{replay_id:f}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),b=function(e,t,n){if(!I(t))return!1;let o;return o=void 0!==e&&"function"===typeof t.tracesSampler?t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:J.location}):void 0!==e&&void 0!==e.sampled?e.sampled:"undefined"!==typeof t.tracesSampleRate?t.tracesSampleRate:1,$(o)?!0===o?n:!1===o?0:o*n:(Q&&r.kg.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}(m,c,t);if(b&&Math.random()<b){const e=y?function(t,n){const r={sent_at:(new Date).toISOString()};n&&(r.dsn=(0,Fe.RA)(n));const o=t.map(qe);return(0,e.Jd)(r,o)}([y],i.getDsn()):void 0,t=i&&i.getTransport();t&&e&&t.send(e).then(null,(e=>{Q&&r.kg.error("Error while sending interaction:",e)}))}},De("inp",n,Me,ke);var n}(e,t);return()=>{n()}}return()=>{}}const Je={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function et(e){const t=Ve();if(!t||!J.performance.getEntries||!o.Z1)return;Q&&r.kg.log("[Tracing] Adding & adjusting spans using Performance API");const n=Xe(o.Z1),a=t.getEntries(),{op:s,start_timestamp:c}=(0,i.XU)(e);if(a.slice(Ke).forEach((t=>{const o=Xe(t.startTime),a=Xe(t.duration);if(!("navigation"===e.op&&c&&n+o<c))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{tt(e,t,r,n)})),tt(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),tt(e,t,"fetch",n,"cache","domainLookupStart"),tt(e,t,"domainLookup",n,"DNS"),function(e,t,n){t.responseEnd&&($e(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+Xe(t.requestStart),endTimestamp:n+Xe(t.responseEnd)}),$e(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+Xe(t.responseStart),endTimestamp:n+Xe(t.responseEnd)}))}(e,t,n)}(e,t,n);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,o){const a=o+n,i=a+r;$e(e,{description:t.name,endTimestamp:i,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:a})}(e,t,o,a,n);const i=ce(),s=t.startTime<i.firstHiddenTime;"first-paint"===t.name&&s&&(Q&&r.kg.log("[Measurements] Adding FP"),Ze.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&s&&(Q&&r.kg.log("[Measurements] Adding FCP"),Ze.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,o,a){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const i=(0,Ge.en)(n),s={};nt(s,t,"transferSize","http.response_transfer_size"),nt(s,t,"encodedBodySize","http.response_content_length"),nt(s,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(s["resource.render_blocking_status"]=t.renderBlockingStatus);i.protocol&&(s["url.scheme"]=i.protocol.split(":").pop());i.host&&(s["server.address"]=i.host);s["url.same_origin"]=n.includes(J.location.origin);const c=a+r,l=c+o;$e(e,{description:n.replace(J.location.origin,""),endTimestamp:l,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:s})}(e,t,t.name,o,a,n)}})),Ke=Math.max(a.length-1,0),function(e){const t=J.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),ze(n.rtt)&&(Ze["connection.rtt"]={value:n.rtt,unit:"millisecond"}));ze(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`);ze(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===s){!function(e){const t=ne();if(!t)return;const{responseStart:n,requestStart:o}=t;o<=n&&(Q&&r.kg.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-o,unit:"millisecond"})}(Ze),["fcp","fp","lcp"].forEach((e=>{if(!Ze[e]||!c||n>=c)return;const t=Ze[e].value,o=n+Xe(t),a=Math.abs(1e3*(o-c)),i=a-t;Q&&r.kg.log(`[Measurements] Normalized ${e} from ${t} to ${a} (${i})`),Ze[e].value=a}));const t=Ze["mark.fid"];t&&Ze.fid&&($e(e,{description:"first input delay",endTimestamp:t.value+Xe(Ze.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete Ze["mark.fid"]),"fcp"in Ze||delete Ze.cls,Object.keys(Ze).forEach((e=>{!function(e,t,n){const r=F();r&&r.setMeasurement(e,t,n)}(e,Ze[e].value,Ze[e].unit)})),function(e){We&&(Q&&r.kg.log("[Measurements] Adding LCP Data"),We.element&&e.setTag("lcp.element",(0,Y.Rt)(We.element)),We.id&&e.setTag("lcp.id",We.id),We.url&&e.setTag("lcp.url",We.url.trim().slice(0,200)),e.setTag("lcp.size",We.size));je&&je.sources&&(Q&&r.kg.log("[Measurements] Adding CLS Data"),je.sources.forEach(((t,n)=>e.setTag(`cls.source.${n+1}`,(0,Y.Rt)(t.node)))))}(e)}We=void 0,je=void 0,Ze={}}function tt(e,t,n,r,o,a){const i=a?t[a]:t[`${n}End`],s=t[`${n}Start`];s&&i&&$e(e,{op:"browser",origin:"auto.browser.browser.metrics",description:o||n,startTimestamp:r+Xe(s),endTimestamp:r+Xe(i)})}function nt(e,t,n,r){const o=t[n];null!=o&&o<2147483647&&(e[r]=o)}var rt=n(12633),ot=n(28315),at=n(39660),it=n(46990);function st(e,t,n,r,o="auto.http.browser"){if(!I()||!e.fetchData)return;const a=t(e.fetchData.url);if(e.endTimestamp&&a){const t=e.fetchData.__span;if(!t)return;const n=r[t];return void(n&&(!function(e,t){if(t.response){y(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus("internal_error");e.end()}(n,e),delete r[t]))}const s=(0,T.nZ)(),c=(0,T.s3)(),{method:l,url:u}=e.fetchData,d=function(e){try{return new URL(e).href}catch(t){return}}(u),h=d?(0,Ge.en)(d).host:void 0,m=a?w({name:`${l} ${u}`,onlyIfParent:!0,attributes:{url:u,type:"fetch","http.method":l,"http.url":d,"server.address":h,[g]:o},op:"http.client"}):void 0;if(m&&(e.fetchData.__span=m.spanContext().spanId,r[m.spanContext().spanId]=m),n(e.fetchData.url)&&c){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=function(e,t,n,r,o){const a=o||n.getSpan(),s=(0,C.aF)(),{traceId:c,spanId:l,sampled:u,dsc:d}={...s.getPropagationContext(),...n.getPropagationContext()},h=a?(0,i.Hb)(a):(0,K.$p)(c,l,u),m=(0,it.IQ)(d||(a?(0,S.j)(a):(0,S._)(c,t,n))),p=r.headers||("undefined"!==typeof Request&&(0,G.V9)(e,Request)?e.headers:void 0);if(p){if("undefined"!==typeof Headers&&(0,G.V9)(p,Headers)){const e=new Headers(p);return e.append("sentry-trace",h),m&&e.append(it.bU,m),e}if(Array.isArray(p)){const e=[...p,["sentry-trace",h]];return m&&e.push([it.bU,m]),e}{const e="baggage"in p?p.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),m&&t.push(m),{...p,"sentry-trace":h,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":h,baggage:m}}(t,c,s,n,m)}return m}const ct=["localhost",/^\/(?!\/)/],lt={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:ct,tracePropagationTargets:ct};function ut(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:o,shouldCreateSpanForRequest:a,enableHTTPTimings:s}={traceFetch:lt.traceFetch,traceXHR:lt.traceXHR,...e},c="function"===typeof a?a:e=>!0,l=e=>function(e,t){return(0,at.U0)(e,t||ct)}(e,r||o),u={};t&&(0,rt.U)((e=>{const t=st(e,c,l,u);if(t){const n=mt(e.fetchData.url),r=n?(0,Ge.en)(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r})}s&&t&&dt(t)})),n&&(0,ot.UK)((e=>{const t=function(e,t,n,r){const o=e.xhr,a=o&&o[ot.xU];if(!I()||!o||o.__sentry_own_request__||!a)return;const s=t(a.url);if(e.endTimestamp&&s){const e=o.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==a.status_code&&(y(t,a.status_code),t.end(),delete r[e]))}const c=(0,T.nZ)(),l=(0,C.aF)(),u=mt(a.url),d=u?(0,Ge.en)(u).host:void 0,h=s?w({name:`${a.method} ${a.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":a.method,"http.url":u,url:a.url,"server.address":d,[g]:"auto.http.browser"},op:"http.client"}):void 0;h&&(o.__sentry_xhr_span_id__=h.spanContext().spanId,r[o.__sentry_xhr_span_id__]=h);const m=(0,T.s3)();if(o.setRequestHeader&&n(a.url)&&m){const{traceId:e,spanId:t,sampled:n,dsc:r}={...l.getPropagationContext(),...c.getPropagationContext()};!function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(it.bU,n)}catch(r){}}(o,h?(0,i.Hb)(h):(0,K.$p)(e,t,n),(0,it.IQ)(r||(h?(0,S.j)(h):(0,S._)(e,m,c))))}return h}(e,c,l,u);s&&t&&dt(t)}))}function dt(e){const{url:t}=(0,i.XU)(e).data||{};if(!t||"string"!==typeof t)return;const n=Pe("resource",(({entries:r})=>{r.forEach((r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"===typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){(function(e){const{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(const o of e){if("/"===o){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=o}r===e&&(t=r);return{name:t,version:n}}(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!o.Z1)return r;return[...r,["http.request.redirect_start",ht(e.redirectStart)],["http.request.fetch_start",ht(e.fetchStart)],["http.request.domain_lookup_start",ht(e.domainLookupStart)],["http.request.domain_lookup_end",ht(e.domainLookupEnd)],["http.request.connect_start",ht(e.connectStart)],["http.request.secure_connection_start",ht(e.secureConnectionStart)],["http.request.connection_end",ht(e.connectEnd)],["http.request.request_start",ht(e.requestStart)],["http.request.response_start",ht(e.responseStart)],["http.request.response_end",ht(e.responseEnd)]]})(r).forEach((t=>e.setAttribute(...t))),setTimeout(n)}}))}))}function ht(e=0){return((o.Z1||performance.timeOrigin)+e)/1e3}function mt(e){try{return new URL(e,J.location.origin).href}catch(t){return}}const pt={...O,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...lt},gt=(e={})=>{const t=!!Q&&!(!e.tracePropagationTargets&&!e.tracingOrigins);j(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...pt,...e},a=Ye(),s={};n.enableInp&&Qe(s,n.interactionsSampleRate),n.enableLongTask&&Pe("longtask",(({entries:e})=>{for(const t of e){const e=F();if(!e)return;const n=Xe(o.Z1+t.startTime),r=Xe(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}})),n._experiments.enableInteractions&&Pe("event",(({entries:e})=>{for(const t of e){const e=F();if(!e)return;if("click"===t.name){const n=Xe(o.Z1+t.startTime),r=Xe(t.duration),a={description:(0,Y.Rt)(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r},i=(0,Y.iY)(t.target);i&&(a.attributes={"ui.component_name":i}),e.startChild(a)}}}));const c={name:void 0,context:void 0};function l(e){const t=(0,C.Gd)(),{beforeStartSpan:o,idleTimeout:i,finalTimeout:s,heartbeatInterval:l}=n,u="pageload"===e.op;let d;if(u){const t=u?ft("sentry-trace"):"",n=u?ft("baggage"):void 0,{traceId:r,dsc:o,parentSpanId:a,sampled:i}=(0,K.pT)(t,n);d={traceId:r,parentSpanId:a,parentSampled:i,...e,metadata:{...e.metadata,dynamicSamplingContext:o},trimEnd:!0}}else d={trimEnd:!0,...e};const h=o?o(d):d;h.metadata=h.name!==d.name?{...h.metadata,source:"custom"}:h.metadata,c.name=h.name,c.context=h,!1===h.sampled&&Q&&r.kg.log(`[Tracing] Will not send ${h.op} transaction because of beforeNavigate.`),Q&&r.kg.log(`[Tracing] Starting ${h.op} transaction on scope`);const{location:m}=J,p=W(t,h,i,s,!0,{location:m},l,u);return u&&J.document&&(J.document.addEventListener("readystatechange",(()=>{["interactive","complete"].includes(J.document.readyState)&&p.sendAutoFinishSignal()})),["interactive","complete"].includes(J.document.readyState)&&p.sendAutoFinishSignal()),p.registerBeforeFinishCallback((e=>{a(),et(e)})),p}return{name:"BrowserTracing",setupOnce:()=>{},afterAllSetup(e){const a=e.getOptions(),{markBackgroundSpan:u,traceFetch:d,traceXHR:m,shouldCreateSpanForRequest:p,enableHTTPTimings:g,_experiments:f}=n,v=a&&a.tracePropagationTargets,_=v||n.tracePropagationTargets;let y;Q&&t&&v&&r.kg.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let b=J.location&&J.location.href;if(e.on&&(e.on("startNavigationSpan",(e=>{y&&(Q&&r.kg.log(`[Tracing] Finishing current transaction with op: ${(0,i.XU)(y).op}`),y.end()),y=l({op:"navigation",...e})})),e.on("startPageLoadSpan",(e=>{y&&(Q&&r.kg.log(`[Tracing] Finishing current transaction with op: ${(0,i.XU)(y).op}`),y.end()),y=l({op:"pageload",...e})}))),n.instrumentPageLoad&&e.emit&&J.location){const t={name:J.location.pathname,startTimestamp:o.Z1?o.Z1/1e3:void 0,origin:"auto.pageload.browser",attributes:{[h]:"url"}};!function(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=A();n&&(0,i.XU)(n).op}(e,t)}n.instrumentNavigation&&e.emit&&J.location&&(0,Z.a)((({to:t,from:n})=>{if(void 0===n&&b&&-1!==b.indexOf(t))b=void 0;else if(n!==t){b=void 0;const t={name:J.location.pathname,origin:"auto.navigation.browser",attributes:{[h]:"url"}};!function(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=A();n&&(0,i.XU)(n).op}(e,t)}})),u&&(J.document?J.document.addEventListener("visibilitychange",(()=>{const e=F();if(J.document.hidden&&e){const t="cancelled",{op:n,status:o}=(0,i.XU)(e);Q&&r.kg.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),o||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}})):Q&&r.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),f.enableInteractions&&function(e,t){let n;const o=()=>{const{idleTimeout:o,finalTimeout:a,heartbeatInterval:i}=e,s="ui.action.click",c=F();if(c&&c.op&&["navigation","pageload"].includes(c.op))return void(Q&&r.kg.warn(`[Tracing] Did not create ${s} transaction because a pageload or navigation transaction is in progress.`));if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name)return void(Q&&r.kg.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`));const{location:l}=J,u={name:t.name,op:s,trimEnd:!0,data:{[h]:t.context?vt(t.context):"url"}};n=W((0,C.Gd)(),u,o,a,!0,{location:l},i)};["click"].forEach((e=>{J.document&&addEventListener(e,o,{once:!1,capture:!0})}))}(n,c),n.enableInp&&function(e,t){const n=({entries:n})=>{const r=(0,T.s3)(),o=void 0!==r&&void 0!==r.getIntegrationByName?r.getIntegrationByName("Replay"):void 0,a=void 0!==o?o.getReplayId():void 0,i=F(),s=(0,T.nZ)(),c=void 0!==s?s.getUser():void 0;n.forEach((n=>{if(function(e){return"duration"in e}(n)){const r=n.interactionId;if(void 0===r)return;const o=e[r],s=n.duration,l=n.startTime,u=Object.keys(e),d=u.length>0?u.reduce(((t,n)=>e[t].duration<e[n].duration?t:n)):void 0;if("first-input"===n.entryType){if(u.map((t=>e[t])).some((e=>e.duration===s&&e.startTime===l)))return}if(!r)return;if(o)o.duration=Math.max(o.duration,s);else if(u.length<10||void 0===d||s>e[d].duration){const n=t.name,o=t.context;n&&o&&(d&&Object.keys(e).length>=10&&delete e[d],e[r]={routeName:n,duration:s,parentContext:o,user:c,activeTransaction:i,replayId:a,startTime:l})}}}))};Pe("event",n),Pe("first-input",n)}(s,c),ut({traceFetch:d,traceXHR:m,tracePropagationTargets:_,shouldCreateSpanForRequest:p,enableHTTPTimings:g})},options:n}};function ft(e){const t=(0,Y.qT)(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function vt(e){const t=e.attributes&&e.attributes["sentry.source"],n=e.data&&e.data["sentry.source"],r=e.metadata&&e.metadata.source;return t||n||r}},91485:(e,t,n)=>{"use strict";n.d(t,{R:()=>x});var r=n(73135),o=n(58536),a=n(63699),i=n(81757),s=n(97946),c=n(46894),l=n(94388),u=n(21995);function d(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function h(e,t={}){const n="string"===typeof t?t:t.tunnel,r="string"!==typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${d(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return(0,u._j)({sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}})}(e,r)}`}var m=n(73232);var p=n(66465),g=n(48889);function f(e,t,n,o){const a={sent_at:(new Date).toISOString()};n&&n.sdk&&(a.sdk={name:n.sdk.name,version:n.sdk.version}),o&&t&&(a.dsn=(0,r.RA)(t));const i=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),r=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return(0,c.Jd)(a,[i])}var v=n(48364),_=n(92980),y=n(48738);const b="Not capturing exception because it's already been captured.";function E(e){return void 0===e.type}function C(e){return"transaction"===e.type}var S=n(76122);var T=n(7790);function I(e,t,n){const r=[{type:"client_report"},{timestamp:n||(0,T.yW)(),discarded_events:e}];return(0,c.Jd)(t?{dsn:t}:{},[r])}var w=n(57631),A=n(31988),k=n(12634);function P(e,{metadata:t,tunnel:n,dsn:o}){const a={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!o&&{dsn:(0,r.RA)(o)}},i=function(e){return[{type:"user_report"},e]}(e);return(0,c.Jd)(a,[i])}class x extends class{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=(0,r.vK)(e.dsn):m.X&&o.kg.warn("No DSN provided, client will not send events."),this._dsn){const t=h(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if((0,a.YO)(e))return void(m.X&&o.kg.log(b));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let o=n&&n.event_id;const a=(0,i.Le)(e)?e:String(e),s=(0,i.pt)(e)?this.eventFromMessage(a,t,n):this.eventFromException(e,n);return this._process(s.then((e=>this._captureEvent(e,n,r))).then((e=>{o=e}))),o}captureEvent(e,t,n){if(t&&t.originalException&&(0,a.YO)(t.originalException))return void(m.X&&o.kg.log(b));let r=t&&t.event_id;const i=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,i||n).then((e=>{r=e}))),r}captureSession(e){"string"!==typeof e.release?m.X&&o.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,v.CT)(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):(0,s.WD)(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return m.X&&o.kg.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const t=this._integrations[e.name];(0,g.m7)(this,e,this._integrations),t||(0,g.uf)(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=function(e,t,n,r){const o=(0,c.HY)(n),a=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const i=(0,c.Cd)(e,o,r,t);delete e.sdkProcessingMetadata;const s=[{type:a},e];return(0,c.Jd)(i,[s])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const o of t.attachments||[])n=(0,c.BO)(n,(0,c.zQ)(o,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,o){const a=(0,c.HY)(n),i={sent_at:(new Date).toISOString(),...a&&{sdk:a},...!!o&&t&&{dsn:(0,r.RA)(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return(0,c.Jd)(i,[s])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;m.X&&o.kg.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}captureAggregateMetrics(e){m.X&&o.kg.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=f(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=(0,g.q4)(this,e),(0,g.uf)(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,r=!1;const o=t.exception&&t.exception.values;if(o){r=!0;for(const e of o){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const a="ok"===e.status;(a&&0===e.errors||a&&n)&&((0,v.CT)(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new s.cW((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=(0,p.aF)()){const o=this.getOptions(),a=Object.keys(this._integrations);return!t.integrations&&a.length>0&&(t.integrations=a),this.emit("preprocessEvent",e,t),(0,y.R)(o,e,t,n,this,r).then((e=>{if(null===e)return e;const t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:r,spanId:o,parentSpanId:a,dsc:i}=t;e.contexts={trace:{trace_id:r,span_id:o,parent_span_id:a},...e.contexts};const s=i||(0,_._)(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:s,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(m.X){const t=e;"log"===t.logLevel?o.kg.log(t.message):o.kg.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:o}=r,a=C(e),c=E(e),u=e.type||"error",d=`before send for type \`${u}\``;if(c&&"number"===typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),(0,s.$2)(new l.b(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const h="replay_event"===u?"replay":u,m=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,m).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",h,e),new l.b("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const o=function(e,t,n){const{beforeSend:r,beforeSendTransaction:o}=e;if(E(t)&&r)return r(t,n);if(C(t)&&o)return o(t,n);return t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if((0,i.J8)(e))return e.then((e=>{if(!(0,i.PO)(e)&&null!==e)throw new l.b(n);return e}),(e=>{throw new l.b(`${t} rejected with ${e}`)}));if(!(0,i.PO)(e)&&null!==e)throw new l.b(n);return e}(o,d)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",h,e),new l.b(`${d} returned \`null\`, will not send event.`,"log");const o=n&&n.getSession();!a&&o&&this._updateSessionFromEvent(o,r);const i=r.transaction_info;if(a&&i&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...i,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof l.b)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new l.b(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{m.X&&o.kg.error("Error while sending event:",e)}));m.X&&o.kg.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}{constructor(e){const t=k.m9.SENTRY_SDK_SOURCE||"npm";(0,S.V)(e,"browser",["browser"],t),super(e),e.sendClientReports&&k.m9.document&&k.m9.document.addEventListener("visibilitychange",(()=>{"hidden"===k.m9.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return(0,A.dr)(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return(0,A.aB)(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(w.X&&o.kg.warn("SDK not enabled, will not capture user feedback."));const t=P(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(w.X&&o.kg.log("No outcomes to send"));if(!this._dsn)return void(w.X&&o.kg.log("No dsn provided, will not send outcomes"));w.X&&o.kg.log("Sending outcomes:",e);const t=I(e,this._options.tunnel&&(0,r.RA)(this._dsn));this._sendEnvelope(t)}}},57631:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});const r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},31988:(e,t,n)=>{"use strict";n.d(t,{GJ:()=>l,ME:()=>f,aB:()=>g,dr:()=>p});var r=n(92642),o=n(81757),a=n(69180),i=n(63699),s=n(97946),c=n(21995);function l(e,t){const n=d(e,t),r={type:t&&t.name,value:m(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function u(e,t){return{exception:{values:[l(e,t)]}}}function d(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"===typeof e.framesToPop)return e.framesToPop;if(h.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(o){}return[]}const h=/Minified React error #\d+;/i;function m(e){const t=e&&e.message;return t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}function p(e,t,n,r){const o=f(e,t,n&&n.syntheticException||void 0,r);return(0,i.EG)(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),(0,s.WD)(o)}function g(e,t,n="info",r,o){const a=v(e,t,r&&r.syntheticException||void 0,o);return a.level=n,r&&r.event_id&&(a.event_id=r.event_id),(0,s.WD)(a)}function f(e,t,n,s,c){let l;if((0,o.VW)(t)&&t.error){return u(e,t.error)}if((0,o.TX)(t)||(0,o.fm)(t)){const r=t;if("stack"in t)l=u(e,t);else{const t=r.name||((0,o.TX)(r)?"DOMError":"DOMException"),a=r.message?`${t}: ${r.message}`:t;l=v(e,a,n,s),(0,i.Db)(l,a)}return"code"in r&&(l.tags={...l.tags,"DOMException.code":`${r.code}`}),l}if((0,o.VZ)(t))return u(e,t);if((0,o.PO)(t)||(0,o.cO)(t)){return l=function(e,t,n,i){const s=(0,r.s3)(),c=s&&s.getOptions().normalizeDepth,l={exception:{values:[{type:(0,o.cO)(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:_(t,{isUnhandledRejection:i})}]},extra:{__serialized__:(0,a.Qy)(t,c)}};if(n){const t=d(e,n);t.length&&(l.exception.values[0].stacktrace={frames:t})}return l}(e,t,n,c),(0,i.EG)(l,{synthetic:!0}),l}return l=v(e,t,n,s),(0,i.Db)(l,`${t}`,void 0),(0,i.EG)(l,{synthetic:!0}),l}function v(e,t,n,r){const a={};if(r&&n){const r=d(e,n);r.length&&(a.exception={values:[{value:t,stacktrace:{frames:r}}]})}if((0,o.Le)(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return a.logentry={message:e,params:n},a}return a.message=t,a}function _(e,{isUnhandledRejection:t}){const n=(0,c.zf)(e),r=t?"promise rejection":"exception";if((0,o.VW)(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if((0,o.cO)(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(t){}}(e)}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}},12634:(e,t,n)=>{"use strict";n.d(t,{Wz:()=>l,m9:()=>s,re:()=>d});var r=n(92642),o=n(90063),a=n(21995),i=n(63699);const s=o.GLOBAL_OBJ;let c=0;function l(){return c>0}function u(){c++,setTimeout((()=>{c--}))}function d(e,t={},n){if("function"!==typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if((0,a.HK)(e))return e}catch(s){return e}const o=function(){const o=Array.prototype.slice.call(arguments);try{n&&"function"===typeof n&&n.apply(this,arguments);const r=o.map((e=>d(e,t)));return e.apply(this,r)}catch(a){throw u(),(0,r.$e)((e=>{e.addEventProcessor((e=>(t.mechanism&&((0,i.Db)(e,void 0,void 0),(0,i.EG)(e,t.mechanism)),e.extra={...e.extra,arguments:o},e))),(0,r.Tb)(a)})),a}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])}catch(c){}(0,a.$Q)(o,e),(0,a.xp)(e,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get:()=>e.name})}catch(c){}return o}},46854:(e,t,n)=>{"use strict";n.d(t,{f:()=>P});var r=n(48889),o=n(92642),a=n(58536),i=n(21995),s=n(90063),c=n(94618);function l(){"console"in s.GLOBAL_OBJ&&a.RU.forEach((function(e){e in s.GLOBAL_OBJ.console&&(0,i.hl)(s.GLOBAL_OBJ.console,e,(function(t){return a.LD[e]=t,function(...t){const n={args:t,level:e};(0,c.rK)("console",n);const r=a.LD[e];r&&r.apply(s.GLOBAL_OBJ.console,t)}}))}))}var u=n(63699);const d=s.GLOBAL_OBJ;let h,m,p;function g(){if(!d.document)return;const e=c.rK.bind(null,"dom"),t=f(e,!0);d.document.addEventListener("click",t,!1),d.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=d[t]&&d[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,i.hl)(n,"addEventListener",(function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this,a=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},i=a[n]=a[n]||{refCount:0};if(!i.handler){const r=f(e);i.handler=r,t.call(this,n,r,o)}i.refCount++}catch(a){}return t.call(this,n,r,o)}})),(0,i.hl)(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,o=n.__sentry_instrumentation_handlers__||{},a=o[t];a&&(a.refCount--,a.refCount<=0&&(e.call(this,t,a.handler,r),a.handler=void 0,delete o[t]),0===Object.keys(o).length&&delete n.__sentry_instrumentation_handlers__)}catch(o){}return e.call(this,t,n,r)}})))}))}function f(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(t){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;(0,i.xp)(n,"_sentryCaptured",!0),r&&!r._sentryId&&(0,i.xp)(r,"_sentryId",(0,u.DM)());const o="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==m)return!1;try{if(!e.target||e.target._sentryId!==p)return!1}catch(t){}return!0}(n)){e({event:n,name:o,global:t}),m=n.type,p=r?r._sentryId:void 0}clearTimeout(h),h=d.setTimeout((()=>{p=void 0,m=void 0}),1e3)}}var v=n(28315),_=n(12633),y=n(2311),b=n(54194);const E=["fatal","error","warning","log","info","debug"];function C(e){return"warn"===e?"warning":E.includes(e)?e:"log"}var S=n(39660),T=n(33483),I=n(57631),w=n(12634);const A=1024,k="Breadcrumbs",P=(0,r._I)(((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:k,setupOnce(){},setup(e){var n;t.console&&function(e){const t="console";(0,c.Hj)(t,e),(0,c.D2)(t,l)}(function(e){return function(t){if((0,o.s3)()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:C(t.level),message:(0,S.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${(0,S.nK)(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}(0,o.n_)(n,{input:t.args,level:t.level})}}(e)),t.dom&&(n=function(e,t){return function(n){if((0,o.s3)()!==e)return;let r,i,s="object"===typeof t?t.serializeAttribute:void 0,c="object"===typeof t&&"number"===typeof t.maxStringLength?t.maxStringLength:void 0;c&&c>A&&(I.X&&a.kg.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${c} was configured. Sentry will use 1024 instead.`),c=A),"string"===typeof s&&(s=[s]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=(0,b.Rt)(t,{keyAttrs:s,maxStringLength:c}),i=(0,b.iY)(t)}catch(u){r="<unknown>"}if(0===r.length)return;const l={category:`ui.${n.name}`,message:r};i&&(l.data={"ui.component_name":i}),(0,o.n_)(l,{event:n.event,name:n.name,global:n.global})}}(e,t.dom),(0,c.Hj)("dom",n),(0,c.D2)("dom",g)),t.xhr&&(0,v.UK)(function(e){return function(t){if((0,o.s3)()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,a=t.xhr[v.xU];if(!n||!r||!a)return;const{method:i,url:s,status_code:c,body:l}=a,u={method:i,url:s,status_code:c},d={xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:r};(0,o.n_)({category:"xhr",data:u,type:"http"},d)}}(e)),t.fetch&&(0,_.U)(function(e){return function(t){if((0,o.s3)()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){const e=t.fetchData,a={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r};(0,o.n_)({category:"fetch",data:e,level:"error",type:"http"},a)}else{const e=t.response,a={...t.fetchData,status_code:e&&e.status},i={input:t.args,response:e,startTimestamp:n,endTimestamp:r};(0,o.n_)({category:"fetch",data:a,type:"http"},i)}}}(e)),t.history&&(0,y.a)(function(e){return function(t){if((0,o.s3)()!==e)return;let n=t.from,r=t.to;const a=(0,T.en)(w.m9.location.href);let i=n?(0,T.en)(n):void 0;const s=(0,T.en)(r);i&&i.path||(i=a),a.protocol===s.protocol&&a.host===s.host&&(r=s.relative),a.protocol===i.protocol&&a.host===i.host&&(n=i.relative),(0,o.n_)({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function(e){return function(t){(0,o.s3)()===e&&(0,o.n_)({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,u.jH)(t)},{event:t})}}(e))}}}));(0,r.RN)(k,P)},22605:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var r=n(48889),o=n(12634);const a="HttpContext",i=(0,r._I)((()=>({name:a,setupOnce(){},preprocessEvent(e){if(!o.m9.navigator&&!o.m9.location&&!o.m9.document)return;const t=e.request&&e.request.url||o.m9.location&&o.m9.location.href,{referrer:n}=o.m9.document||{},{userAgent:r}=o.m9.navigator||{},a={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:a};e.request=i}})));(0,r.RN)(a,i)},53399:(e,t,n)=>{"use strict";n.d(t,{t:()=>l});var r=n(48889),o=n(21995),a=n(69038),i=n(12634);const s=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],c="TryCatch",l=(0,r._I)(((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:c,setupOnce(){t.setTimeout&&(0,o.hl)(i.m9,"setTimeout",u),t.setInterval&&(0,o.hl)(i.m9,"setInterval",u),t.requestAnimationFrame&&(0,o.hl)(i.m9,"requestAnimationFrame",d),t.XMLHttpRequest&&"XMLHttpRequest"in i.m9&&(0,o.hl)(XMLHttpRequest.prototype,"send",h);const e=t.eventTarget;if(e){(Array.isArray(e)?e:s).forEach(m)}}}}));(0,r.RN)(c,l);function u(e){return function(...t){const n=t[0];return t[0]=(0,i.re)(n,{mechanism:{data:{function:(0,a.$P)(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function d(e){return function(t){return e.apply(this,[(0,i.re)(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,a.$P)(e)},handled:!1,type:"instrument"}})])}}function h(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"===typeof n[e]&&(0,o.hl)(n,e,(function(t){const n={mechanism:{data:{function:e,handler:(0,a.$P)(t)},handled:!1,type:"instrument"}},r=(0,o.HK)(t);return r&&(n.mechanism.data.handler=(0,a.$P)(r)),(0,i.re)(t,n)}))})),e.apply(this,t)}}function m(e){const t=i.m9,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,o.hl)(n,"addEventListener",(function(t){return function(n,r,o){try{"function"===typeof r.handleEvent&&(r.handleEvent=(0,i.re)(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,a.$P)(r),target:e},handled:!1,type:"instrument"}}))}catch(s){}return t.apply(this,[n,(0,i.re)(r,{mechanism:{data:{function:"addEventListener",handler:(0,a.$P)(r),target:e},handled:!1,type:"instrument"}}),o])}})),(0,o.hl)(n,"removeEventListener",(function(e){return function(t,n,r){const o=n;try{const n=o&&o.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(a){}return e.call(this,t,o,r)}})))}},2224:(e,t,n)=>{"use strict";n.d(t,{Dt:()=>h});var r=n(69038);const o="?";function a(e,t,n,r){const o={filename:e,function:t,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const i=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/\((\S*)(?::(\d+))(?::(\d+))\)/,c=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,d=[[30,e=>{const t=i.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=s.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=m(t[1]||o,t[2]);return a(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=c.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=l.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||o;return[n,e]=m(n,e),a(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=u.exec(e);return t?a(t[2],t[1]||o,+t[3],t[4]?+t[4]:void 0):void 0}]],h=(0,r.pE)(...d),m=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:o,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]}},56106:(e,t,n)=>{"use strict";n.d(t,{f:()=>u});var r=n(94923),o=n(97946),a=n(49798),i=n(58536),s=n(57631),c=n(12634);let l;function u(e,t=function(){if(l)return l;if((0,a.Du)(c.m9.fetch))return l=c.m9.fetch.bind(c.m9);const e=c.m9.document;let t=c.m9.fetch;if(e&&"function"===typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){s.X&&i.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return l=t.bind(c.m9)}()){let n=0,u=0;return(0,r.q)(e,(function(r){const a=r.body.length;n+=a,u++;const i={body:r.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&u<15,...e.fetchOptions};try{return t(e.url,i).then((e=>(n-=a,u--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(s){return l=void 0,n-=a,u--,(0,o.$2)(s)}}))}},8589:(e,t,n)=>{"use strict";n.d(t,{RP:()=>u,cc:()=>l,fH:()=>c});var r=n(90063),o=n(97946),a=n(58536),i=n(81757),s=n(73232);function c(){return(0,r.Y)("globalEventProcessors",(()=>[]))}function l(e){c().push(e)}function u(e,t,n,r=0){return new o.cW(((o,c)=>{const l=e[r];if(null===t||"function"!==typeof l)o(t);else{const d=l({...t},n);s.X&&l.id&&null===d&&a.kg.log(`Event processor "${l.id}" dropped event`),(0,i.J8)(d)?d.then((t=>u(e,t,n,r+1).then(o))).then(null,c):u(e,d,n,r+1).then(o).then(null,c)}}))}},92642:(e,t,n)=>{"use strict";n.d(t,{$e:()=>g,Tb:()=>u,YA:()=>m,Yr:()=>f,av:()=>p,cg:()=>S,eN:()=>d,nZ:()=>y,n_:()=>h,s3:()=>_,xv:()=>v,yj:()=>b});var r=n(58536),o=n(90063),a=n(66417),i=n(73232),s=n(66465),c=n(48364),l=n(48738);function u(e,t){return(0,s.Gd)().captureException(e,(0,l.U0)(t))}function d(e,t){return(0,s.Gd)().captureEvent(e,t)}function h(e,t){(0,s.Gd)().addBreadcrumb(e,t)}function m(e,t){(0,s.Gd)().setTag(e,t)}function p(e){(0,s.Gd)().setUser(e)}function g(...e){const t=(0,s.Gd)();if(2===e.length){const[n,r]=e;return n?t.withScope((()=>(t.getStackTop().scope=n,r(n)))):t.withScope(r)}return t.withScope(e[0])}function f(e,t){return(0,s.Gd)().startTransaction({...e},t)}async function v(e){const t=_();return t?t.close(e):(i.X&&r.kg.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function _(){return(0,s.Gd)().getClient()}function y(){return(0,s.Gd)().getScope()}function b(e){const t=_(),n=(0,s.aF)(),r=y(),{release:i,environment:l=a.J}=t&&t.getOptions()||{},{userAgent:u}=o.GLOBAL_OBJ.navigator||{},d=(0,c.Hv)({release:i,environment:l,user:r.getUser()||n.getUser(),...u&&{userAgent:u},...e}),h=n.getSession();return h&&"ok"===h.status&&(0,c.CT)(h,{status:"exited"}),E(),n.setSession(d),r.setSession(d),d}function E(){const e=(0,s.aF)(),t=y(),n=t.getSession()||e.getSession();n&&(0,c.RJ)(n),C(),e.setSession(),t.setSession()}function C(){const e=(0,s.aF)(),t=y(),n=_(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function S(e=!1){e?E():C()}},66465:(e,t,n)=>{"use strict";n.d(t,{Gd:()=>_,aF:()=>y,cu:()=>f});var r=n(81757),o=n(63699),a=n(7790),i=n(58536),s=n(90063),c=n(66417),l=n(73232),u=n(51877),d=n(48364),h=n(91476);const m=parseFloat(h.J),p=100;class g{constructor(e,t,n,r=m){let o,a;this._version=r,t?o=t:(o=new u.sX,o.setClient(e)),n?a=n:(a=new u.sX,a.setClient(e)),this._stack=[{scope:o}],e&&this.bindClient(e),this._isolationScope=a}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();let n;try{n=e(t)}catch(o){throw this.popScope(),o}return(0,r.J8)(n)?n.then((e=>(this.popScope(),e)),(e=>{throw this.popScope(),e})):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:(0,o.DM)(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...t,event_id:n}),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:(0,o.DM)(),a=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:a,...n,event_id:r}),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:(0,o.DM)();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:s=p}=r.getOptions&&r.getOptions()||{};if(s<=0)return;const c={timestamp:(0,a.yW)(),...e},l=o?(0,i.Cf)((()=>o(c,t))):c;null!==l&&(r.emit&&r.emit("beforeAddBreadcrumb",l,t),n.addBreadcrumb(l,s))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=v(this);try{e(this)}finally{v(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return l.X&&i.kg.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if(l.X&&!n){this.getClient()?i.kg.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):i.kg.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&(0,d.RJ)(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:o=c.J}=n&&n.getOptions()||{},{userAgent:a}=s.GLOBAL_OBJ.navigator||{},i=(0,d.Hv)({release:r,environment:o,user:t.getUser(),...a&&{userAgent:a},...e}),l=t.getSession&&t.getSession();return l&&"ok"===l.status&&(0,d.CT)(l,{status:"exited"}),this.endSession(),t.setSession(i),i}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e,...t){const n=f().__SENTRY__;if(n&&n.extensions&&"function"===typeof n.extensions[e])return n.extensions[e].apply(this,t);l.X&&i.kg.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function f(){return s.GLOBAL_OBJ.__SENTRY__=s.GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},s.GLOBAL_OBJ}function v(e){const t=f(),n=C(t);return S(t,e),n}function _(){const e=f();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return b(e)}function y(){return _().getIsolationScope()}function b(e=f()){return E(e)&&!C(e).isOlderThan(m)||S(e,new g),C(e)}function E(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function C(e){return(0,s.Y)("hub",(()=>new g),e)}function S(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}},48889:(e,t,n)=>{"use strict";n.d(t,{RN:()=>m,_I:()=>p,m7:()=>h,m8:()=>l,q4:()=>u,uf:()=>d});var r=n(63699),o=n(58536),a=n(73232),i=n(8589),s=n(66465);const c=[];function l(e){const t=e.defaultIntegrations||[],n=e.integrations;let o;t.forEach((e=>{e.isDefaultInstance=!0})),o=Array.isArray(n)?[...t,...n]:"function"===typeof n?(0,r.lE)(n(t)):t;const a=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(o),i=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(a,(e=>"Debug"===e.name));if(-1!==i){const[e]=a.splice(i,1);a.push(e)}return a}function u(e,t){const n={};return t.forEach((t=>{t&&h(e,t,n)})),n}function d(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function h(e,t,n){if(n[t.name])a.X&&o.kg.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===c.indexOf(t.name)&&(t.setupOnce(i.cc,s.Gd),c.push(t.name)),t.setup&&"function"===typeof t.setup&&t.setup(e),e.on&&"function"===typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if(e.addEventProcessor&&"function"===typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}a.X&&o.kg.log(`Integration installed: ${t.name}`)}}function m(e,t){return Object.assign((function(...e){return t(...e)}),{id:e})}function p(e){return e}},51877:(e,t,n)=>{"use strict";n.d(t,{lW:()=>h,sX:()=>d});var r=n(81757),o=n(7790),a=n(63699),i=n(58536),s=n(8589),c=n(48364),l=n(29390);let u;class d{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=m()}static clone(e){return e?e.clone():new d}clone(){const e=new d;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&(0,c.CT)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"===typeof e?e(this):e;if(t instanceof d){const e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if((0,r.PO)(t)){const t=e;this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=m(),this}addBreadcrumb(e,t){const n="number"===typeof t?t:100;if(n<=0)return this;const r={timestamp:(0,o.yW)(),...e},a=this._breadcrumbs;return a.push(r),this._breadcrumbs=a.length>n?a.slice(-n):a,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:r,_extra:o,_user:a,_level:i,_fingerprint:s,_eventProcessors:c,_propagationContext:l,_sdkProcessingMetadata:u,_transactionName:d,_span:h}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:r,extra:o,user:a,level:i,fingerprint:s||[],eventProcessors:c,propagationContext:l,sdkProcessingMetadata:u,transactionName:d,span:h}}applyToEvent(e,t={},n=[]){(0,l.gi)(e,this.getScopeData());const r=[...n,...(0,s.fH)(),...this._eventProcessors];return(0,s.RP)(r,e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:(0,a.DM)();if(!this._client)return i.kg.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:(0,a.DM)();if(!this._client)return i.kg.warn("No client configured on scope - will not capture message!"),r;const o=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:(0,a.DM)();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(i.kg.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function h(){return u||(u=new d),u}function m(){return{traceId:(0,a.DM)(),spanId:(0,a.DM)().substring(16)}}},92980:(e,t,n)=>{"use strict";n.d(t,{_:()=>c,j:()=>l});var r=n(21995),o=n(66417),a=n(92642),i=n(85112),s=n(43002);function c(e,t,n){const a=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:s}=n&&n.getUser()||{},c=(0,r.Jr)({environment:a.environment||o.J,release:a.release,user_segment:s,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",c),c}function l(e){const t=(0,a.s3)();if(!t)return{};const n=c((0,s.XU)(e).trace_id||"",t,(0,a.nZ)()),r=(0,i.G)(e);if(!r)return n;const o=r&&r._frozenDynamicSamplingContext;if(o)return o;const{sampleRate:l,source:u}=r.metadata;null!=l&&(n.sample_rate=`${l}`);const d=(0,s.XU)(r);return u&&"url"!==u&&(n.transaction=d.description),n.sampled=String((0,s.Tt)(r)),t.emit&&t.emit("createDsc",n),n}},94923:(e,t,n)=>{"use strict";n.d(t,{q:()=>u});var r=n(94388),o=n(97946);function a(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(a){if(!(void 0===e||t.length<e))return(0,o.$2)(new r.b("Not adding Promise because buffer limit was reached."));const i=a();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new o.cW(((n,r)=>{let a=t.length;if(!a)return n(!0);const i=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{(0,o.WD)(e).then((()=>{--a||(clearTimeout(i),n(!0))}),r)}))}))}}}var i=n(46894);function s(e,{statusCode:t,headers:n},r=Date.now()){const o={...e},a=n&&n["x-sentry-rate-limits"],i=n&&n["retry-after"];if(a)for(const s of a.trim().split(",")){const[e,t,,,n]=s.split(":",5),a=parseInt(e,10),i=1e3*(isNaN(a)?60:a);if(t)for(const s of t.split(";"))"metric_bucket"===s&&n&&!n.split(";").includes("custom")||(o[s]=r+i);else o.all=r+i}else i?o.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(i,r):429===t&&(o.all=r+6e4);return o}var c=n(58536),l=n(73232);function u(e,t,n=a(e.bufferSize||30)){let u={};function h(a){const h=[];if((0,i.gv)(a,((t,n)=>{const r=(0,i.mL)(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(u,r)){const o=d(t,n);e.recordDroppedEvent("ratelimit_backoff",r,o)}else h.push(t)})),0===h.length)return(0,o.WD)();const m=(0,i.Jd)(a[0],h),p=t=>{(0,i.gv)(m,((n,r)=>{const o=d(n,r);e.recordDroppedEvent(t,(0,i.mL)(r),o)}))};return n.add((()=>t({body:(0,i.V$)(m,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&l.X&&c.kg.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),u=s(u,e),e)),(e=>{throw p("network_error"),e})))).then((e=>e),(e=>{if(e instanceof r.b)return l.X&&c.kg.error("Skipped sending event because buffer is full."),p("queue_overflow"),(0,o.WD)();throw e}))}return h.__sentry__baseTransport__=!0,{send:h,flush:e=>n.drain(e)}}function d(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}},29390:(e,t,n)=>{"use strict";n.d(t,{gi:()=>c,yo:()=>l});var r=n(21995),o=n(63699),a=n(92980),i=n(85112),s=n(43002);function c(e,t){const{fingerprint:n,span:c,breadcrumbs:l,sdkProcessingMetadata:u}=t;!function(e,t){const{extra:n,tags:o,user:a,contexts:i,level:s,transactionName:c}=t,l=(0,r.Jr)(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const u=(0,r.Jr)(o);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const d=(0,r.Jr)(a);d&&Object.keys(d).length&&(e.user={...d,...e.user});const h=(0,r.Jr)(i);h&&Object.keys(h).length&&(e.contexts={...h,...e.contexts});s&&(e.level=s);c&&(e.transaction=c)}(e,t),c&&function(e,t){e.contexts={trace:(0,s.wy)(t),...e.contexts};const n=(0,i.G)(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:(0,a.j)(t),...e.sdkProcessingMetadata};const r=(0,s.XU)(n).description;r&&(e.tags={transaction:r,...e.tags})}}(e,c),function(e,t){e.fingerprint=e.fingerprint?(0,o.lE)(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,l),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,u)}function l(e,t){const{extra:n,tags:r,user:o,contexts:a,level:i,sdkProcessingMetadata:s,breadcrumbs:c,fingerprint:l,eventProcessors:d,attachments:h,propagationContext:m,transactionName:p,span:g}=t;u(e,"extra",n),u(e,"tags",r),u(e,"user",o),u(e,"contexts",a),u(e,"sdkProcessingMetadata",s),i&&(e.level=i),p&&(e.transactionName=p),g&&(e.span=g),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...m}}function u(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}},48738:(e,t,n)=>{"use strict";n.d(t,{R:()=>m,U0:()=>g});var r=n(63699),o=n(7790),a=n(39660),i=n(90063),s=n(69180),c=n(66417),l=n(8589),u=n(51877),d=n(29390),h=n(43002);function m(e,t,n,m,g,f){const{normalizeDepth:v=3,normalizeMaxBreadth:_=1e3}=e,y={...t,event_id:t.event_id||n.event_id||(0,r.DM)(),timestamp:t.timestamp||(0,o.yW)()},b=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:o,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:c.J);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==o&&(e.dist=o);e.message&&(e.message=(0,a.$G)(e.message,i));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=(0,a.$G)(s.value,i));const l=e.request;l&&l.url&&(l.url=(0,a.$G)(l.url,i))}(y,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(y,b),void 0===t.type&&function(e,t){const n=i.GLOBAL_OBJ._sentryDebugIds;if(!n)return;let r;const o=p.get(t);o?r=o:(r=new Map,p.set(t,r));const a=Object.keys(n).reduce(((e,o)=>{let a;const i=r.get(o);i?a=i:(a=t(o),r.set(o,a));for(let t=a.length-1;t>=0;t--){const r=a[t];if(r.filename){e[r.filename]=n[o];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=a[e.filename])}))}))}catch(s){}}(y,e.stackParser);const E=function(e,t){if(!t)return e;const n=e?e.clone():new u.sX;return n.update(t),n}(m,n.captureContext);n.mechanism&&(0,r.EG)(y,n.mechanism);const C=g&&g.getEventProcessors?g.getEventProcessors():[],S=(0,u.lW)().getScopeData();if(f){const e=f.getScopeData();(0,d.yo)(S,e)}if(E){const e=E.getScopeData();(0,d.yo)(S,e)}const T=[...n.attachments||[],...S.attachments];T.length&&(n.attachments=T),(0,d.gi)(y,S);const I=[...C,...(0,l.fH)(),...S.eventProcessors];return(0,l.RP)(I,y,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(r){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"===typeof v&&v>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:(0,s.Fv)(e.data,t,n)}})))},...e.user&&{user:(0,s.Fv)(e.user,t,n)},...e.contexts&&{contexts:(0,s.Fv)(e.contexts,t,n)},...e.extra&&{extra:(0,s.Fv)(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=(0,s.Fv)(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>{const r=(0,h.XU)(e).data;return r&&(e.data=(0,s.Fv)(r,t,n)),e})));return r}(e,v,_):e)))}const p=new WeakMap;function g(e){if(e)return function(e){return e instanceof u.sX||"function"===typeof e}(e)||function(e){return Object.keys(e).some((e=>f.includes(e)))}(e)?{captureContext:e}:e}const f=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"]},76122:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var r=n(91476);function o(e,t,n=[t],o="npm"){const a=e._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${o}:@sentry/${e}`,version:r.J}))),version:r.J}),e._metadata=a}},43002:(e,t,n)=>{"use strict";n.d(t,{$k:()=>u,Hb:()=>l,Tt:()=>m,XU:()=>h,i0:()=>s,ve:()=>i,wy:()=>c});var r=n(21995),o=n(49691),a=n(7790);const i=0,s=1;function c(e){const{spanId:t,traceId:n}=e.spanContext(),{data:o,op:a,parent_span_id:i,status:s,tags:c,origin:l}=h(e);return(0,r.Jr)({data:o,op:a,parent_span_id:i,span_id:t,status:s,tags:c,trace_id:n,origin:l})}function l(e){const{traceId:t,spanId:n}=e.spanContext(),r=m(e);return(0,o.$p)(t,n,r)}function u(e){return"number"===typeof e?d(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?d(e.getTime()):(0,a.ph)()}function d(e){return e>9999999999?e/1e3:e}function h(e){return function(e){return"function"===typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"===typeof e.toJSON?e.toJSON():{}}function m(e){const{traceFlags:t}=e.spanContext();return Boolean(t&s)}},66212:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});const r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},26411:(e,t,n)=>{"use strict";n.d(t,{RH:()=>s});var r=n(48889),o=n(58536),a=n(66212);const i="Dedupe",s=(0,r._I)((()=>{let e;return{name:i,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!l(e,t))return!1;if(!c(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=u(t),r=u(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!l(e,t))return!1;if(!c(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return a.X&&o.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return e=t}}}));(0,r.RN)(i,s);function c(e,t){let n=d(e),r=d(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++){const e=r[o],t=n[o];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function l(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(o){return!1}}function u(e){return e.exception&&e.exception.values&&e.exception.values[0]}function d(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}}},18796:(e,t,n)=>{"use strict";n.d(t,{E:()=>u});var r=n(48889),o=n(81757),a=n(69180),i=n(21995),s=n(58536),c=n(66212);const l="ExtraErrorData",u=(0,r._I)(((e={})=>{const t=e.depth||3,n=e.captureErrorCause||!1;return{name:l,setupOnce(){},processEvent:(e,r)=>function(e,t={},n,r){if(!t.originalException||!(0,o.VZ)(t.originalException))return e;const l=t.originalException.name||t.originalException.constructor.name,u=function(e,t){try{const n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],r={};for(const t of Object.keys(e)){if(-1!==n.indexOf(t))continue;const a=e[t];r[t]=(0,o.VZ)(a)?a.toString():a}if(t&&void 0!==e.cause&&(r.cause=(0,o.VZ)(e.cause)?e.cause.toString():e.cause),"function"===typeof e.toJSON){const t=e.toJSON();for(const e of Object.keys(t)){const n=t[e];r[e]=(0,o.VZ)(n)?n.toString():n}}return r}catch(n){c.X&&s.kg.error("Unable to extract extra data from the Error object:",n)}return null}(t.originalException,r);if(u){const t={...e.contexts},r=(0,a.Fv)(u,n);return(0,o.PO)(r)&&((0,i.xp)(r,"__sentry_skip_normalization__",!0),t[l]=r),{...e,contexts:t}}return e}(e,r,t,n)}}));(0,r.RN)(l,u)},32466:(e,t,n)=>{"use strict";n.d(t,{S:()=>ie});var r=n(58536),o=n(63699),a=n(39660),i=n(73232),s=n(48889);const c=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],l=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],u="InboundFilters",d=(0,s._I)(((e={})=>({name:u,setupOnce(){},processEvent(t,n,s){const u=s.getOptions(),d=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:c],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:l],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,u);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(t){}return!1}(e))return i.X&&r.kg.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,o.jH)(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(a){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));i.X&&0===t.length&&r.kg.error(`Could not extract message for event ${(0,o.jH)(e)}`);return t}(e).some((e=>(0,a.U0)(e,t)))}(e,t.ignoreErrors))return i.X&&r.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,o.jH)(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&(0,a.U0)(n,t)}(e,t.ignoreTransactions))return i.X&&r.kg.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${(0,o.jH)(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=h(e);return!!n&&(0,a.U0)(n,t)}(e,t.denyUrls))return i.X&&r.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,o.jH)(e)}.\nUrl: ${h(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=h(e);return!n||(0,a.U0)(n,t)}(e,t.allowUrls))return i.X&&r.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,o.jH)(e)}.\nUrl: ${h(e)}`),!0;return!1}(t,d)?null:t}})));(0,s.RN)(u,d);function h(e){try{let n;try{n=e.exception.values[0].stacktrace.frames}catch(t){}return n?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch(n){return i.X&&r.kg.error(`Cannot extract url for event ${(0,o.jH)(e)}`),null}}var m=n(21995),p=n(92642);let g;const f="FunctionToString",v=new WeakMap,_=(0,s._I)((()=>({name:f,setupOnce(){g=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=(0,m.HK)(this),n=v.has((0,p.s3)())&&void 0!==t?t:this;return g.apply(n,e)}}catch(e){}},setup(e){v.set(e,!0)}})));(0,s.RN)(f,_);var y=n(66465);function b(e,t){!0===t.debug&&(i.X?r.kg.enable():(0,r.Cf)((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));(0,p.nZ)().update(t.initialScope);const n=new e(t);!function(e){const t=(0,y.Gd)().getStackTop();t.client=e,t.scope.setClient(e)}(n),function(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}(n)}var E=n(69038),C=n(49798),S=n(2311),T=n(91485),I=n(57631),w=n(12634),A=n(46854);const k="Dedupe",P=(0,s._I)((()=>{let e;return{name:k,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!R(e,t))return!1;if(!x(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=N(t),r=N(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!R(e,t))return!1;if(!x(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return I.X&&r.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return e=t}}}));(0,s.RN)(k,P);function x(e,t){let n=O(e),r=O(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++){const e=r[o],t=n[o];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function R(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(o){return!1}}function N(e){return e.exception&&e.exception.values&&e.exception.values[0]}function O(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}}var L=n(21240),M=n(81757),D=n(82146),U=n(54194),B=n(31988);const F="GlobalHandlers",H=(0,s._I)(((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:F,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){(0,L.V)((t=>{const{stackParser:n,attachStacktrace:r}=z();if((0,p.s3)()!==e||(0,w.Wz)())return;const{msg:o,url:a,line:i,column:s,error:c}=t,l=void 0===c&&(0,M.HD)(o)?function(e,t,n,r){const o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let a=(0,M.VW)(e)?e.message:e,i="Error";const s=a.match(o);s&&(i=s[1],a=s[2]);return q({exception:{values:[{type:i,value:a}]}},t,n,r)}(o,a,i,s):q((0,B.ME)(n,c||o,void 0,r,!1),a,i,s);l.level="error",(0,p.eN)(l,{originalException:c,mechanism:{handled:!1,type:"onerror"}})}))}(e),G("onerror")),t.onunhandledrejection&&(!function(e){(0,D.h)((t=>{const{stackParser:n,attachStacktrace:r}=z();if((0,p.s3)()!==e||(0,w.Wz)())return;const o=function(e){if((0,M.pt)(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(n){}return e}(t),a=(0,M.pt)(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:(0,B.ME)(n,o,void 0,r,!0);a.level="error",(0,p.eN)(a,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),G("onunhandledrejection"))}}}));(0,s.RN)(F,H);function q(e,t,n,r){const o=e.exception=e.exception||{},a=o.values=o.values||[],i=a[0]=a[0]||{},s=i.stacktrace=i.stacktrace||{},c=s.frames=s.frames||[],l=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=(0,M.HD)(t)&&t.length>0?t:(0,U.l4)();return 0===c.length&&c.push({colno:l,filename:d,function:"?",in_app:!0,lineno:u}),e}function G(e){I.X&&r.kg.log(`Global Handler attached: ${e}`)}function z(){const e=(0,p.s3)();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var $=n(22605);function X(e,t,n=250,r,o,i,s){if(!i.exception||!i.exception.values||!s||!(0,M.V9)(s.originalException,Error))return;const c=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var l,u;c&&(i.exception.values=(l=V(e,t,o,s.originalException,r,i.exception.values,c,0),u=n,l.map((e=>(e.value&&(e.value=(0,a.$G)(e.value,u)),e)))))}function V(e,t,n,r,o,a,i,s){if(a.length>=n+1)return a;let c=[...a];if((0,M.V9)(r[o],Error)){W(i,s);const a=e(t,r[o]),l=c.length;j(a,o,l,s),c=V(e,t,n,r[o],o,[a,...c],a,l)}return Array.isArray(r.errors)&&r.errors.forEach(((r,a)=>{if((0,M.V9)(r,Error)){W(i,s);const l=e(t,r),u=c.length;j(l,`errors[${a}]`,u,s),c=V(e,t,n,r,o,[l,...c],l,u)}})),c}function W(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function j(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}const K="LinkedErrors",Z=(0,s._I)(((e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:K,setupOnce(){},preprocessEvent(e,r,o){const a=o.getOptions();X(B.GJ,a.stackParser,a.maxValueLength,n,t,e,r)}}}));(0,s.RN)(K,Z);var Y=n(53399),Q=n(2224),J=n(56106),ee=n(94923),te=n(97946);function ne(e){return(0,ee.q)(e,(function(t){return new te.cW(((n,r)=>{const o=new XMLHttpRequest;o.onerror=r,o.onreadystatechange=()=>{4===o.readyState&&n({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&o.setRequestHeader(t,e.headers[t]);o.send(t.body)}))}))}const re=[d(),_(),(0,Y.t)(),(0,A.f)(),H(),Z(),P(),(0,$.s)()];function oe(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=[...re]),void 0===e.release&&("string"===typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),w.m9.SENTRY_RELEASE&&w.m9.SENTRY_RELEASE.id&&(e.release=w.m9.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(0,E.Sq)(e.stackParser||Q.Dt),integrations:(0,s.m8)(e),transport:e.transport||((0,C.Ak)()?J.f:ne)};b(T.R,t),e.autoSessionTracking&&function(){if("undefined"===typeof w.m9.document)return void(I.X&&r.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));(0,p.yj)({ignoreDuration:!0}),(0,p.cg)(),(0,S.a)((({from:e,to:t})=>{void 0!==e&&e!==t&&((0,p.yj)({ignoreDuration:!0}),(0,p.cg)())}))}()}var ae=n(76122);function ie(e){const t={...e};(0,ae.V)(t,"react"),oe(t)}},46990:(e,t,n)=>{"use strict";n.d(t,{EN:()=>l,IQ:()=>u,bU:()=>i});var r=n(51982),o=n(81757),a=n(58536);const i="baggage",s="sentry-",c=/^sentry-/;function l(e){if(!(0,o.HD)(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>{const n=d(t);for(const r of Object.keys(n))e[r]=n[r];return e}),{});else{if(!e)return;t=d(e)}const n=Object.entries(t).reduce(((e,[t,n])=>{if(t.match(c)){e[t.slice(s.length)]=n}return e}),{});return Object.keys(n).length>0?n:void 0}function u(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,[t,n],o)=>{const i=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,s=0===o?i:`${e},${i}`;return s.length>8192?(r.X&&a.kg.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):s}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`sentry-${t}`]=n),e)),{}))}function d(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(e[t]=n,e)),{})}},54194:(e,t,n)=>{"use strict";n.d(t,{Rt:()=>a,iY:()=>l,l4:()=>s,qT:()=>c});var r=n(81757);const o=(0,n(90063).R)();function a(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let a=0,s=0;const c=" > ",l=c.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&a++<r&&(u=i(n,d),!("html"===u||a>1&&s+o.length*l+u.length>=h));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(c)}catch(n){return"<unknown>"}}function i(e,t){const n=e,a=[];let i,s,c,l,u;if(!n||!n.tagName)return"";if(o.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;a.push(n.tagName.toLowerCase());const d=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(d&&d.length)d.forEach((e=>{a.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&a.push(`#${n.id}`),i=n.className,i&&(0,r.HD)(i))for(s=i.split(/\s+/),u=0;u<s.length;u++)a.push(`.${s[u]}`);const h=["aria-label","type","name","title","alt"];for(u=0;u<h.length;u++)c=h[u],l=n.getAttribute(c),l&&a.push(`[${c}="${l}"]`);return a.join("")}function s(){try{return o.document.location.href}catch(e){return""}}function c(e){return o.document&&o.document.querySelector?o.document.querySelector(e):null}function l(e){if(!o.HTMLElement)return null;let t=e;for(let n=0;n<5;n++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}},73135:(e,t,n)=>{"use strict";n.d(t,{RA:()=>i,vK:()=>c});var r=n(51982),o=n(58536);const a=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function i(e,t=!1){const{host:n,path:r,pass:o,port:a,projectId:i,protocol:s,publicKey:c}=e;return`${s}://${c}${t&&o?`:${o}`:""}@${n}${a?`:${a}`:""}/${r?`${r}/`:r}${i}`}function s(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function c(e){const t="string"===typeof e?function(e){const t=a.exec(e);if(!t)return void(0,o.Cf)((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,i="",c,l="",u]=t.slice(1);let d="",h=u;const m=h.split("/");if(m.length>1&&(d=m.slice(0,-1).join("/"),h=m.pop()),h){const e=h.match(/^\d+/);e&&(h=e[0])}return s({host:c,pass:i,path:d,projectId:h,port:l,protocol:n,publicKey:r})}(e):s(e);if(t&&function(e){if(!r.X)return!0;const{port:t,projectId:n,protocol:a}=e;return!["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(o.kg.error(`Invalid Sentry Dsn: ${t} missing`),!0)))&&(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(a)?!t||!isNaN(parseInt(t,10))||(o.kg.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):(o.kg.error(`Invalid Sentry Dsn: Invalid protocol ${a}`),!1):(o.kg.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1))}(t))return t}},46894:(e,t,n)=>{"use strict";n.d(t,{BO:()=>s,Cd:()=>g,HY:()=>p,Jd:()=>i,V$:()=>u,gv:()=>c,mL:()=>m,zQ:()=>d});var r=n(73135),o=n(69180),a=n(21995);function i(e,t=[]){return[e,t]}function s(e,t){const[n,r]=e;return[n,[...r,t]]}function c(e,t){const n=e[1];for(const r of n){if(t(r,r[0].type))return!0}return!1}function l(e,t){return(t||new TextEncoder).encode(e)}function u(e,t){const[n,r]=e;let a=JSON.stringify(n);function i(e){"string"===typeof a?a="string"===typeof e?a+e:[l(a,t),e]:a.push("string"===typeof e?l(e,t):e)}for(const c of r){const[e,t]=c;if(i(`\n${JSON.stringify(e)}\n`),"string"===typeof t||t instanceof Uint8Array)i(t);else{let e;try{e=JSON.stringify(t)}catch(s){e=JSON.stringify((0,o.Fv)(t))}i(e)}}return"string"===typeof a?a:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}(a)}function d(e,t){const n="string"===typeof e.data?l(e.data,t):e.data;return[(0,a.Jr)({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const h={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function m(e){return h[e]}function p(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function g(e,t,n,o){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&o&&{dsn:(0,r.RA)(o)},...i&&{trace:(0,a.Jr)({...i})}}}},94388:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});class r extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}},94618:(e,t,n)=>{"use strict";n.d(t,{D2:()=>l,Hj:()=>c,rK:()=>u});var r=n(51982),o=n(58536),a=n(69038);const i={},s={};function c(e,t){i[e]=i[e]||[],i[e].push(t)}function l(e,t){s[e]||(t(),s[e]=!0)}function u(e,t){const n=e&&i[e];if(n)for(const i of n)try{i(t)}catch(s){r.X&&o.kg.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${(0,a.$P)(i)}\nError:`,s)}}},12633:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var r=n(21995),o=n(49798),a=n(90063),i=n(94618);function s(e){const t="fetch";(0,i.Hj)(t,e),(0,i.D2)(t,c)}function c(){(0,o.t$)()&&(0,r.hl)(a.GLOBAL_OBJ,"fetch",(function(e){return function(...t){const{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:u(t),method:l(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:u(t),method:l(t,"method")?String(t.method).toUpperCase():"GET"}}(t),o={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return(0,i.rK)("fetch",{...o}),e.apply(a.GLOBAL_OBJ,t).then((e=>{const t={...o,endTimestamp:Date.now(),response:e};return(0,i.rK)("fetch",t),e}),(e=>{const t={...o,endTimestamp:Date.now(),error:e};throw(0,i.rK)("fetch",t),e}))}}))}function l(e,t){return!!e&&"object"===typeof e&&!!e[t]}function u(e){return"string"===typeof e?e:e?l(e,"url")?e.url:e.toString?e.toString():"":""}},21240:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});var r=n(90063),o=n(94618);let a=null;function i(e){const t="error";(0,o.Hj)(t,e),(0,o.D2)(t,s)}function s(){a=r.GLOBAL_OBJ.onerror,r.GLOBAL_OBJ.onerror=function(e,t,n,r,i){const s={column:r,error:i,line:n,msg:e,url:t};return(0,o.rK)("error",s),!(!a||a.__SENTRY_LOADER__)&&a.apply(this,arguments)},r.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}},82146:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(90063),o=n(94618);let a=null;function i(e){const t="unhandledrejection";(0,o.Hj)(t,e),(0,o.D2)(t,s)}function s(){a=r.GLOBAL_OBJ.onunhandledrejection,r.GLOBAL_OBJ.onunhandledrejection=function(e){const t=e;return(0,o.rK)("unhandledrejection",t),!(a&&!a.__SENTRY_LOADER__)||a.apply(this,arguments)},r.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}},2311:(e,t,n)=>{"use strict";n.d(t,{a:()=>l});var r=n(21995),o=n(90063);const a=(0,o.R)();var i=n(94618);const s=o.GLOBAL_OBJ;let c;function l(e){const t="history";(0,i.Hj)(t,e),(0,i.D2)(t,u)}function u(){if(!function(){const e=a.chrome,t=e&&e.app&&e.app.runtime,n="history"in a&&!!a.history.pushState&&!!a.history.replaceState;return!t&&n}())return;const e=s.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=c,t=String(n);c=t;const r={from:e,to:t};(0,i.rK)("history",r)}return e.apply(this,t)}}s.onpopstate=function(...t){const n=s.location.href,r=c;c=n;const o={from:r,to:n};if((0,i.rK)("history",o),e)try{return e.apply(this,t)}catch(a){}},(0,r.hl)(s.history,"pushState",t),(0,r.hl)(s.history,"replaceState",t)}},28315:(e,t,n)=>{"use strict";n.d(t,{UK:()=>l,xU:()=>c});var r=n(81757),o=n(21995),a=n(90063),i=n(94618);const s=a.GLOBAL_OBJ,c="__sentry_xhr_v3__";function l(e){(0,i.Hj)("xhr",e),(0,i.D2)("xhr",u)}function u(){if(!s.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;(0,o.hl)(e,"open",(function(e){return function(...t){const n=Date.now(),a=(0,r.HD)(t[0])?t[0].toUpperCase():void 0,s=function(e){if((0,r.HD)(e))return e;try{return e.toString()}catch(t){}return}(t[1]);if(!a||!s)return e.apply(this,t);this[c]={method:a,url:s,request_headers:{}},"POST"===a&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const l=()=>{const e=this[c];if(e&&4===this.readyState){try{e.status_code=this.status}catch(t){}const r={args:[a,s],endTimestamp:Date.now(),startTimestamp:n,xhr:this};(0,i.rK)("xhr",r)}};return"onreadystatechange"in this&&"function"===typeof this.onreadystatechange?(0,o.hl)(this,"onreadystatechange",(function(e){return function(...t){return l(),e.apply(this,t)}})):this.addEventListener("readystatechange",l),(0,o.hl)(this,"setRequestHeader",(function(e){return function(...t){const[n,o]=t,a=this[c];return a&&(0,r.HD)(n)&&(0,r.HD)(o)&&(a.request_headers[n.toLowerCase()]=o),e.apply(this,t)}})),e.apply(this,t)}})),(0,o.hl)(e,"send",(function(e){return function(...t){const n=this[c];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);const r={args:[n.method,n.url],startTimestamp:Date.now(),xhr:this};return(0,i.rK)("xhr",r),e.apply(this,t)}}))}},81757:(e,t,n)=>{"use strict";n.d(t,{Cy:()=>v,HD:()=>l,J8:()=>f,Kj:()=>g,Le:()=>u,PO:()=>h,TX:()=>s,V9:()=>y,VW:()=>i,VZ:()=>o,cO:()=>m,fm:()=>c,i2:()=>_,kK:()=>p,pt:()=>d,y1:()=>b});const r=Object.prototype.toString;function o(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(e,Error)}}function a(e,t){return r.call(e)===`[object ${t}]`}function i(e){return a(e,"ErrorEvent")}function s(e){return a(e,"DOMError")}function c(e){return a(e,"DOMException")}function l(e){return a(e,"String")}function u(e){return"object"===typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function d(e){return null===e||u(e)||"object"!==typeof e&&"function"!==typeof e}function h(e){return a(e,"Object")}function m(e){return"undefined"!==typeof Event&&y(e,Event)}function p(e){return"undefined"!==typeof Element&&y(e,Element)}function g(e){return a(e,"RegExp")}function f(e){return Boolean(e&&e.then&&"function"===typeof e.then)}function v(e){return h(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function _(e){return"number"===typeof e&&e!==e}function y(e,t){try{return e instanceof t}catch(n){return!1}}function b(e){return!("object"!==typeof e||null===e||!e.__isVue&&!e._isVue)}},58536:(e,t,n)=>{"use strict";n.d(t,{Cf:()=>s,LD:()=>i,RU:()=>a,kg:()=>c});var r=n(51982),o=n(90063);const a=["debug","info","warn","error","log","assert","trace"],i={};function s(e){if(!("console"in o.GLOBAL_OBJ))return e();const t=o.GLOBAL_OBJ.console,n={},r=Object.keys(i);r.forEach((e=>{const r=i[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const c=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return r.X?a.forEach((n=>{t[n]=(...t)=>{e&&s((()=>{o.GLOBAL_OBJ.console[n](`Sentry Logger [${n}]:`,...t)}))}})):a.forEach((e=>{t[e]=()=>{}})),t}()},63699:(e,t,n)=>{"use strict";n.d(t,{DM:()=>a,Db:()=>c,EG:()=>l,YO:()=>u,jH:()=>s,lE:()=>d});var r=n(21995),o=n(90063);function a(){const e=o.GLOBAL_OBJ,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(r){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function i(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function s(e){const{message:t,event_id:n}=e;if(t)return t;const r=i(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function c(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],a=o[0]=o[0]||{};a.value||(a.value=t||""),a.type||(a.type=n||"Error")}function l(e,t){const n=i(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function u(e){if(e&&e.__sentry_captured__)return!0;try{(0,r.xp)(e,"__sentry_captured__",!0)}catch(t){}return!1}function d(e){return Array.isArray(e)?e:[e]}},69180:(e,t,n)=>{"use strict";n.d(t,{Fv:()=>i,Qy:()=>s});var r=n(81757);var o=n(21995),a=n(69038);function i(e,t=100,n=1/0){try{return c("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function s(e,t=3,n=102400){const r=i(e,t);return o=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(o))>n?s(e,t-1,n):r;var o}function c(e,t,i=1/0,s=1/0,l=function(){const e="function"===typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[u,d]=l;if(null==t||["number","boolean","string"].includes(typeof t)&&!(0,r.i2)(t))return t;const h=function(e,t){try{if("domain"===e&&t&&"object"===typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!==typeof n.g&&t===n.g)return"[Global]";if(t===window)return"[Window]";if("undefined"!==typeof document&&t===document)return"[Document]";if((0,r.y1)(t))return"[VueViewModel]";if((0,r.Cy)(t))return"[SyntheticEvent]";if("number"===typeof t&&t!==t)return"[NaN]";if("function"===typeof t)return`[Function: ${(0,a.$P)(t)}]`;if("symbol"===typeof t)return`[${String(t)}]`;if("bigint"===typeof t)return`[BigInt: ${String(t)}]`;const o=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(o)?`[HTMLElement: ${o}]`:`[object ${o}]`}catch(o){return`**non-serializable** (${o})`}}(e,t);if(!h.startsWith("[object "))return h;if(t.__sentry_skip_normalization__)return t;const m="number"===typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:i;if(0===m)return h.replace("object ","");if(u(t))return"[Circular ~]";const p=t;if(p&&"function"===typeof p.toJSON)try{return c("",p.toJSON(),m-1,s,l)}catch(_){}const g=Array.isArray(t)?[]:{};let f=0;const v=(0,o.Sh)(t);for(const n in v){if(!Object.prototype.hasOwnProperty.call(v,n))continue;if(f>=s){g[n]="[MaxProperties ~]";break}const e=v[n];g[n]=c(n,e,m-1,s,l),f++}return d(t),g}},21995:(e,t,n)=>{"use strict";n.d(t,{$Q:()=>u,HK:()=>d,Jr:()=>v,Sh:()=>m,_j:()=>h,hl:()=>c,xp:()=>l,zf:()=>f});var r=n(54194),o=n(51982),a=n(81757),i=n(58536),s=n(39660);function c(e,t,n){if(!(t in e))return;const r=e[t],o=n(r);"function"===typeof o&&u(o,r),e[t]=o}function l(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(r){o.X&&i.kg.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function u(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,l(e,"__sentry_original__",t)}catch(n){}}function d(e){return e.__sentry_original__}function h(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}function m(e){if((0,a.VZ)(e))return{message:e.message,name:e.name,stack:e.stack,...g(e)};if((0,a.cO)(e)){const t={type:e.type,target:p(e.target),currentTarget:p(e.currentTarget),...g(e)};return"undefined"!==typeof CustomEvent&&(0,a.V9)(e,CustomEvent)&&(t.detail=e.detail),t}return e}function p(e){try{return(0,a.kK)(e)?(0,r.Rt)(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function g(e){if("object"===typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function f(e,t=40){const n=Object.keys(m(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,s.$G)(n[0],t);for(let r=n.length;r>0;r--){const e=n.slice(0,r).join(", ");if(!(e.length>t))return r===n.length?e:(0,s.$G)(e,t)}return""}function v(e){return _(e,new Map)}function _(e,t){if(function(e){if(!(0,a.PO)(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(t){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const o of Object.keys(e))"undefined"!==typeof e[o]&&(r[o]=_(e[o],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(_(e,t))})),r}return e}},69038:(e,t,n)=>{"use strict";n.d(t,{$P:()=>c,Sq:()=>i,pE:()=>a});const r=/\(error: (.*)\)/,o=/captureMessage|captureException/;function a(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const a=[],i=e.split("\n");for(let o=n;o<i.length;o++){const e=i[o];if(e.length>1024)continue;const n=r.test(e)?e.replace(r,"$1"):e;if(!n.match(/\S*Error: /)){for(const e of t){const t=e(n);if(t){a.push(t);break}}if(a.length>=50)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),o.test(t[t.length-1].function||"")&&(t.pop(),o.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,50).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(a)}}function i(e){return Array.isArray(e)?a(...e):e}const s="<anonymous>";function c(e){try{return e&&"function"===typeof e&&e.name||s}catch(t){return s}}},39660:(e,t,n)=>{"use strict";n.d(t,{$G:()=>o,U0:()=>i,nK:()=>a});var r=n(81757);function o(e,t=0){return"string"!==typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function a(e,t){if(!Array.isArray(e))return"";const n=[];for(let a=0;a<e.length;a++){const t=e[a];try{(0,r.y1)(t)?n.push("[VueViewModel]"):n.push(String(t))}catch(o){n.push("[value cannot be serialized]")}}return n.join(t)}function i(e,t=[],n=!1){return t.some((t=>function(e,t,n=!1){return!!(0,r.HD)(e)&&((0,r.Kj)(t)?t.test(e):!!(0,r.HD)(t)&&(n?e===t:e.includes(t)))}(e,t,n)))}},49798:(e,t,n)=>{"use strict";n.d(t,{Ak:()=>i,Du:()=>s,t$:()=>c});var r=n(51982),o=n(58536);const a=(0,n(90063).R)();function i(){if(!("fetch"in a))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function s(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function c(){if("string"===typeof EdgeRuntime)return!0;if(!i())return!1;if(s(a.fetch))return!0;let e=!1;const t=a.document;if(t&&"function"===typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=s(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){r.X&&o.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}},97946:(e,t,n)=>{"use strict";n.d(t,{$2:()=>i,WD:()=>a,cW:()=>s});var r,o=n(81757);function a(e){return new s((t=>{t(e)}))}function i(e){return new s(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(r||(r={}));class s{constructor(e){s.prototype.__init.call(this),s.prototype.__init2.call(this),s.prototype.__init3.call(this),s.prototype.__init4.call(this),this._state=r.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(t){this._reject(t)}}then(e,t){return new s(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(o){r(o)}else n(t)},e=>{if(t)try{n(t(e))}catch(o){r(o)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new s(((t,n)=>{let r,o;return this.then((t=>{o=!1,r=t,e&&e()}),(t=>{o=!0,r=t,e&&e()})).then((()=>{o?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(r.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(r.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===r.PENDING&&((0,o.J8)(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===r.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===r.RESOLVED&&e[1](this._value),this._state===r.REJECTED&&e[2](this._value),e[0]=!0)}))}}}},7790:(e,t,n)=>{"use strict";n.d(t,{Z1:()=>s,ph:()=>a,yW:()=>o});var r=n(90063);function o(){return Date.now()/1e3}const a=function(){const{performance:e}=r.GLOBAL_OBJ;if(!e||!e.now)return o;const t=Date.now()-e.now(),n=void 0==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}();let i;const s=(()=>{const{performance:e}=r.GLOBAL_OBJ;if(!e||!e.now)return void(i="none");const t=36e5,n=e.now(),o=Date.now(),a=e.timeOrigin?Math.abs(e.timeOrigin+n-o):t,s=a<t,c=e.timing&&e.timing.navigationStart,l="number"===typeof c?Math.abs(c+n-o):t;return s||l<t?a<=l?(i="timeOrigin",e.timeOrigin):(i="navigationStart",c):(i="dateNow",o)})()},49691:(e,t,n)=>{"use strict";n.d(t,{$p:()=>c,pT:()=>s});var r=n(46990),o=n(63699);const a=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function i(e){if(!e)return;const t=e.match(a);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function s(e,t){const n=i(e),a=(0,r.EN)(t),{traceId:s,parentSpanId:c,parentSampled:l}=n||{};return n?{traceId:s||(0,o.DM)(),parentSpanId:c||(0,o.DM)().substring(16),spanId:(0,o.DM)().substring(16),sampled:l,dsc:a||{}}:{traceId:s||(0,o.DM)(),spanId:(0,o.DM)().substring(16)}}function c(e=(0,o.DM)(),t=(0,o.DM)().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}},33483:(e,t,n)=>{"use strict";function r(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}n.d(t,{en:()=>r})},90063:(e,t,n)=>{"use strict";function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{GLOBAL_OBJ:()=>o,R:()=>a,Y:()=>i});const o="object"==typeof globalThis&&r(globalThis)||r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function a(){return o}function i(e,t,n){const r=n||o,a=r.__SENTRY__=r.__SENTRY__||{};return a[e]||(a[e]=t())}},84792:(e,t,n)=>{"use strict";n.d(t,{JC:()=>i,if:()=>o,wG:()=>r,x1:()=>a});const r="xbl_pa",o="xbl_sb",a="msa_ra",i="1"},4806:(e,t,n)=>{"use strict";var r;n.d(t,{b5:()=>r,qX:()=>a.q,ki:()=>o,x1:()=>i.x1,JC:()=>i.JC,wG:()=>i.wG,Q7:()=>s,if:()=>i.if,t2:()=>c.t2,i4:()=>c.i4,OZ:()=>u.O,nI:()=>c.nI,CD:()=>c.CD,Yr:()=>c.Yr,Em:()=>l.E,P9:()=>d.P,gZ:()=>c.gZ}),function(e){e.InGamePurchase="184",e.CrossNetworkPlay="185",e.PlayTournament="186",e.CreateTourname="187",e.Clubs="188",e.Sessions="189",e.Broadcast="190",e.PremiumMusicContent="191",e.SkypeAdvertisement="192",e.DownloadFreeContent="193",e.FitnessSubscriptionContent="194",e.FitnessUpload="195",e.ManageProfilePrivacySetting="196",e.GameDVR="198",e.ShareKinectContent="199",e.MarkPeopleAsKnown="200",e.LinkXboxGraphToFacebook="201",e.XboxMusic="202",e.MultiplayerParties="203",e.LiveTV="204",e.CommunicationVoiceIngame="205",e.CommunicationSkype="206",e.CloudGamingManageSession="207",e.CloudGamingJoinSession="208",e.CloudSavedGames="209",e.ShareContent="211",e.PremiumContent="214",e.InternetExplorer="217",e.SocialNetworkSharing="220",e.PIIAccess="221",e.PremiumVideo="224",e.BillingSwitching="227",e.PassportSwitching="228",e.VideoCommunications="235",e.PurchaseContent="245",e.UserCreatedContent="247",e.Communication="252",e.Multiplayer="254",e.AddFriend="255"}(r||(r={}));var o,a=n(16065),i=n(84792);!function(e){e.AadUserAuthorization="x-ms-authorization-aaduser",e.MuidAuthorization="x-authorization-muid",e.S2sAuthHeader="X-S2S-Authorization"}(o||(o={}));var s,c=n(85040),l=n(77747);!function(e){e.XboxLive="http://xboxlive.com",e.MDollar="http://mp.microsoft.com/",e.XCloud="http://gssv.xboxlive.com/",e.XCloudWebPortal="rp://gswp.xboxlive.com/",e.SISU="http://sisu.xboxlive.com/",e.Greenbelt="rp://greenbelt.xboxlive.com/",e.YearInReview="rp://yearinreview.xboxlive.com/",e.Playfab="http://playfab.xboxlive.com/"}(s||(s={}));var u=n(18637),d=n(58635)},85040:(e,t,n)=>{"use strict";n.d(t,{CD:()=>o,Yr:()=>r,gZ:()=>i,i4:()=>c,nI:()=>a,t2:()=>s});const r="1f907974-e22b-4810-a9de-d9647380c97e",o="https://login.microsoftonline.com/consumers",a="xboxlive.signin",i="sandboxId",s="https://consentservice.microsoft.com/checkin/UnifiedUserConsent.Read",c="https://consentservice.microsoft.com/web/UnifiedUserConsent.ReadWrite"},77747:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});const r="cobrandid"},94944:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var r=n(15245);class o extends r.R{}},15245:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});class r{constructor(e){this.options=e,this.eventTarget=new EventTarget}dispatchEvent(e){this.options.logger.verbose(`dispatchEvent: ${e.type}`),this.eventTarget.dispatchEvent(e)}addEventListener(e,t,n){this.eventTarget.addEventListener(e,t,n)}removeEventListener(e,t,n){this.eventTarget.removeEventListener(e,t,n)}}},23723:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var r=n(15245);class o extends r.R{}},47772:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});var r=n(16065);class o extends Event{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.q.Unknown;super(o.type),this.authStateChange=e}}o.type="activeAuthUserChanged"},89895:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});class r extends Event{constructor(){super(r.type)}}r.type="initialized"},67498:(e,t,n)=>{"use strict";n.d(t,{S_:()=>o.S,Nb:()=>a.N,bK:()=>r});class r extends Event{constructor(e){super(r.type),this.xboxTokenCacheKey=e}}r.type="xboxTokenLCEChanged";var o=n(47772),a=(n(63024),n(89895))},76090:(e,t,n)=>{"use strict";n.d(t,{Wg:()=>s,Op:()=>o,ZM:()=>r,F3:()=>c,VZ:()=>u.V,fW:()=>l});n(68995);function r(){return new Date(Date.now()+7776e6)}function o(){return new Date(Date.now()+432e5)}n(73439);var a=n(85144),i=n(51061);const s=e=>`XBL3.0 x=${e.userHash||0};${e.token}`,c=async(e,t)=>{const n=await e.acquireTokenSilently(t);if(n)return s(n)},l=e=>{const t=((e,t)=>{if(!e.expires)return!1;const n=(0,a.I)(e);return!n||!!(0,i.q)(n)&&n<t})(e,new Date);return t};var u=n(74169)},85144:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var r=n(51061);const o=e=>{if(!e.expires)return;const t="string"===typeof e.expires?new Date(e.expires):e.expires;return(0,r.q)(t)?t:void 0}},74169:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>void 0!==e.message&&"string"===typeof e.message},51061:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});const r=e=>!isNaN(e.valueOf())},28248:(e,t,n)=>{"use strict";n.d(t,{uG:()=>c,S_:()=>C.S_,b5:()=>s.b5,qX:()=>s.qX,zC:()=>f,j2:()=>a,K_:()=>we,Iz:()=>Oe,gM:()=>p,Nb:()=>C.Nb,cE:()=>Re,Q7:()=>s.Q7,Zb:()=>h,gz:()=>j,t2:()=>s.t2,i4:()=>s.i4,EJ:()=>k.EJ,Py:()=>d,Ws:()=>m,nI:()=>s.nI,CD:()=>s.CD,Yr:()=>s.Yr,Wg:()=>o.Wg,R6:()=>k.R6,nY:()=>k.nY,p5:()=>ge.p5,le:()=>E,Vm:()=>k.Vm,bV:()=>k.bV,oI:()=>k.oI,yB:()=>k.yB,Yd:()=>k.Yd,IL:()=>ge.IL,PY:()=>k.PY,CZ:()=>k.CZ,bt:()=>k.bt,R8:()=>k.R8,CG:()=>k.CG,gV:()=>k.gV,kN:()=>k.ng,N_:()=>k.N_,rb:()=>k.rb,by:()=>k.by,bG:()=>k.bG,c1:()=>k.c1,V_:()=>k.V_,NA:()=>k.NA,mh:()=>k.mh,F3:()=>o.F3,t_:()=>k.t_,ey:()=>ge.ey,Jf:()=>ge.oE,Tv:()=>v,AZ:()=>x,Pj:()=>R,Q0:()=>O,hI:()=>k.hI,M3:()=>k.M3});n(73439);var r=n(67446),o=n(76090);class a{constructor(e,t){this._logger=new i(e);const n=new r.LK(null===t||void 0===t?void 0:t.userAgent);n.isSafari||n.isSupportedTVBrowser?this.isSingleSignOnSupported=!1:this.isSingleSignOnSupported=!0}setupLogger(e){this._logger=new i(e)}async acquireTokenSilently(e){const t=this.getCachedTokensInternal()[e];if(t){if(!(0,o.fW)(t))return t;this._logger.info(`Token expired for relying party '${e}'. Attempting to get fresh token.`)}else null===t?this._logger.warn(`Unable to get token for relying party: '${e}'`):this._logger.info(`Cached token doesn't exist for relying party: '${e}'. Attempting to get token.`);const n=await this.acquireTokenAsyncInternal(e);return n&&!(0,o.fW)(n)?n:void this._logger.info(`Unable to get token for relying party: '${e}' after calling acquireTokenAsyncInternal. Token is expired or undefined.`)}}class i{constructor(e){this._logger=e}verbose(e){this._logger&&this._logger.verbose(e)}info(e){this._logger&&this._logger.info(e)}warn(e){this._logger&&this._logger.warn(e)}error(e,t){this._logger&&this._logger.error(e,t)}}var s=n(4806);class c{constructor(e,t){this.config=e,this._traceLogger=t}async authenticate(e,t){const n=e.clone();return n.headers.set(s.ki.AadUserAuthorization,`Bearer ${this.config.aadToken}`),n}}n(71372);class l extends Error{constructor(e){super(`Failed to authenticate for mandatory authenticated request. TargetUri: ${e}`),this.httpStatusCode=403,Object.setPrototypeOf(this,l.prototype)}}var u=n(51175);class d{constructor(e,t,n){this._authenticationProvider=t,this._traceLogger=n,this._relyingParty=e.relyingParty,this._isMandatory=e.isMandatory,this._anonymousTokenAuthenticator=e.anonymousTokenAuthenticator,this._aadAuthenticator=e.aadAuthenticator,this._xTokenOverride=e.xTokenOverride}async authenticate(e,t){let n=this._xTokenOverride;if(!n)try{n=await this._authenticationProvider.acquireTokenSilently(this._relyingParty)}catch(a){(0,o.VZ)(a)&&this._traceLogger.warn(`Error while acquiring xToken for request: ${e.url}. Error: ${a.message}`)}let r=e;if(n)r=this._authenticateRequest(e,n);else if(this._isMandatory)throw new l(e.url);return this._anonymousTokenAuthenticator&&(r=await this._anonymousTokenAuthenticator.authenticate(r,t)),this._aadAuthenticator&&(r=await this._aadAuthenticator.authenticate(r,t)),r}_authenticateRequest(e,t){const n=e.clone();return n.headers.set(u.HttpHeader.Authorization,(0,o.Wg)(t)),n}}class h{constructor(e,t,n){this.cartMuid=n,this._xTokenAuthenticator=new d({isMandatory:!1,relyingParty:s.Q7.MDollar},e,t)}async authenticate(e,t){if(!this.cartMuid)throw new l(e.url);const n=e.clone();return n.headers.set(s.ki.MuidAuthorization,this.cartMuid),this._xTokenAuthenticator.authenticate(n)}}class m{constructor(e){this._config=e}async authenticate(e,t){var n;return e.headers&&(null===(n=this._config)||void 0===n?void 0:n.anonToken)&&e.headers.set(s.ki.S2sAuthHeader,`Bearer ${this._config.anonToken}`),e}}class p{constructor(e,t){this._authenticationProvider=e,this._traceLogger=t}async authenticate(e,t){let n,r;if(!n&&!r)try{n=await this._authenticationProvider.acquireTokenSilently(s.Q7.XboxLive),r=await this._authenticationProvider.acquireTokenSilently(s.Q7.YearInReview)}catch(a){(0,o.VZ)(a)&&this._traceLogger.warn(`Error while acquiring xToken for request: ${e.url}. Error: ${a.message}`)}if(n&&r){const t=e.clone();return t.headers.set(u.HttpHeader.Authorization,(0,o.Wg)(r)),t.headers.set(u.HttpHeader.XCurrentUser,(0,o.Wg)(n)),t}throw new l(e.url)}}var g=n(2784);const f=(0,g.createContext)({}),v=()=>(0,g.useContext)(f);var _=n(16216),y=n(20608);function*b(){return yield(0,y.getContext)(_.iBy.authentication)}function E(){return(0,y.call)(b)}var C=n(67498),S=n(814),T=n.n(S),I=(n(6886),n(21883)),w=n(87342),A=n(74495),k=n(76248),P=n(57497);const x=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,A.useSelector)(k.yB),[r,o]=(0,g.useState)(t),a=(0,A.useSelector)(k.CG)===_.zHJ.Adult,i=(0,A.useSelector)(k.Yd),s=(0,A.useDispatch)(),c=(0,w.Fj)();(0,g.useEffect)((()=>{e&&n&&a&&((0,I.isValidNotRequestedLCE)(i)||(0,I.isExpiredContent)(i)||r&&(0,I.isContent)(i))&&(c.info("[usePrivacyConsent] Dispatching fetchPrivacyConsent action"),s(P.h.fetchPrivacyConsent.start()),r&&o(!1))}),[i,s,n,c,a,r,e]);const l=(0,g.useMemo)((()=>{var e;return null!==(e=(0,I.getUnexpiredDataOrPrevious)(i))&&void 0!==e?e:[]}),[i]);return(0,g.useMemo)((()=>[l,T()({loading:(0,I.isFetching)(i)},i)]),[i,l])},R=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=(0,A.useSelector)(k.yB),r=(0,A.useSelector)(k.CG)===_.zHJ.Adult,o=(0,w.Fj)(),a=(0,A.useSelector)((t=>(0,k.bn)(t,e))),i=(0,A.useDispatch)();(0,g.useEffect)((()=>{t&&n&&r&&(0,I.isNotRequested)(a)&&(o.info(`[usePrivacyConsentUiDetails] Dispatching fetchPrivacyConsentUiDetails action with: ${e}`),i(P.h.fetchPrivacyConsentUiDetails.start(e)))}),[i,n,e,o,a,r,t]);const s=(0,g.useMemo)((()=>{var e;return null!==(e=(0,I.getDataOrPrevious)(a))&&void 0!==e?e:[]}),[a]);return(0,g.useMemo)((()=>[s,T()({loading:(0,I.isFetching)(a)},a)]),[s,a])};var N=n(44080);const O=e=>{const t=(0,A.useSelector)(k.yB),n=(0,A.useSelector)(k.Fu),r=(0,w.Fj)(),o=(0,A.useSelector)(k.Eo),a=(0,A.useSelector)(k.oE),i=(0,A.useDispatch)(),s=(0,g.useCallback)((n=>{let{id:o,values:a,consentSurface:s}=n;t&&(r.info("[useSubmitConsent] Dispatching submitConsent action"),i(P.h.submitConsent.start({id:o,values:a,modelType:e,consentSurface:s})))}),[i,t,r,e]),c=(0,g.useMemo)((()=>e===N.ModelType.XboxOptionalDataCollection?n:e===N.ModelType.XboxFinPartnerSharing?a:o),[a,n,o,e]);return(0,g.useMemo)((()=>[s,c,n,o]),[n,o,c,s])};n(70424),n(36728),n(4173),n(6710),n(77950),n(88233),n(31235),n(85940),n(94908),n(48166),n(64925),n(26464),n(45162),n(54819),n(67526),n(86668),n(33354),n(25870),n(10930),n(40574),n(94116),n(43267),n(74614),n(19852),n(44306),n(26077),n(71072),n(50183),n(14121),n(60523);var L=n(67907),M=n(69573),D=n(49845),U=n(27694),B=n(806),F=n(3062),H=n(88767),q=n(85040);n(81497),n(75640),n(1871);class G{constructor(e){this.keys=["isAuthenticatedWithExternalTokens","hasAttemptedSisuRemediation"],this.storage=e.storage}readIsAuthenticatedWithExternalTokens(e){const t=this.makeCacheKey(e,"isAuthenticatedWithExternalTokens");return"true"===this.storage.getItem(t)}writeIsAuthenticatedWithExternalTokens(e,t){const n=this.makeCacheKey(e,"isAuthenticatedWithExternalTokens");this.storage.setItem(n,t.toString())}readHasAttemptedSisuRemediation(e){const t=this.makeCacheKey(e,"hasAttemptedSisuRemediation");return"true"===this.storage.getItem(t)}writeHasAttemptedSisuRemediation(e,t){const n=this.makeCacheKey(e,"hasAttemptedSisuRemediation");this.storage.setItem(n,t.toString())}clearHasAttemptedSisuRemediation(e){const t=this.makeCacheKey(e,"hasAttemptedSisuRemediation");this.storage.removeItem(t)}clearAllForUser(e){for(const n of this.keys)this.storage.removeItem(this.makeCacheKey(e,n));const t=["xboxcom_msa_username","xboxcom_xbl_user_info","xboxcom_msa_isExternalSignIn","xboxcom_accountRemediationRequired"];for(const n of t)this.storage.removeItem(n)}makeCacheKey(e,t){return`${btoa(e)}-${t}`}}var z=n(24560);n(44112);class $ extends U.d{navigateInternal(e,t){return super.navigateInternal(e,t)}navigateExternal(e,t){const n=e.startsWith("https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize");return super.navigateExternal(e,T()(T()({},t),{},{noHistory:n||t.noHistory}))}}class X extends M.Lx{constructor(e){const t=e.logger;super({auth:{clientId:q.Yr,authority:q.CD,navigateToLoginRequestUrl:!1},cache:{cacheLocation:D.Ix.LocalStorage,claimsBasedCachingEnabled:!0},system:{navigationClient:e.enableCustomNavigationClient?new $:new U.d,loggerOptions:{logLevel:void 0,loggerCallback:(e,n,r)=>{if(!r)switch(e){case B.i.Error:return void t.error(n);case B.i.Warning:return void t.warn(n);case B.i.Info:return void t.info(n);case B.i.Verbose:t.verbose(n)}},piiLoggingEnabled:!1},allowRedirectInIframe:!!e.msaSessionId}}),this.userStorageProvider=new G({storage:globalThis.localStorage}),this.traceLogger=t,this.msaSessionId=e.msaSessionId,this.silentRedirectUri=e.silentRedirectUri}static async create(e){const t=new X(e);return await t.initialize(),t}async clearStorage(e){const t=this.getAccountByHomeId(e);t?(await this.clearCache({account:t}),this.userStorageProvider.clearAllForUser(e),this.setActiveAccount(null)):this.traceLogger.warn("[MsaPublicClientApplication] -  No account found for msaHomeAccountId. Skipping clearStorage.")}createCorrelationId(){return(0,H.Z)()}async startNewSignInWithRedirect(e){var t;try{this.traceLogger.verbose("[MsaPublicClientApplication] - Clearing out any existing MSA redirect sign-ins."),await this.handleRedirectPromise()}catch(n){const e=(0,L.toError)(n);this.traceLogger.error("[MsaPublicClientApplication] - startNewSignInWithRedirect cleared out in-progress login via instance.handleRedirectPromise.",e)}return this.getLogger().info(`Kicking off MSA loginRedirect with redirectUri: ${null===(t=e.redirectUri)||void 0===t?void 0:t.toString()}`),this.loginRedirect(e)}signInWithExternalTokens(e,t){if(!(null===e||void 0===e?void 0:e.client_info))throw new Error("Missing expected 'client_info' parameter. Try adding a 'client_info: 1' to the body of the request.");const n=this.getTokenCache(),r={scopes:[q.nI],authority:`https://login.windows.net/${F.gT.CONSUMER_UTID}`};let o=e.expires_in,a=e.ext_expires_in;o&&(o+=t,a&&(a+=o));const i={expiresOn:o,extendedExpiresOn:a,clientInfo:e.client_info},s=n.loadExternalTokens(r,e,i);if(!(null===s||void 0===s?void 0:s.account))throw new Error("Error getting account information after loading external tokens to tokenCache");return this.userStorageProvider.writeIsAuthenticatedWithExternalTokens(s.account.homeAccountId,!0),s.account}async startSignOutWithRedirect(e){try{await Promise.race([this.logoutRedirect(e),new Promise(((e,t)=>setTimeout((()=>t(new V)),1e4)))])}catch(t){const e=(0,L.toError)(t);throw this.traceLogger.error("[MsaPublicClientApplication] - startSignOutWithRedirect error",e),t}}async silentSingleSignOn(e){return this.ssoSilent(T()(T()({},e),{},{prompt:"none",redirectUri:new URL(this.silentRedirectUri,window.location.origin).toString()}))}getAccountFromMsaSessionId(){var e;if(this.msaSessionId)return null===(e=this.getAllAccounts())||void 0===e?void 0:e.find((e=>{var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.sid)===this.msaSessionId}))}acquireTokenSilent(e){return super.acquireTokenSilent(T()(T()({},e),{},{redirectUri:new URL(this.silentRedirectUri,window.location.origin).toString()}))}}class V extends z.l{constructor(){super("SignOutRedirectTimedOutError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Sign-out redirect timed out.",arguments.length>1?arguments[1]:void 0)}}var W=n(85215);class j extends z.l{constructor(){let e=arguments.length>1?arguments[1]:void 0;super("UnableToAcquireMsaAccessTokenError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to acquire access token.",e),this.requiresInteraction=e instanceof W.Yo}}class K extends z.l{constructor(){super("UnableToFindAccountInfoError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to find account info.",arguments.length>1?arguments[1]:void 0)}}class Z{constructor(e){this.msaInstance=e.msaInstance,this.accountInfo=e.accountInfo,this.logger=e.logger}async getMsaAccessToken(e){try{try{return(await this.msaInstance.acquireTokenSilent(T()({account:this.accountInfo},e))).accessToken}catch(t){const n=(0,L.toError)(t);if(n instanceof W.Yo){this.logger.verbose("[ClientMsaTokenProvider] Unable to acquire MSA access token silently. Going to try acquiring token using ssoSilent");const t=await this.msaInstance.silentSingleSignOn(T()(T()({},e),{},{account:this.accountInfo}));return this.logger.verbose("[ClientMsaTokenProvider] Successfully acquired MSA access token using ssoSilent"),t.accessToken}throw this.logger.verbose("[ClientMsaTokenProvider] Unable to acquire MSA access token silently and error is not an InteractionRequiredAuthError."),n}}catch(t){const e=(0,L.toError)(t);throw this.logger.error("[ClientMsaTokenProvider] Unable to acquire MSA access token",e),new j(e.message,e)}}}n(21515),n(34715),n(19570);var Y=n(48448),Q=n(92938),J=n(43485);class ee extends z.l{constructor(){super("UnableToAcquireXboxUserTokenError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to acquire xbox user token.",arguments.length>1?arguments[1]:void 0)}}class te extends z.l{constructor(){let e=arguments.length>1?arguments[1]:void 0;super("UnableToAcquireXboxTokenError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to acquire XboxToken.",arguments.length>2?arguments[2]:void 0),this.xboxTokenCacheKey=e}}class ne extends z.l{constructor(){let e=arguments.length>1?arguments[1]:void 0;super("RequiresSisuRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Requires sisu redirect.",arguments.length>2?arguments[2]:void 0),this.xErrorCode=e}}const re="http://auth.xboxlive.com";class oe{constructor(e){this.inflightRequests=new Map,this.userId=e.userId,this.msaTokenProvider=e.msaTokenProvider,this.telemetryProvider=e.telemetryProvider,this.logger=e.telemetryProvider.logger(),this.xboxTokenCache=e.xboxTokenCache,this.httpClient=(0,w.Yr)(new u.HttpClientBuilder,this.telemetryProvider).build(),this.xboxUserTokenRequestFactory=u.RequestFactory.withBaseUrl("https://user.auth.xboxlive.com").setCommonHeaders({[u.HttpHeader.ContentType]:"application/json",[u.HttpHeader.XXBLContractVersion]:"1"}).setCommonMaxRetries(u.DEFAULT_MAX_RETRIES),this.xstsRequestFactory=u.RequestFactory.withBaseUrl("https://xsts.auth.xboxlive.com").setCommonHeaders({[u.HttpHeader.ContentType]:"application/json",[u.HttpHeader.XXBLContractVersion]:"1"}).setCommonMaxRetries(u.DEFAULT_MAX_RETRIES)}destroy(){this.inflightRequests.forEach(((e,t)=>{let{abortController:n}=e;n.abort("[ClientXboxTokenHandler] - Aborting request due to destroy"),this.inflightRequests.delete(t)}))}getOrFetchXboxToken(e){const t=this.xboxTokenCache.getTokenLCE(e),n=(0,I.getUnexpiredDataOrPrevious)(t);if(n)return Promise.resolve(n);const r=this.getInflightRequestCacheKey(e),o=this.inflightRequests.get(r);if(o)return this.logger.info(`[XboxTokenHandler] Returning inflight request for XboxUserToken [identityType:${e.identityType} relyingParty:${e.relyingParty}]`),o.promise;(0,I.isError)(t)&&this.logger.warn(`[XboxTokenHandler] XboxToken is in an error state, will fetch again. Error: ${t.error.message}`);const a=new AbortController,i=this.fetchXboxToken(e,a.signal).finally((()=>{this.inflightRequests.delete(r)}));return this.inflightRequests.set(r,{promise:i,abortController:a}),this.logger.info(`[XboxTokenHandler] Returning new request for XboxToken [identityType:${e.identityType} relyingParty:${e.relyingParty}]`),i}async fetchXboxToken(e,t){try{let n;switch(this.xboxTokenCache.writeTokenAsFetching(e),e.identityType){case Q.Hz.UserToken:n=await this.fetchXboxUserToken(e,t);break;case Q.Hz.XToken:n=await this.fetchXboxXToken(e,t)}const r=Q.kW.parse(n.data),o=Y.I.fromXboxTokenResponseSchema(e,r);return this.xboxTokenCache.writeToken(o),o}catch(n){let e=(0,L.toError)(n);throw this.logger.error("[XboxTokenHandler] Error fetching XboxToken",e),e instanceof z.l||(e=new ee(e.message,e)),this.xboxTokenCache.writeTokenAsError(e,{identityType:Q.Hz.UserToken,relyingParty:re}),e}}async fetchXboxUserToken(e,t){const n=await this.msaTokenProvider.getMsaAccessToken({scopes:[q.nI]});return await this.httpClient.execute(this.xboxUserTokenRequestFactory.post("user/authenticate",JSON.stringify({Properties:{AuthMethod:"RPS",RpsTicket:`d=${n}`,SiteName:"user.auth.xboxlive.com"},RelyingParty:e.relyingParty,TokenType:"JWT"}),{headers:{[u.HttpHeader.CorrelationVector]:this.telemetryProvider.cv().increment()},abortSignal:t}))}async fetchXboxXToken(e,t){var n;try{const r=null!==(n=e.sandboxId)&&void 0!==n?n:J.Q,o={identityType:Q.Hz.UserToken,relyingParty:re,sandboxId:r},a=await this.getOrFetchXboxToken(o);return await this.httpClient.execute(this.xstsRequestFactory.post("xsts/authorize",JSON.stringify({Properties:{SandboxId:r,UserTokens:[a.tokenData.token]},RelyingParty:e.relyingParty,TokenType:"JWT"}),{headers:{[u.HttpHeader.CorrelationVector]:this.telemetryProvider.cv().increment()},abortSignal:t}))}catch(r){const t=(0,L.toError)(r);if(this.logger.error("[XboxTokenHandler] Failed to fetch XToken",t),t instanceof z.l)throw t;if(t instanceof u.HttpError){let n;try{const e=await t.response.json();n=Q.cU.parse(e).XErr}catch(o){const n=(0,L.toError)(o);throw this.logger.error("[XboxTokenHandler] Failed to parse XErr code from response",n),new te(t.message,e,t)}throw new ne(t.message,n,t)}throw new te(t.message,e,t)}}getInflightRequestCacheKey(e){return`${this.userId}.${e.identityType}.${e.relyingParty}`}}var ae=n(30195),ie=n(22373);const se=ae.z.object({ru:ae.z.string(),msaId:ae.z.string(),sid:ae.z.string().optional()}),ce=ae.z.array(ae.z.object({Item1:ae.z.string(),Item2:Q.kW}).transform((e=>({relyingParty:e.Item1,tokenResponse:e.Item2}))));var le=n(24308),ue=n(21672);class de extends ue.p{constructor(e){var t;const n=null!==(t=e.id)&&void 0!==t?t:ue.p.fallbackUserId,r=e.xboxTokenCache;super({id:n,initialXboxTokens:e.initialXboxTokens,xboxTokenCache:r,sandboxId:e.sandboxId}),this.xboxTokenCache=r}destroy(){this.xboxTokenCache.clearAllTokens()}getXboxTokenLCE(e){return this.xboxTokenCache.getTokenLCE({identityType:le.H.XToken,relyingParty:e,sandboxId:this.sandboxId})}isClientAuthUser(){return!0}__unstable__dev_tools(){const e=e=>{this.xboxTokenCache.cache.forEach((t=>{const n=(0,I.getDataOrPrevious)(t);n&&(n.tokenData.expiration=new Date(Date.now()+e),this.xboxTokenCache.writeToken(n))}))};return{expireAllXboxTokens:()=>e(2e3),expireAllXboxTokensInOneMinute:()=>e(6e4)}}}var he=n(90867),me=n(96732),pe=n(23723),ge=n(76474);class fe extends de{constructor(e){const t=e.msaHomeAccountId,n=new me.X({userId:t,storage:globalThis.localStorage,logger:e.telemetryProvider.logger(),eventManager:new pe.t({logger:e.telemetryProvider.logger()})});super(T()(T()({},e),{},{id:t,xboxTokenCache:n})),this.refreshXboxTokenTimeoutIds=new Map,this.msaTokenProvider=e.msaTokenProvider,this.msaHomeAccountId=e.msaHomeAccountId,this.msaName=e.msaName,this.msaUsername=e.msaUsername,this.xboxTokenCache=n,this.authCookiesProvider=e.authCookiesProvider,this.xboxTokenHandler=new oe({userId:this.id,xboxTokenCache:n,msaTokenProvider:this.msaTokenProvider,telemetryProvider:e.telemetryProvider}),this.logger=e.telemetryProvider.logger()}static async createFromMsaAccount(e){const t=new fe(T()(T()({},e),{},{msaHomeAccountId:e.accountInfo.homeAccountId,msaName:e.accountInfo.name,msaUsername:e.accountInfo.username}));try{await Promise.all((0,ge.IL)().map((e=>t.getOrFetchXboxToken(e))))}catch(n){const e=(0,L.toError)(n);throw t.destroy(),e}return t.initializeXboxTokenRefreshTimeouts(),t}static hydrateFromMsaAccount(e){const t=new fe(T()(T()({},e),{},{msaHomeAccountId:e.accountInfo.homeAccountId,msaName:e.accountInfo.name,msaUsername:e.accountInfo.username}));for(const n of(0,ge.IL)()){const r=t.getXboxTokenLCE(n);if(!(0,I.isContent)(r))throw t.destroy(),new Error(`XboxTokenLCE needs to be content for hydration [relyingParty:${n}]`);t.updateSandboxId(r.data.sandboxId),e.authCookiesProvider.writeXboxTokenAsCookie(r.data)}return t.initializeXboxTokenRefreshTimeouts(),t}static createFromSisuRemediationAccessToken(e){let{telemetryProvider:t,msaTokenProvider:n,accessToken:r,accountInfo:o,sandboxId:a,authCookiesProvider:i}=e;const s=atob(r),c=(l=s,ie.D.pipe(ce).parse(l)).map((e=>Y.I.fromXboxTokenResponseSchema({identityType:le.H.XToken,relyingParty:e.relyingParty,sandboxId:a},T()({},e.tokenResponse))));var l;const u=new fe({msaHomeAccountId:o.homeAccountId,msaName:o.name,msaUsername:o.username,telemetryProvider:t,msaTokenProvider:n,initialXboxTokens:c,sandboxId:a,authCookiesProvider:i});return u.initializeXboxTokenRefreshTimeouts(),u}destroy(){super.destroy(),this.xboxTokenHandler.destroy(),this.refreshXboxTokenTimeoutIds.forEach((e=>{clearTimeout(e)}))}async getOrFetchXboxToken(e){return this.xboxTokenHandler.getOrFetchXboxToken({identityType:le.H.XToken,relyingParty:e,sandboxId:this.sandboxId})}isFullUser(){return!0}isSessionUser(){return!1}addEventListener(e,t,n){this.xboxTokenCache.addEventListener(e,t,n)}removeEventListener(e,t,n){this.xboxTokenCache.removeEventListener(e,t,n)}initializeXboxTokenRefreshTimeouts(){this.logger.verbose("[FullClientAuthUser] - Initializing XboxToken refresh timeouts");const e=this.xboxTokenCache.getAllLceTokens();for(const t of e){if(!(0,I.isContent)(t))continue;const e=t.data;if(e.identityType!==le.H.XToken)continue;const n=e.tokenData.expiration.getTime()-Date.now();if(n<=0){this.logger.verbose(`[FullClientAuthUser] - Token expired. Refreshing now [relyingParty:${e.relyingParty}]`),this.refreshXboxToken(e.relyingParty);continue}const r=e.relyingParty,o=setTimeout((()=>{this.refreshXboxToken(r)}),n);this.refreshXboxTokenTimeoutIds.set(r,o),this.logger.verbose(`[FullClientAuthUser] - Set timeout to refresh token [relyingParty:${r} msUntilExpiration:${n}]`)}}async refreshXboxToken(e){try{const t=await this.getOrFetchXboxToken(e),n=t.tokenData.expiration.getTime()-Date.now();if(n<=0)return void this.logger.warn(`[FullClientAuthUser] - Token expired after refresh. Going to ignore [relyingParty:${e}]`);const r=setTimeout((()=>{this.refreshXboxToken(e)}),n);this.refreshXboxTokenTimeoutIds.set(e,r),this.logger.verbose(`[FullClientAuthUser] - Successfully refreshed. Setting new timeout. [relyingParty:${e} msUntilExpiration:${n}]`),(0,ge.IL)().includes(e)&&this.authCookiesProvider.writeXboxTokenAsCookie(t)}catch(t){const n=(0,L.toError)(t);this.logger.error(`[FullClientAuthUser] - Failed to refresh token [relyingParty:${e}]`,n)}}}class ve extends de{static hydrateFromXboxTokenOverride(e){return new ve({sandboxId:e.xboxToken.sandboxId,telemetryProvider:e.telemetryProvider,initialXboxTokens:[e.xboxToken],xboxTokenCache:new me.p({logger:e.telemetryProvider.logger(),userId:ue.p.fallbackUserId})})}isSessionUser(){return!0}isFullUser(){return!1}}var _e=n(47772),ye=n(94944),be=n(16065),Ee=n(89895),Ce=n(14710);class Se extends z.l{constructor(){super("CompleteAuthenticationViaRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"No account found in redirect result",arguments.length>1?arguments[1]:void 0)}}class Te extends z.l{constructor(){super("UnableToCompleteSignInAuthenticationRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to complete sign in authentication redirect",arguments.length>1?arguments[1]:void 0)}}class Ie extends z.l{constructor(){super("UnableToCompleteSignInAfterRedirectFromSisuError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to complete sign in after redirect from SISU",arguments.length>1?arguments[1]:void 0)}}class we extends z.l{constructor(){super("AuthenticationRedirectLoopDetectedError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Authentication redirect loop detected",arguments.length>1?arguments[1]:void 0)}}class Ae extends z.l{constructor(){super("UnableToStartSignInAuthenticationRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to start sign in authentication redirect",arguments.length>1?arguments[1]:void 0)}}class ke extends z.l{constructor(){super("UnableToSignInWithExternalTokensError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to sign in with external tokens",arguments.length>1?arguments[1]:void 0)}}class Pe extends z.l{constructor(){super("UnableToStartFrontChannelSignOutError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to start front channel sign out",arguments.length>1?arguments[1]:void 0)}}class xe extends z.l{constructor(){super("UnableToSignOutAuthenticationRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to sign out authentication redirect",arguments.length>1?arguments[1]:void 0)}}class Re extends z.l{constructor(){super("NotInMiddleOfMsaRedirectFlowError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Not in the middle of an MSA redirect flow",arguments.length>1?arguments[1]:void 0)}}class Ne{constructor(e){this.store=e.store||sessionStorage,this.key=e.key||"loginRedirectsCount",this.logger=e.logger}incrementAttemptOrThrow(){if(this.get()>0){this.reset();const e=new we;throw this.logger.error(`[LoginRedirectsCounter] ${e.message}`,e),e}this.increment()}reset(){this.store.removeItem(this.key)}increment(){this.store.setItem(this.key,String(this.get()+1))}get(){return Number(this.store.getItem(this.key)||0)}}class Oe extends Ce.f{constructor(e){var t,n;const r=e.telemetryProvider.logger(),o=e.authCookiesProvider;super({authCookiesProvider:o}),this.users=new Map,this._initialized=!1,this.authCookiesProvider=o,this.msaInstance=e.msaInstance,this.telemetryProvider=e.telemetryProvider,this.logger=r,this.loginRedirectsCounter=new Ne({logger:this.logger}),this.defaultRedirectUrl=e.defaultRedirectUrl,this.locale=e.locale,this.eventManager=new ye.X({logger:r}),this.isSisuUcsSupportEnabled=null!==(t=e.isSisuUcsSupportEnabled)&&void 0!==t&&t,this.skipLoginRedirectCounter=null!==(n=e.skipLoginRedirectCounter)&&void 0!==n&&n;for(const a of e.initialAuthUsers)this.users.set(a.id,a),this.logger.verbose(`[ClientAuthProvider] Loaded AuthUser from cache [userId:${a.id}]`);globalThis.location.pathname.includes(this.defaultRedirectUrl)||(0===e.initialAuthUsers.length?(this.logger.verbose("[ClientAuthProvider] No AuthUsers loaded from cache. Going to try to ssoSilent"),this.attemptSsoSilent()):this.initialized=!0)}get initialized(){return this._initialized}set initialized(e){this._initialized!==e&&(this._initialized=e,e&&this.eventManager.dispatchEvent(new Ee.N))}static async create(e){var t;const n=e.telemetryProvider.logger(),r=await X.create({logger:n,msaSessionId:e.msaSessionId,silentRedirectUri:e.silentRedirectUri,enableCustomNavigationClient:!0===e.skipLoginRedirectCounter}),o=new he.y({cookiesProvider:e.cookiesProvider,logger:n}),a=[],i=r.getAllAccounts();for(const c of i){const t=new Z({accountInfo:c,msaInstance:r,logger:n});try{const n=fe.hydrateFromMsaAccount({accountInfo:c,msaTokenProvider:t,telemetryProvider:e.telemetryProvider,authCookiesProvider:o});a.push(n)}catch(s){const e=(0,L.toError)(s);n.warn(`[ClientAuthProvider] - Failed to hydrate from MSA account. This is OK. Skipping account [errorMessage:${e.message}]`);continue}}if(0===a.length){n.verbose("[ClientAuthProvider] - No hydrated AuthUsers found. We will attempt to load a user from XboxToken override session cookie.");const t=o.readXboxTokenOverrideFromSessionCookie();if(t){n.verbose("[ClientAuthProvider] - Found XboxToken override cookie. Creating AuthUser.");const r=ve.hydrateFromXboxTokenOverride({telemetryProvider:e.telemetryProvider,xboxToken:t});a.push(r)}}return new Oe({telemetryProvider:e.telemetryProvider,msaInstance:r,defaultRedirectUrl:e.defaultRedirectUrl,locale:e.locale,initialAuthUsers:a,authCookiesProvider:o,isSisuUcsSupportEnabled:null!==(t=e.isSisuUcsSupportEnabled)&&void 0!==t&&t,skipLoginRedirectCounter:e.skipLoginRedirectCounter})}isInitialized(){return this.initialized}getAuthUser(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de.fallbackUserId;var t;return null!==(t=this.users.get(e))&&void 0!==t?t:null}getActiveAuthUser(){return this.getAuthUser(this.getMsaActiveHomeAccountId())}async attemptV2ToV3UserTransition(){if(this.getActiveAuthUser())return;const[e]=this.msaInstance.getAllAccounts();if(!e)return;globalThis.localStorage.getItem("xboxcom_xbl_user_info")&&await this.handleNewMsaUser(e,be.q.SilentSignIn)}async startSignInWithRedirect(e){var t;try{this.skipLoginRedirectCounter||this.loginRedirectsCounter.incrementAttemptOrThrow();const n=this.msaInstance.createCorrelationId(),r=null!==(t=e.prompt)&&void 0!==t?t:"select_account",o={scopes:[s.nI],prompt:r,extraQueryParameters:{},state:encodeURIComponent(e.returnUrlAfterSignIn),correlationId:n,onRedirectNavigate:()=>("select_account"===r&&this.authCookiesProvider.deleteAllAuthRelatedCookies(),!0)},a=new URLSearchParams(location.search),i=a.get(s.Em);i&&(o.extraQueryParameters={[s.Em]:i});const c=new URL(this.defaultRedirectUrl,window.location.origin),l=new URLSearchParams;l.set("action","loggedIn");const u=a.get(s.gZ);return u&&l.set(s.gZ,u),l.set("locale_hint",this.locale),c.search=l.toString(),o.redirectUri=c.toString(),this.telemetryProvider.logAuthAction({name:"XboxAuthMSAInteractiveSignInStarted",version:"v3",msaCorrelationId:n,prompt:r}),await this.msaInstance.startNewSignInWithRedirect(o)}catch(n){const e=(0,L.toError)(n);if(e instanceof z.l)throw e;throw new Ae("Unable to start sign in authentication redirect",e)}}async signInWithExternalMsaTokens(e){try{const t=this.msaInstance.signInWithExternalTokens(e.serverAuthorizationTokenResponse,e.requestTimestamp);await this.handleNewMsaUser(t,be.q.DeviceCodeSignIn),this.telemetryProvider.logAuthAction({name:"XboxAuthMSADeviceCodeSignInSuccess",version:"v3",msaCorrelationId:e.msaCorrelationId})}catch(t){let n=(0,L.toError)(t);throw n instanceof z.l||(n=new ke("Unable to sign in with external tokens",n)),this.telemetryProvider.logAuthAction({name:"XboxAuthMSADeviceCodeSignInError",version:"v3",error:n,message:n.message,msaCorrelationId:e.msaCorrelationId}),n}}async startSignOutWithRedirect(e){var t,n,r,o;const a=this.msaInstance.createCorrelationId();this.loginRedirectsCounter.reset();try{if(e.msaSessionId){const t=this.msaInstance.getAllAccounts().find((t=>{const n=t.idTokenClaims;return(null===n||void 0===n?void 0:n.sid)===e.msaSessionId}));return void await this.msaInstance.startSignOutWithRedirect({account:t,correlationId:a,onRedirectNavigate:()=>!1})}const i=null!==(t=e.msaHomeAccountId)&&void 0!==t?t:this.getMsaActiveHomeAccountId();if(!i)return this.logger.warn("[ClientAuthProvider] - No MSA account found to sign out, just clearing cookies and redirecting"),this.authCookiesProvider.deleteAllAuthRelatedCookies(),void(null===(n=globalThis.window)||void 0===n||n.location.assign(e.returnUrlAfterSignOut));const s=this.getAuthUser(i),c="true"===(null===(r=globalThis.localStorage.getItem("xboxcom_msa_isExternalSignIn"))||void 0===r?void 0:r.toLowerCase());if(this.msaInstance.userStorageProvider.readIsAuthenticatedWithExternalTokens(i)||c)return this.logger.info("[ClientAuthProvider] - Signing out external user"),await this.msaInstance.clearStorage(i),null===s||void 0===s||s.destroy(),this.msaInstance.userStorageProvider.clearAllForUser(i),this.authCookiesProvider.deleteAllAuthRelatedCookies(),void(null===(o=globalThis.window)||void 0===o||o.location.assign(e.returnUrlAfterSignOut));{this.logger.info("[ClientAuthProvider] - Signing out normal user");if(!this.msaInstance.getAccountByHomeId(i))throw new K;const t=new URL(this.defaultRedirectUrl,window.location.origin),n=new URLSearchParams;n.set("action","loggedOut"),n.set("returnUrl",e.returnUrlAfterSignOut),n.set("locale_hint",this.locale),t.search=n.toString(),this.telemetryProvider.logAuthAction({name:"XboxAuthMSASignOut",version:"v3",msaCorrelationId:a}),await this.msaInstance.startSignOutWithRedirect({correlationId:a,postLogoutRedirectUri:t.toString(),onRedirectNavigate:()=>(null===s||void 0===s||s.destroy(),this.msaInstance.userStorageProvider.clearAllForUser(i),this.authCookiesProvider.deleteAllAuthRelatedCookies(),this.telemetryProvider.logAuthAction({name:"XboxAuthMSASignOutOnRedirect",version:"v3",msaCorrelationId:a}),!0)})}}catch(i){const e=(0,L.toError)(i);if(e instanceof z.l)throw e;throw new xe("Unable to sign out",e)}}async startFrontChannelSignOut(){try{const e=this.msaInstance.getAccountFromMsaSessionId();if(!e)throw new Pe;await this.msaInstance.startSignOutWithRedirect({account:e,onRedirectNavigate:()=>!1})}catch(e){const t=(0,L.toError)(e);if(t instanceof z.l)throw t;throw new Pe("Unable to start front channel sign out",t)}}async completeSignInAfterRedirectIfNeeded(){this.logger.info("[ClientAuthProvider] Completing sign in after redirect");try{const e=await this.msaInstance.handleRedirectPromise();if(!e)throw new Re;const t=null===e||void 0===e?void 0:e.account,n=null===e||void 0===e?void 0:e.state;if(!t||!n){const e=new Se,t="[ClientAuthProvider] No account found in redirect result";throw this.logger.error(t,e),this.telemetryProvider.logAuthAction({name:"XboxAuthMSAInteractiveSignInError",version:"v3",message:t,error:e}),e}this.loginRedirectsCounter.reset();const r=decodeURIComponent(n);return this.telemetryProvider.logAuthAction({name:"XboxAuthMSAInteractiveSignInSuccess",version:"v3"}),await this.handleNewMsaUser(t,be.q.InteractiveSignIn,r),this.initialized=!0,r}catch(e){const t=(0,L.toError)(e);if(t instanceof z.l)throw t;throw new Te("Unable to complete sign in authentication redirect",t)}}async completeSignInAfterRedirectFromSisu(){var e;try{const t=globalThis.location.hash.replace("#",""),n=new URLSearchParams(t),r=n.get("state");if(!r)throw new Error("No state found in searchParams from sisu redirect");const{sisuReturnUrl:o,msaHomeAccountId:a,sandboxId:i}=function(e){const t=ie.D.pipe(se).parse(e);return{sisuReturnUrl:t.ru,msaHomeAccountId:t.msaId,sandboxId:t.sid}}(r),s=null!==(e=n.get("cv"))&&void 0!==e?e:"";this.logger.info(`[ClientAuthProvider] - attempting to complete a pending SISU remediation with cV: ${s}`);if(!this.msaInstance.userStorageProvider.readHasAttemptedSisuRemediation(a))throw new Error("User has not initiated SISU remediation");const c=n.get("accessToken");if(!c)throw new Error("No accessToken found in searchParams from sisu redirect");const l=this.msaInstance.getAccountByHomeId(a);if(!l)throw new K;const u=new Z({msaInstance:this.msaInstance,accountInfo:l,logger:this.logger}),d=fe.createFromSisuRemediationAccessToken({telemetryProvider:this.telemetryProvider,msaTokenProvider:u,accessToken:c,accountInfo:l,sandboxId:i,authCookiesProvider:this.authCookiesProvider});return this.users.set(d.id,d),await this.setActiveMsaAccount(l,d,be.q.InteractiveSignIn),this.telemetryProvider.logAuthAction({name:"XboxAuthXblSisuRemediationRedirectSuccess",version:"v3"}),o}catch(t){let e=(0,L.toError)(t);throw e instanceof z.l||(e=new Ie("Unable to complete sign in after redirect from SISU",e)),this.telemetryProvider.logAuthAction({name:"XboxAuthXblSisuRemediationRedirectError",version:"v3",error:e}),t}}createMsaCorrelationId(){return this.msaInstance.createCorrelationId()}isClientInstance(){return!0}addEventListener(e,t,n){this.eventManager.addEventListener(e,t,n)}removeEventListener(e,t,n){this.eventManager.removeEventListener(e,t,n)}__unstable__dev_tools(){return{expireAllMsaAccessTokens:()=>{for(let e=0,t=localStorage.length;e<t;++e){const t=localStorage.key(e);if(null===t||void 0===t?void 0:t.includes("login.windows.net-accesstoken")){const e=localStorage.getItem(t);if(!e)continue;const n=JSON.parse(e),r=T()(T()({},n),{},{expiresOn:"0"});localStorage.setItem(t,JSON.stringify(r))}}},deleteMsaRefreshToken:()=>{for(let e=0,t=localStorage.length;e<t;++e){const t=localStorage.key(e);(null===t||void 0===t?void 0:t.includes("login.windows.net-refreshtoken"))&&localStorage.removeItem(t)}},expireXboxTokensInLocalStorageForActiveUser:()=>{const e=this.getActiveAuthUser();e&&e.__unstable__dev_tools().expireAllXboxTokens()},expireXboxTokensInOneMinuteInLocalStorageForActiveUser:()=>{const e=this.getActiveAuthUser();e&&e.__unstable__dev_tools().expireAllXboxTokensInOneMinute()}}}async handleNewMsaUser(e,t,n){var r;this.logger.verbose(`[ClientAuthProvider] Handling new MSA user [msaHomeAccountId:${e.homeAccountId} returnUrlAfterSignIn:${n}]`);const o=new URLSearchParams(globalThis.location.search).get(s.gZ),a=null!==o&&void 0!==o?o:J.Q;try{const n=new Z({msaInstance:this.msaInstance,accountInfo:e,logger:this.logger}),o=await fe.createFromMsaAccount({accountInfo:e,telemetryProvider:this.telemetryProvider,msaTokenProvider:n,sandboxId:a,authCookiesProvider:this.authCookiesProvider});this.users.set(o.id,o),await this.setActiveMsaAccount(e,o,t),this.authCookiesProvider.writeMsaRecentlyAuthenticatedCookie();const i="true"===(null===(r=globalThis.localStorage.getItem("xboxcom_msa_isExternalSignIn"))||void 0===r?void 0:r.toLowerCase());this.msaInstance.userStorageProvider.readIsAuthenticatedWithExternalTokens(e.homeAccountId)||this.msaInstance.userStorageProvider.writeIsAuthenticatedWithExternalTokens(e.homeAccountId,i);const s=["xboxcom_msa_username","xboxcom_xbl_user_info","xboxcom_msa_isExternalSignIn","xboxcom_accountRemediationRequired"];for(const e of s)globalThis.localStorage.removeItem(e)}catch(i){const t=(0,L.toError)(i);if(t instanceof z.l)throw t instanceof ne&&await this.handleSisuRedirectErrorForMsaUser(e,a,n),t;throw i}}async handleSisuRedirectErrorForMsaUser(e,t,n){var r;this.msaInstance.userStorageProvider.readHasAttemptedSisuRemediation(e.homeAccountId)&&(this.logger.warn("[ClientAuthProvider] Signing out user due to already attempting to remediate SISU error, but user was unable to remediate"),await this.startSignOutWithRedirect({msaHomeAccountId:e.homeAccountId,returnUrlAfterSignOut:null!==n&&void 0!==n?n:globalThis.location.href})),this.msaInstance.userStorageProvider.writeHasAttemptedSisuRemediation(e.homeAccountId,!0);const o=null===(r=e.idTokenClaims)||void 0===r?void 0:r.login_hint;if(!o)throw new Error("No msaAccountLoginHint found in accountInfo");const a=new URL(this.defaultRedirectUrl,window.location.origin),i=new URLSearchParams;i.set("action","loggedIn"),a.search=i.toString();const s=new URL("/connect/XboxLive","https://sisu.xboxlive.com/"),c=new URLSearchParams;c.set("ru",a.toString()),c.set("login_hint",o),this.isSisuUcsSupportEnabled&&(c.set("userPrompts","XboxOptionalDataCollection"),c.set("consent","required"));const l=this.telemetryProvider.cv().increment();c.set("cv",l);let u=n;u||(u=globalThis.location.href.includes(this.defaultRedirectUrl)?"/":globalThis.location.href),c.set("state",function(e){const t={ru:e.sisuReturnUrl,msaId:e.msaHomeAccountId,sid:e.sandboxId};return JSON.stringify(t)}({sisuReturnUrl:u,msaHomeAccountId:e.homeAccountId,sandboxId:t})),s.search=c.toString();const d=s.toString();this.logger.info(`[ClientAuthProvider] - Redirecting to SISU remediation flow for cv ${l}, to url: ${d}`),this.telemetryProvider.logAuthAction({name:"XboxAuthXblSisuRemediationRedirectStarted",version:"v3",sisuCv:l}),await this.navigateToExternalHrefAndBlock(d)}async navigateToExternalHrefAndBlock(e){globalThis.location.href=e,await new Promise((e=>{setTimeout(e,5e3)}))}getMsaActiveHomeAccountId(){var e;return null===(e=this.msaInstance.getActiveAccount())||void 0===e?void 0:e.homeAccountId}getAuthUserOrThrow(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de.fallbackUserId;const t=this.getAuthUser(e);if(!t)throw this.logger.verbose(`[ClientAuthProvider] No AuthUser found [id:${e}]`),new Error("[ClientAuthProvider] No AuthUser found");return t}async setActiveMsaAccount(e,t,n){this.msaInstance.setActiveAccount(e),this.eventManager.dispatchEvent(new _e.S(n));const r=await Promise.all((0,ge.IL)().map((e=>t.getOrFetchXboxToken(e))));for(const o of r)this.authCookiesProvider.writeXboxTokenAsCookie(o)}async attemptSsoSilent(){const e=this.msaInstance.createCorrelationId();try{this.telemetryProvider.logAuthAction({name:"XboxAuthMSASilentSignInStarted",version:"v3",msaCorrelationId:e,mode:"sso"});const{account:t}=await this.msaInstance.silentSingleSignOn({correlationId:e});t&&(await this.handleNewMsaUser(t,be.q.SilentSignIn),this.telemetryProvider.logAuthAction({name:"XboxAuthMSASilentSignInSuccess",version:"v3",msaCorrelationId:e,mode:"sso"}))}catch(t){const n=(0,L.toError)(t);this.logger.info(`[ClientAuthProvider] - Attempted ssoSilent with no success [error:${n.message}]`),this.telemetryProvider.logAuthAction({name:"XboxAuthMSASilentSignInError",version:"v3",error:n,message:n.message,msaCorrelationId:e,mode:"sso"})}finally{this.initialized=!0}}}n(38463)},38838:(e,t,n)=>{"use strict";n.d(t,{p:()=>c});var r=n(30195),o=n(48448),a=n(4806),i=n(22373),s=n(92938);class c{constructor(e){this.xboxTokenOverrideCookieKey="xbox_token_override",this.xboxTokenCookieExtractorRegex=/^XBXXtk(rp.+|http.+)$/,this.logger=e.logger,this.cookiesProvider=e.cookiesProvider}readXboxTokenOverrideFromSessionCookie(){const e=this.cookiesProvider.get(this.xboxTokenOverrideCookieKey);if(!e)return;const t=i.D.pipe(s.ti).safeParse(e);if(t.success)return o.I.fromXboxTokenOverrideSchema(t.data);this.logger.warn(`[ClientAuthCookiesProvider] - Failed to parse XboxTokenOverride cookie [value:${e}]`)}readPreviouslyAuthenticatedCookie(){const e=this.cookiesProvider.get(a.wG);if(!e)return;const t=r.z.coerce.number().transform(((e,t)=>{const n=new Date(e);return isNaN(n.getTime())?(t.addIssue({code:r.z.ZodIssueCode.invalid_date,message:`Invalid date [value:${e}]`}),r.z.NEVER):n})).safeParse(e);if(t.success)return t.data;this.logger.warn(`[AuthCookiesProvider] - Failed to parse previouslyAuthenticated cookie [value:${e}]`)}deletePreviouslyAuthenticatedCookie(){this.cookiesProvider.delete(a.wG,{path:"/",domain:".xbox.com"})}readSandboxIdCookie(){return this.cookiesProvider.get(a.if)}deleteSandboxIdCookie(){this.cookiesProvider.delete(a.if,{path:"/",domain:".xbox.com"})}hasMsaRecentlyAuthenticatedCookie(){return this.cookiesProvider.get(a.x1)===a.JC}deleteMsaRecentlyAuthenticatedCookie(){this.cookiesProvider.delete(a.x1,{path:"/",domain:".xbox.com"})}makeXboxTokenCookieKey(e){return`XBXXtk${e.relyingParty}`}makeXboxTokenCookieKeyForRelyingParty(e){return`XBXXtk${e}`}}},90867:(e,t,n)=>{"use strict";n.d(t,{y:()=>d});n(88233),n(31235),n(6886);var r=n(16216),o=n(4806),a=n(43485),i=n(76090),s=n(76474),c=n(38838),l=n(24560);class u extends l.l{constructor(){super("XboxTokenNotAllowedAsCookieError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"XboxToken not allowed as cookie",arguments.length>1?arguments[1]:void 0)}}class d extends c.p{writeXboxTokenAsCookie(e){if(!(0,s.IL)().includes(e.relyingParty))throw new u(`This XboxToken cannot be written as a cookie because it's relying party is not allowed [relyingParty:${e.relyingParty}]`);const t=this.makeXboxTokenCookieKey(e);(0,r.kTi)(t,"/",".xbox.com"),this.cookiesProvider.set(t,e.serializeForCookie(),{expires:e.tokenData.expiration,sameSite:"none",path:"/",secure:!0,domain:".xbox.com",essential:!0}),this.writePreviouslyAuthenticatedCookie(),e.sandboxId.toUpperCase()!==a.Q&&this.writeSandboxIdCookie(e.sandboxId.toUpperCase()),this.logger.verbose(`[AuthCookiesProvider] - Set cookie for XboxToken [relyingParty:${e.relyingParty}]`)}writeMsaRecentlyAuthenticatedCookie(){this.cookiesProvider.set(o.x1,o.JC,{expires:(0,i.Op)(),sameSite:"lax",path:"/",secure:!0,domain:".xbox.com",essential:!0})}deleteAllAuthRelatedCookies(){this.deleteAllXboxTokenCookies(),this.deletePreviouslyAuthenticatedCookie(),this.deleteSandboxIdCookie(),this.deleteMsaRecentlyAuthenticatedCookie()}deleteAllXboxTokenCookies(){for(const e of Object.values(o.Q7))this.cookiesProvider.delete(this.makeXboxTokenCookieKeyForRelyingParty(e),{path:"/",domain:".xbox.com"})}writePreviouslyAuthenticatedCookie(){this.cookiesProvider.set(o.wG,Date.now().toString(),{expires:(0,i.ZM)(),sameSite:"lax",path:"/",secure:!0,domain:".xbox.com",essential:!0})}writeSandboxIdCookie(e){this.cookiesProvider.set(o.if,e,{expires:(0,i.ZM)(),sameSite:"lax",path:"/",secure:!0,domain:".xbox.com",essential:!0})}}},14710:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});class r{constructor(e){this.authCookiesProvider=e.authCookiesProvider}lastAuthenticationDate(){return this.authCookiesProvider.readPreviouslyAuthenticatedCookie()}}},88747:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});class r{constructor(e){this.token=e.token,this.expiration=e.expiration,this.issueInstant=e.issueInstant,this.userHash=e.userHash,this.userGamertag=e.userGamertag,this.userModernGamertag=e.userModernGamertag,this.userModernGamertagSuffix=e.userModernGamertagSuffix,this.userUniqueModernGamertag=e.userUniqueModernGamertag,this.userXuid=e.userXuid,this.userAgeGroup=e.userAgeGroup,this.userPrivileges=e.userPrivileges,this.userSettingsRestrictions=e.userSettingsRestrictions,this.userEnforcementRestrictions=e.userEnforcementRestrictions,this.userTitleRestrictions=e.userTitleRestrictions}static deserialize(e){return new r(e)}static fromXboxTokenJwt(e){var t,n,o,a,i,s,c,l,u,d,h,m,p,g,f,v,_,y,b,E,C,S,T,I,w,A,k,P,x,R,N,O,L;return new r({token:e.Token,expiration:e.ExpiresAt,issueInstant:e.IssueInstant,userHash:null===(o=null===(n=null===(t=e.DisplayClaims)||void 0===t?void 0:t.xui)||void 0===n?void 0:n[0])||void 0===o?void 0:o.uhs,userGamertag:null===(s=null===(i=null===(a=e.DisplayClaims)||void 0===a?void 0:a.xui)||void 0===i?void 0:i[0])||void 0===s?void 0:s.gtg,userModernGamertag:null===(u=null===(l=null===(c=e.DisplayClaims)||void 0===c?void 0:c.xui)||void 0===l?void 0:l[0])||void 0===u?void 0:u.mgt,userModernGamertagSuffix:null===(m=null===(h=null===(d=e.DisplayClaims)||void 0===d?void 0:d.xui)||void 0===h?void 0:h[0])||void 0===m?void 0:m.mgs,userUniqueModernGamertag:null===(f=null===(g=null===(p=e.DisplayClaims)||void 0===p?void 0:p.xui)||void 0===g?void 0:g[0])||void 0===f?void 0:f.umg,userXuid:null===(y=null===(_=null===(v=e.DisplayClaims)||void 0===v?void 0:v.xui)||void 0===_?void 0:_[0])||void 0===y?void 0:y.xid,userAgeGroup:null===(C=null===(E=null===(b=e.DisplayClaims)||void 0===b?void 0:b.xui)||void 0===E?void 0:E[0])||void 0===C?void 0:C.agg,userPrivileges:null===(I=null===(T=null===(S=e.DisplayClaims)||void 0===S?void 0:S.xui)||void 0===T?void 0:T[0])||void 0===I?void 0:I.prv,userSettingsRestrictions:null===(k=null===(A=null===(w=e.DisplayClaims)||void 0===w?void 0:w.xui)||void 0===A?void 0:A[0])||void 0===k?void 0:k.usr,userEnforcementRestrictions:null===(R=null===(x=null===(P=e.DisplayClaims)||void 0===P?void 0:P.xui)||void 0===x?void 0:x[0])||void 0===R?void 0:R.uer,userTitleRestrictions:null===(L=null===(O=null===(N=e.DisplayClaims)||void 0===N?void 0:N.xui)||void 0===O?void 0:O[0])||void 0===L?void 0:L.utr})}serialize(){return{token:this.token,expiration:this.expiration,issueInstant:this.issueInstant,userHash:this.userHash,userGamertag:this.userGamertag,userModernGamertag:this.userModernGamertag,userModernGamertagSuffix:this.userModernGamertagSuffix,userUniqueModernGamertag:this.userUniqueModernGamertag,userXuid:this.userXuid,userAgeGroup:this.userAgeGroup,userPrivileges:this.userPrivileges,userSettingsRestrictions:this.userSettingsRestrictions,userEnforcementRestrictions:this.userEnforcementRestrictions,userTitleRestrictions:this.userTitleRestrictions}}}},48448:(e,t,n)=>{"use strict";n.d(t,{I:()=>l});var r=n(814),o=n.n(r),a=(n(6710),n(4806)),i=n(43485),s=n(92938),c=n(88747);class l{constructor(e){var t;this.userId=e.userId,this.identityType=e.identityType,this.relyingParty=e.relyingParty,this.tokenData=c.q.deserialize(e.tokenData),this.sandboxId=null!==(t=e.sandboxId)&&void 0!==t?t:i.Q}static fromServerXboxTokenSchema(e,t){return new l(o()(o()({},t),{},{relyingParty:e}))}static fromXboxTokenResponseSchema(e,t){var n,r,a,i,s,c,u,d,h,m,p,g,f,v,_,y,b,E,C,S,T,I;const w=t.DisplayClaims;return new l(o()(o()({},e),{},{tokenData:{token:t.Token,expiration:t.ExpiresAt,issueInstant:t.IssueInstant,userHash:null===(r=null===(n=null===w||void 0===w?void 0:w.xui)||void 0===n?void 0:n[0])||void 0===r?void 0:r.uhs,userGamertag:null===(i=null===(a=null===w||void 0===w?void 0:w.xui)||void 0===a?void 0:a[0])||void 0===i?void 0:i.gtg,userModernGamertag:null===(c=null===(s=null===w||void 0===w?void 0:w.xui)||void 0===s?void 0:s[0])||void 0===c?void 0:c.mgt,userModernGamertagSuffix:null===(d=null===(u=null===w||void 0===w?void 0:w.xui)||void 0===u?void 0:u[0])||void 0===d?void 0:d.mgs,userUniqueModernGamertag:null===(m=null===(h=null===w||void 0===w?void 0:w.xui)||void 0===h?void 0:h[0])||void 0===m?void 0:m.umg,userXuid:null===(g=null===(p=null===w||void 0===w?void 0:w.xui)||void 0===p?void 0:p[0])||void 0===g?void 0:g.xid,userAgeGroup:null===(v=null===(f=null===w||void 0===w?void 0:w.xui)||void 0===f?void 0:f[0])||void 0===v?void 0:v.agg,userPrivileges:null===(y=null===(_=null===w||void 0===w?void 0:w.xui)||void 0===_?void 0:_[0])||void 0===y?void 0:y.prv,userSettingsRestrictions:null===(E=null===(b=null===w||void 0===w?void 0:w.xui)||void 0===b?void 0:b[0])||void 0===E?void 0:E.usr,userEnforcementRestrictions:null===(S=null===(C=null===w||void 0===w?void 0:w.xui)||void 0===C?void 0:C[0])||void 0===S?void 0:S.uer,userTitleRestrictions:null===(I=null===(T=null===w||void 0===w?void 0:w.xui)||void 0===T?void 0:T[0])||void 0===I?void 0:I.utr}}))}static fromXboxTokenOverrideSchema(e){let{token:t,userHash:n}=e;return new l({identityType:s.Hz.XToken,relyingParty:a.Q7.MDollar,tokenData:{expiration:new Date(Date.now()+864e5),issueInstant:new Date,token:t,userHash:n}})}serialize(){return{identityType:this.identityType,relyingParty:this.relyingParty,tokenData:this.tokenData.serialize(),sandboxId:this.sandboxId}}serializeForCookie(){const e={identityType:this.identityType,tokenData:this.tokenData.serialize(),sandboxId:this.sandboxId,userId:this.userId};return JSON.stringify(e)}}},39002:(e,t,n)=>{"use strict";n.d(t,{E:()=>r.E,h:()=>r.h});var r=n(57497)},57497:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,h:()=>s});n(6886);var r=n(16216),o=n(4806);const a="";var i;!function(e){e.SET_USER_INFO="@user/SET_USER_INFO",e.RESET_USER_INFO="@user/RESET_USER_INFO",e.UPDATE_AAD_USER="@user/UPDATE_AAD_USER ",e.FETCH_AGE_GATING_INFO="@user/UPDATE_AGE_GATING_INFO",e.UPDATE_USER_AGE_GATING_INFO="@user/UPDATE_USER_AGE_GATING_INFO",e.FETCH_AGE_GATING_INFO_ERROR="@user/UPDATE_AGE_GATING_INFO_ERROR",e.FETCH_PRIVACY_CONSENT_UI_DETAILS="@user/FETCH_PRIVACY_CONSENT_UI_DETAILS",e.FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS="@user/FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS",e.FETCH_PRIVACY_CONSENT_UI_DETAILS_ERROR="@user/FETCH_PRIVACY_CONSENT_UI_DETAILS_ERROR",e.FETCH_PRIVACY_CONSENT="@user/FETCH_PRIVACY_CONSENT",e.FETCH_PRIVACY_CONSENT_SUCCESS="@user/FETCH_PRIVACY_CONSENT_SUCCESS",e.FETCH_PRIVACY_CONSENT_ERROR="@user/FETCH_PRIVACY_CONSENT_ERROR",e.FETCH_FAMILY_INFO="@user/FETCH_FAMILY_INFO",e.FETCH_FAMILY_INFO_SUCCESS="@user/FETCH_FAMILY_INFO_SUCCESS",e.FETCH_FAMILY_INFO_ERROR="@user/FETCH_FAMILY_INFO_ERROR",e.SUBMIT_CONSENT="@user/SUBMIT_CONSENT",e.SUBMIT_CONSENT_SUCCESS="@user/SUBMIT_CONSENT_SUCCESS",e.SUBMIT_CONSENT_ERROR="@user/SUBMIT_CONSENT_ERROR",e.FETCH_CONTACT_PREFERENCES="@user/FETCH_CONTACT_PREFERENCES",e.FETCH_CONTACT_PREFERENCES_SUCCESS="@user/FETCH_CONTACT_PREFERENCES_SUCCESS",e.FETCH_CONTACT_PREFERENCES_ERROR="@user/FETCH_CONTACT_PREFERENCES_ERROR",e.SUBMIT_CONTACT_PREFERENCES="@user/SUBMIT_CONTACT_PREFERENCES",e.SUBMIT_CONTACT_PREFERENCES_SUCCESS="@user/SUBMIT_CONTACT_PREFERENCES_SUCCESS",e.SUBMIT_CONTACT_PREFERENCES_ERROR="@user/SUBMIT_CONTACT_PREFERENCES_ERROR",e.SET_GAMER_PIC_URL="@user/SET_GAMER_PIC_URL"}(i||(i={}));const s={setUserInfo:(0,r.PHw)(i.SET_USER_INFO,o.OZ,a,((e,t)=>({isSignedIn:e,args:t}))),resetUserInfo:(0,r.PHw)(i.RESET_USER_INFO,o.OZ,a,(()=>({}))),updateAadUser:(0,r.PHw)(i.UPDATE_AAD_USER,o.OZ,a,((e,t)=>({aadUser:e,aadAccessToken:t}))),fetchAgeGatingInfo:(0,r.FZu)(o.OZ,a,i.FETCH_AGE_GATING_INFO,(e=>({type:i.FETCH_AGE_GATING_INFO,xuid:e})),i.UPDATE_USER_AGE_GATING_INFO,((e,t)=>({type:i.UPDATE_USER_AGE_GATING_INFO,userAgeGatingInfo:e,isDefaultUserAgeGatingInfo:t})),i.FETCH_AGE_GATING_INFO_ERROR,(e=>({type:i.FETCH_AGE_GATING_INFO_ERROR,error:e}))),updateUserAgeGatingInfo:(0,r.PHw)(i.UPDATE_USER_AGE_GATING_INFO,o.OZ,a,((e,t)=>({type:i.UPDATE_USER_AGE_GATING_INFO,userAgeGatingInfo:e,isDefaultUserAgeGatingInfo:t}))),fetchFamilyInfo:(0,r.FZu)(o.OZ,a,i.FETCH_FAMILY_INFO,(()=>({type:i.FETCH_FAMILY_INFO})),i.FETCH_FAMILY_INFO_SUCCESS,(e=>({type:i.FETCH_FAMILY_INFO_SUCCESS,familyData:e})),i.FETCH_FAMILY_INFO_ERROR,(e=>({type:i.FETCH_FAMILY_INFO_ERROR,error:e}))),fetchPrivacyConsentUiDetails:(0,r.FZu)(o.OZ,a,i.FETCH_PRIVACY_CONSENT_UI_DETAILS,(e=>({type:i.FETCH_PRIVACY_CONSENT_UI_DETAILS,consentSurface:e})),i.FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS,((e,t)=>({type:i.FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS,privacyConsentUiDetails:e,consentSurface:t})),i.FETCH_PRIVACY_CONSENT_UI_DETAILS_ERROR,((e,t)=>({type:i.FETCH_PRIVACY_CONSENT_UI_DETAILS_ERROR,error:e,consentSurface:t}))),fetchPrivacyConsent:(0,r.FZu)(o.OZ,a,i.FETCH_PRIVACY_CONSENT,(e=>({type:i.FETCH_PRIVACY_CONSENT,shouldSendSnapshot:e})),i.FETCH_PRIVACY_CONSENT_SUCCESS,(e=>({type:i.FETCH_PRIVACY_CONSENT_SUCCESS,privacyConsent:e})),i.FETCH_PRIVACY_CONSENT_ERROR,(e=>({type:i.FETCH_PRIVACY_CONSENT_ERROR,error:e}))),submitConsent:(0,r.FZu)(o.OZ,a,i.SUBMIT_CONSENT,(e=>{let{id:t,values:n,modelType:r,consentSurface:o}=e;return{type:i.SUBMIT_CONSENT,id:t,values:n,modelType:r,consentSurface:o}}),i.SUBMIT_CONSENT_SUCCESS,(e=>{let{id:t,values:n,modelType:r,consentSurface:o}=e;return{type:i.SUBMIT_CONSENT_SUCCESS,id:t,values:n,modelType:r,consentSurface:o}}),i.SUBMIT_CONSENT_ERROR,((e,t)=>({type:i.SUBMIT_CONSENT_ERROR,error:e,modelType:t}))),fetchContactPreferences:(0,r.FZu)(o.OZ,a,i.FETCH_CONTACT_PREFERENCES,(()=>({type:i.FETCH_CONTACT_PREFERENCES})),i.FETCH_CONTACT_PREFERENCES_SUCCESS,(e=>({type:i.FETCH_CONTACT_PREFERENCES_SUCCESS,contactPreferences:e})),i.FETCH_CONTACT_PREFERENCES_ERROR,(e=>({type:i.FETCH_CONTACT_PREFERENCES_ERROR,error:e}))),submitContactPreferences:(0,r.FZu)(o.OZ,a,i.SUBMIT_CONTACT_PREFERENCES,((e,t,n)=>({type:i.SUBMIT_CONTACT_PREFERENCES,contactPreferences:e,onSuccess:t,onFailure:n})),i.SUBMIT_CONTACT_PREFERENCES_SUCCESS,(()=>({type:i.SUBMIT_CONTACT_PREFERENCES_SUCCESS})),i.SUBMIT_CONTACT_PREFERENCES_ERROR,(e=>({type:i.SUBMIT_CONTACT_PREFERENCES_ERROR,error:e}))),setGamerPicUrl:(0,r.PHw)(i.SET_GAMER_PIC_URL,o.OZ,a,(e=>({type:i.SET_GAMER_PIC_URL,gamerPicUrl:e})))}},76248:(e,t,n)=>{"use strict";n.d(t,{EJ:()=>r.E,R6:()=>U,nY:()=>y,Vm:()=>M,oE:()=>N,Fu:()=>x,Eo:()=>R,bV:()=>D,oI:()=>C,yB:()=>_,Yd:()=>w,bn:()=>I,PY:()=>L,CZ:()=>k,bt:()=>P,R8:()=>E,CG:()=>g,gV:()=>v,ng:()=>f,N_:()=>p,rb:()=>m,by:()=>T,bG:()=>u,c1:()=>d,V_:()=>l,NA:()=>h,mh:()=>S,t_:()=>b,hI:()=>r.h,M3:()=>o.M3});var r=n(39002),o=n(12919),a=n(20608),i=(n(71372),n(31235),n(48166),n(74407),n(26464),n(45162),n(64903),n(6886),n(21883)),s=n(97698),c=n(44080);const l=e=>e.user,u=e=>l(e).userInfo,d=e=>l(e).userInfoOverride,h=e=>{var t;return null===(t=u(e))||void 0===t?void 0:t.xuid},m=e=>{var t;return null===(t=u(e))||void 0===t?void 0:t.gamerTag},p=e=>{var t;return null===(t=u(e))||void 0===t?void 0:t.gamerPicUrl},g=e=>{var t;return null===(t=u(e))||void 0===t?void 0:t.ageGroup},f=e=>{var t;return null===(t=u(e))||void 0===t?void 0:t.firstName},v=e=>{var t;return null===(t=u(e))||void 0===t?void 0:t.email},_=e=>l(e).isSignedIn,y=(0,s.createSelector)(l,(e=>({aadUser:e.aadUser,accessToken:e.aadAccessToken||"",refreshToken:e.aadRefreshToken||""}))),b=e=>l(e).xTokenOverride,E=e=>l(e).userAgeGatingInfo,C=e=>l(e).isDefaultUserAgeGatingInfo,S=e=>{const{aadUser:t}=y(e),n=null===t||void 0===t?void 0:t.name,r=(null===t||void 0===t?void 0:t.exp)&&t.exp>Math.round(Date.now()/1e3)+60;return!!n&&!!r},T=(e,t)=>{var n,r;return null===(r=null===(n=l(e).userInfo)||void 0===n?void 0:n.privileges)||void 0===r?void 0:r.includes(t)},I=(0,s.createSelector)([e=>{var t;return null===(t=l(e).userPrivacyConsentInfo)||void 0===t?void 0:t.userPrivacyConsentUiDetails},(e,t)=>t],((e,t)=>{switch(t){case c.ConsentSurface.WebStart:return e.webStart;case c.ConsentSurface.Backstage2:return e.backStage2;case c.ConsentSurface.SISU:return e.sisu;default:throw new Error("Invalid consent surface")}})),w=e=>{var t;return null===(t=l(e).userPrivacyConsentInfo)||void 0===t?void 0:t.userPrivacyConsent},A=(e,t)=>{var n,r,o;const a=I(e,c.ConsentSurface.Backstage2);if((0,i.isContent)(a)){const s=a.data.find((e=>e.modelType===t));if(s){const t=w(e);if((0,i.isContent)(t)){const e=t.data.find((e=>e.id===s.id)),a=null!==(o=null===(r=null===(n=null===e||void 0===e?void 0:e.values)||void 0===n?void 0:n[0])||void 0===r?void 0:r.value)&&void 0!==o?o:"optOut"===s.consentType||"unknown"===s.consentType;return{ucsUiDetails:s,initialValue:a}}}}return{ucsUiDetails:null,initialValue:!1}},k=e=>A(e,c.ModelType.XboxOptionalDataCollection),P=e=>A(e,c.ModelType.XboxPersonalizedPurchaseUpsell),x=e=>{var t;return null===(t=l(e).userPrivacyConsentInfo)||void 0===t?void 0:t.didOptionalPrivacyConsentSubmissionSucceed},R=e=>{var t;return null===(t=l(e).userPrivacyConsentInfo)||void 0===t?void 0:t.didPersonalizedPrivacyConsentSubmissionSucceed},N=e=>{var t;return null===(t=l(e).userPrivacyConsentInfo)||void 0===t?void 0:t.didFinPartnerSharingConsentSubmissionSucceed},O=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>{var n,r,o,a;const s=null!==(r=null===(n=(0,i.getContentOrPrevious)(e))||void 0===n?void 0:n.lastFetchedMS)&&void 0!==r?r:0;return(null!==(a=null===(o=(0,i.getContentOrPrevious)(t))||void 0===o?void 0:o.lastFetchedMS)&&void 0!==a?a:0)>s?t:e}))},L=(0,s.createSelector)([e=>I(e,c.ConsentSurface.WebStart),e=>I(e,c.ConsentSurface.Backstage2),e=>I(e,c.ConsentSurface.SISU),w,x,R],((e,t,n,r,o,a)=>{let s=null,l=null;if((0,i.isError)(o)&&(s=o),(0,i.isError)(a)&&(l=a),s||l){const e=(null===s||void 0===s?void 0:s.error)||(null===l||void 0===l?void 0:l.error);if(e)return(0,i.lceError)(e)}const u=O(e,t,n),d=O(u,r);return(0,i.isContent)(u)&&(0,i.isFetching)(r)?(0,i.lceTransform)(u,c.transformConsentValuesToSimplifiedConsentValues):(0,i.isContent)(r)&&(0,i.isFetching)(u)||(0,i.isFetching)(r)?(0,i.lceTransform)(r,c.transformConsentValuesToSimplifiedConsentValues):(0,i.isFetching)(u)?(0,i.lceTransform)(u,c.transformConsentValuesToSimplifiedConsentValues):d!==i.LCE_NOT_REQUESTED?(0,i.lceTransform)(d,c.transformConsentValuesToSimplifiedConsentValues):i.LCE_NOT_REQUESTED})),M=e=>l(e).contactPreferences,D=e=>l(e).familyInfo;function*U(){const e=yield(0,a.select)(l);return{isMandatory:!1,aadToken:(null===e||void 0===e?void 0:e.aadAccessToken)||""}}},76474:(e,t,n)=>{"use strict";n.d(t,{IL:()=>a,ey:()=>s,oE:()=>o,p5:()=>c});n(9e4),n(26464),n(18339);let r=[];const o=e=>{r=e};function a(){return r}let i=[];const s=e=>i=e.filter(((e,t,n)=>n.indexOf(e)===t)),c=()=>i},22373:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});var r=n(30195);const o=r.z.union([r.z.string(),r.z.number(),r.z.boolean(),r.z.null()]),a=r.z.lazy((()=>r.z.union([o,r.z.array(a),r.z.record(a)]))),i=r.z.string().transform(((e,t)=>{try{return JSON.parse(e)}catch(n){return t.addIssue({code:"custom",message:"Invalid JSON"}),r.z.NEVER}}))},92938:(e,t,n)=>{"use strict";n.d(t,{Hz:()=>r,cU:()=>d,kW:()=>s,n3:()=>u,ti:()=>h});var r,o=n(814),a=n.n(o),i=n(30195);!function(e){e.XToken="XToken",e.UserToken="UserToken"}(r||(r={}));const s=i.z.object({Token:i.z.string(),NotAfter:i.z.coerce.date(),IssueInstant:i.z.coerce.date(),DisplayClaims:i.z.object({xui:i.z.array(i.z.object({uhs:i.z.string().optional(),gtg:i.z.string().optional(),mgt:i.z.string().optional(),mgs:i.z.string().optional(),umg:i.z.string().optional(),xid:i.z.string().optional(),agg:i.z.string().optional(),prv:i.z.string().optional(),usr:i.z.string().optional(),uer:i.z.string().optional(),utr:i.z.string().optional()})).optional()}).optional()}).transform(((e,t)=>{const n=6e5,r=e.NotAfter.getTime()-e.IssueInstant.getTime();let o;return o=r<=n?new Date(Date.now()+r):new Date(Date.now()+r-n),Date.now()>=o.getTime()?(t.addIssue({code:i.z.ZodIssueCode.custom,message:"Token is already expired"}),i.z.NEVER):a()(a()({},e),{},{ExpiresAt:o})})),c=i.z.object({token:i.z.string(),expiration:i.z.coerce.date(),issueInstant:i.z.coerce.date().optional(),userHash:i.z.string().optional(),userGamertag:i.z.string().optional(),userModernGamertag:i.z.string().optional(),userModernGamertagSuffix:i.z.string().optional(),userUniqueModernGamertag:i.z.string().optional(),userXuid:i.z.string().optional(),userAgeGroup:i.z.string().optional(),userPrivileges:i.z.string().optional(),userSettingsRestrictions:i.z.string().optional(),userEnforcementRestrictions:i.z.string().optional(),userTitleRestrictions:i.z.string().optional()}),l=i.z.object({userId:i.z.string().optional(),identityType:i.z.nativeEnum(r),relyingParty:i.z.string(),tokenData:c,sandboxId:i.z.string()}),u=(l.omit({relyingParty:!0}).merge(i.z.object({tokenData:c.refine((e=>e.expiration.getTime()>Date.now()),(e=>({message:`Token is expired - [expiration:${e.expiration} currentTime:${Date.now()} msSinceExpiration:${Date.now()-e.expiration.getTime()}]`})))})),i.z.object({tokens:i.z.array(l)})),d=i.z.object({XErr:i.z.number()}),h=i.z.object({token:i.z.string(),userHash:i.z.string()})},96732:(e,t,n)=>{"use strict";n.d(t,{p:()=>u,X:()=>d});var r=n(814),o=n.n(r),a=(n(6710),n(64925),n(54819),n(6886),n(48448)),i=n(92938),s=n(22373),c=n(67498),l=(n(36728),n(34715),n(26464),n(19570),n(21883));n(88233),n(67526),n(86668),n(33354),n(25870),n(10930),n(40574),n(94116),n(43267),n(74614),n(19852),n(44306),n(26077),n(71072),n(50183);class u extends class{constructor(e){this.cache=new Map,this.logger=e.logger,this.userId=e.userId}set(e,t){this.cache.set(this.getCacheKey(e),t)}delete(e){this.cache.delete(this.getCacheKey(e))}clear(){this.cache.clear()}getCacheKey(e){return`${this.userId}.${e.identityType.toString()}.${e.relyingParty}`}}{getTokenLCE(e){const t=this.getCacheKey(e),n=this.cache.get(t);return n?(this.logger.verbose(`[InMemoryXboxTokenCache] - Cache hit: [identityType:${e.identityType} relyingParty:${e.relyingParty}]`),n):(this.logger.verbose(`[InMemoryXboxTokenCache] - Cache miss: [identityType:${e.identityType} relyingParty:${e.relyingParty}]`),l.LCE_NOT_REQUESTED)}getAllValidTokens(){const e=[];return this.cache.forEach((t=>{const n=(0,l.getUnexpiredDataOrPrevious)(t);n&&e.push(n)})),e}getAllLceTokens(){return Array.from(this.cache.values())}clearAllTokens(){this.logger.verbose(`[InMemoryXboxTokenCache] - Clearing tokens for user: [userId:${this.userId}]`),this.clear(),this.logger.verbose(`[InMemoryXboxTokenCache] - Cleared tokens for user: [userId:${this.userId}]`)}writeToken(e){const t=e.tokenData.expiration.getTime()-Date.now();this.set(e,(0,l.lceContent)(e,t)),this.logger.verbose(`[InMemoryXboxTokenCache] - Token successfully written to cache: [identityType:${e.identityType} relyingParty:${e.relyingParty}]`)}writeTokenAsFetching(e){this.set(e,(0,l.lceFetching)(this.getTokenLCE(e))),this.logger.verbose(`[InMemoryXboxTokenCache] - Token state set to lceFetching in cache: [identityType:${e.identityType} relyingParty:${e.relyingParty}]`)}writeTokenAsError(e,t){this.set(t,(0,l.lceError)(e,this.getTokenLCE(t))),this.logger.verbose(`[InMemoryXboxTokenCache] - Token state set to lceError in cache: [identityType:${t.identityType} relyingParty:${t.relyingParty}]`)}}class d extends u{constructor(e){super(e),this.storage=e.storage,this.eventManager=e.eventManager,this.persistKey=`Auth.User.${e.userId}`;const t=this.storage.getItem(this.persistKey);if(!t)return void this.logger.verbose(`[PersistedXboxTokenCache] - No existing serialized tokens found in storage [persistKey:${this.persistKey}]`);const n=this.deserializeMultiTokenBlob(t);this.logger.verbose(`[PersistedXboxTokenCache] - Successfully deserialized tokens from storage [tokenCount:${n.length} persistKey:${this.persistKey}]`);for(const r of n)super.writeToken(r)}writeToken(e){super.writeToken(e);const t=this.getAllValidTokens(),n=this.serializeMultiTokenBlob(t);this.storage.setItem(this.persistKey,JSON.stringify(n)),this.logger.verbose("[PersistedXboxTokenCache] - Xbox token successfully written to storage.")}clearAllTokens(){this.storage.removeItem(this.persistKey),super.clearAllTokens(),this.logger.verbose(`[PersistedXboxTokenCache] - Cleared tokens for user [persistKey:${this.persistKey}].`)}addEventListener(e,t,n){this.eventManager.addEventListener(e,t,n)}removeEventListener(e,t,n){this.eventManager.removeEventListener(e,t,n)}set(e,t){super.set(e,t),this.eventManager.dispatchEvent(new c.bK(e))}delete(e){super.delete(e),this.eventManager.dispatchEvent(new c.bK(e))}serializeMultiTokenBlob(e){return{tokens:e.map((e=>e.serialize()))}}deserializeMultiTokenBlob(e){return s.D.pipe(i.n3).parse(e).tokens.map((e=>new a.I(o()(o()({},e),{},{userId:this.userId}))))}}},21672:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});n(6886);var r=n(24308),o=n(43485);class a{constructor(e){var t;if(this.id=e.id,this._sandboxId=null!==(t=e.sandboxId)&&void 0!==t?t:o.Q,this.xboxTokenCache=e.xboxTokenCache,e.initialXboxTokens)for(const n of e.initialXboxTokens)this.xboxTokenCache.writeToken(n)}get sandboxId(){return this._sandboxId}destroy(){this.xboxTokenCache.clearAllTokens()}getXboxTokenLCE(e){return this.xboxTokenCache.getTokenLCE({identityType:r.H.XToken,relyingParty:e,sandboxId:this.sandboxId})}updateSandboxId(e){this._sandboxId=e}}a.fallbackUserId="__no-msa-home-account-id__"},67907:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(51098);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return r.ValidationError}});var o=n(34422);Object.defineProperty(t,"orDefault",{enumerable:!0,get:function(){return o.orDefault}});var a=n(69121);Object.defineProperty(t,"asError",{enumerable:!0,get:function(){return a.asError}}),Object.defineProperty(t,"toError",{enumerable:!0,get:function(){return a.toError}});var i=n(38726);Object.defineProperty(t,"asBool",{enumerable:!0,get:function(){return i.asBool}}),Object.defineProperty(t,"asOptionalBool",{enumerable:!0,get:function(){return i.asOptionalBool}}),Object.defineProperty(t,"asNumber",{enumerable:!0,get:function(){return i.asNumber}}),Object.defineProperty(t,"asOptionalNumber",{enumerable:!0,get:function(){return i.asOptionalNumber}}),Object.defineProperty(t,"asString",{enumerable:!0,get:function(){return i.asString}}),Object.defineProperty(t,"asOptionalString",{enumerable:!0,get:function(){return i.asOptionalString}}),Object.defineProperty(t,"asDate",{enumerable:!0,get:function(){return i.asDate}}),Object.defineProperty(t,"asOptionalDate",{enumerable:!0,get:function(){return i.asOptionalDate}}),Object.defineProperty(t,"asArray",{enumerable:!0,get:function(){return i.asArray}}),Object.defineProperty(t,"asCompactArray",{enumerable:!0,get:function(){return i.asCompactArray}}),Object.defineProperty(t,"asOptionalArray",{enumerable:!0,get:function(){return i.asOptionalArray}}),Object.defineProperty(t,"asOptionalCompactArray",{enumerable:!0,get:function(){return i.asOptionalCompactArray}}),Object.defineProperty(t,"asObject",{enumerable:!0,get:function(){return i.asObject}}),Object.defineProperty(t,"asOptionalObject",{enumerable:!0,get:function(){return i.asOptionalObject}}),Object.defineProperty(t,"asObjectWithSchema",{enumerable:!0,get:function(){return i.asObjectWithSchema}}),Object.defineProperty(t,"asOptionalObjectWithSchema",{enumerable:!0,get:function(){return i.asOptionalObjectWithSchema}});var s=n(81479);Object.defineProperty(t,"EnumMatchBehavior",{enumerable:!0,get:function(){return s.EnumMatchBehavior}}),Object.defineProperty(t,"createStringEnumMatcher",{enumerable:!0,get:function(){return s.createStringEnumMatcher}}),Object.defineProperty(t,"createStringUnionMatcher",{enumerable:!0,get:function(){return s.createStringUnionMatcher}})},61030:(e,t,n)=>{"use strict";n.d(t,{gI:()=>o,UD:()=>c,po:()=>u,y_:()=>l,iV:()=>a,NE:()=>s,QF:()=>i});n(73439),n(6886);var r=n(16216);const o=async e=>{let t;try{t="en-US"===e.localeWithScript?(await n.e(38705).then(n.bind(n,49072))).default:(await n(20518)(`./strings.${e.localeWithScript}.resjson`)).default}catch(o){try{let o=e.language;e.script&&(o=(0,r.yuW)(e.language,e.script)),t=(await n(20518)(`./strings.${o}.resjson`)).default}catch(a){if(e.script)try{t=(await n(20518)(`./strings.${e.language}.resjson`)).default}catch(i){t=(await n.e(38705).then(n.bind(n,49072))).default}else t=(await n.e(38705).then(n.bind(n,49072))).default}}return t},a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return(0,r.iNM)(e,"baseStrings",...n)},i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.WD1)("baseStrings",...t)},s=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return(0,r.Fsx)("baseStrings",e,t,...o)};function c(e,t){return(0,r.FL2)("baseStrings",e,t)}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.s8U)("baseStrings",...t)}function u(e){return(0,r.XY5)("baseStrings",e)}},16109:(e,t,n)=>{"use strict";n.d(t,{So:()=>g});var r=n(16216);const o="Entitlement";var a=n(814),i=n.n(a),s=(n(74407),n(26464),n(64903),n(21883));const c={};n(71372);var l=n(22799),u=n(28248),d=n(87995),h=n(87342),m=n(20608);function p(e){const t=function(e){return function*(t){const{productIds:n}=t;if(0!==n.length)try{if(!(yield(0,m.select)(u.yB))){const t=new Error("Cannot fetch bulk entitlements for an anonymous user");return void(yield(0,m.put)(e.fetchEntitlements.error(n,t)))}const t=yield(0,m.select)(r.yWe),o=yield(0,h.Si)(),a=yield(0,u.le)(),i=yield(0,m.call)(r.gjf),s=yield(0,m.call)(u.R6),c={dependencyName:h.JS.EmeraldXbetService,dependencyOperationName:"GetBulkEntitlements"},l={addAuthorization:!0,isRequired:!0},p=yield(0,m.select)(r.$Pr,r.vCX.StagingFD),g=yield(0,m.call)(d.M3,(e=>e.post("entitlements/bulk",{ProductIds:n},{params:{locale:t.localeWithScript}})),o,i,c,p,{authConfig:l,authenticationProvider:a,aadAuthConfig:s});if(!(0,r.hAT)(g.status))throw new Error(g.statusText);yield(0,m.put)(e.fetchEntitlements.success(n,g.data.entitlements))}catch(o){const t=(0,l.toError)(o);yield(0,m.put)(e.fetchEntitlements.error(n,t))}else yield(0,m.put)(e.fetchEntitlements.success(n,{}))}}(e);return function*(){yield(0,m.takeEvery)((0,r.UoI)(e.fetchEntitlements.start),t)}}function g(e,t){const n=function(e){return{updateEntitlements:(0,r.PHw)("@entitlement/UPDATE_ENTITLEMENTS",o,e,(e=>({entitlements:e}))),fetchEntitlements:(0,r.LG0)(o,e,"@entitlement/FETCH_ENTITLEMENTS",(e=>({productIds:e})),((e,t)=>({productIds:e,response:t})),((e,t)=>({productIds:e,error:t})))}}(e),a=function(e){return(0,r.$ex)([o],new r.h7h(c).on(e.updateEntitlements,(function(e,t){return t.entitlements.length?t.entitlements.reduce(((e,t)=>(t&&(e[(0,r.Lx9)(t.productId)]=(0,s.lceContent)(t)),e)),i()({},e)):e})).on(e.fetchEntitlements.start,(function(e,t){return t.productIds.reduce(((t,n)=>{const o=(0,r.Lx9)(n),a=e[o];return t[o]=(0,s.lceFetching)(a),t}),i()({},e))})).on(e.fetchEntitlements.success,(function(e,t){return t.productIds.reduce(((e,n)=>{const o=(0,r.Lx9)(n);return e[o]=(0,s.lceContent)(t.response[o]||null),e}),i()({},e))})).on(e.fetchEntitlements.error,(function(e,t){return t.productIds.reduce(((n,o)=>{const a=(0,r.Lx9)(o),i=e[a];return n[a]=(0,s.lceError)(t.error,i),n}),i()({},e))})).build())}(n),l=p(n),u=function(e){const t=(t,n)=>e(t)[(0,r.Lx9)(n)]||(0,s.lceNotRequested)();return{getEntitlementByProductId:t,getOwnershipOrSatisfactionByProductId:(e,n)=>{const r=t(e,n);return(0,s.lceTransform)(r,(e=>!!e&&(e.isOwned||e.isSatisfyingEntitlement)))}}}(t);return{entitlementActions:n,entitlementReducer:a,entitlementSagas:l,entitlementSelectors:u}}},35609:(e,t,n)=>{"use strict";n.d(t,{C6:()=>r,F8:()=>i,HZ:()=>d,J2:()=>u,Rc:()=>c,a8:()=>s,sJ:()=>a,ul:()=>l,yf:()=>o});const r="https://emerald.xboxservices.com/xboxcomfd",o="https://emerald-staging.xboxservices.com/xboxcomfd",a="https://cart.production.store-web.dynamics.com/v1.0",i="https://cem.services.microsoft.com/v1",s="https://accounts.xboxlive.com",c="https://displaycatalog.mp.microsoft.com/v7.0",l="https://inv.mp.microsoft.com/v2.0/inventory",u="https://sisu.xboxlive.com",d="https://yearinreviewapi.azurewebsites.net"},17063:(e,t,n)=>{"use strict";n.d(t,{HN:()=>i,S8:()=>a,Wr:()=>o,YK:()=>r});const r=0,o=7500,a=5e3,i=5e3},87995:(e,t,n)=>{"use strict";n.d(t,{zF:()=>r,WE:()=>i.W,cG:()=>a,nV:()=>s,C:()=>m,C6:()=>o.C6,yf:()=>o.yf,JF:()=>N,S:()=>x,Z0:()=>R,rR:()=>D,dx:()=>U,up:()=>C,kV:()=>O,Xh:()=>B,Ir:()=>F,YA:()=>S,NU:()=>L,Cj:()=>H,mm:()=>T,RG:()=>w,EA:()=>_,oK:()=>q,vY:()=>A,k1:()=>G,C0:()=>c,M3:()=>P,Dl:()=>M});var r,o=n(35609);!function(e){e.AadUserAuthorization="x-ms-authorization-aaduser",e.CartSessionId="x-ms-ucs-sid",e.ContentLength="Content-Length",e.ContinuationToken="x-ms-ct",e.Forwarded="Forwarded",e.ForwardedFor="X-Forwarded-For",e.MsApiVersion="X-MS-API-Version",e.MuidAuthorization="x-authorization-muid",e.TrueClientIp="True-Client-IP",e.UserAgent="User-Agent",e.XblContractVersion="X-XBL-Contract-Version",e.XblExperiments="xbl-experiments",e.ValidationField="x-validation-field-1",e.VectorId="X-MS-Vector-Id"}(r||(r={}));var a,i=n(39683);n(95682),n(21045),n(17244),n(42068),n(75519),n(39432),n(73574),n(33619),n(53862),n(26881),n(35359),n(98208),n(13608),n(75676),n(5993),n(74456),n(6886);!function(e){e.SetSwitch="setSwitch",e.SetGateValue="setGateValue",e.ThemeOverride="th"}(a||(a={}));const s={allowDurablesAndConsumables:"allowDurablesAndConsumables",billingMarket:"billingMarket",buddyPassOfferId:"offerId",cId:"cId",campaignId:"campaignId",concernCategory:"concernCategory",deviceFamily:"deviceFamily",enableFullDetail:"enableFullDetail",filters:"filters",giftingString:"giftingString",isHelpful:"isHelpful",isPreview:"isPreview",itemCount:"itemCount",itemType:"itemType",locale:"locale",ocid:"ocid",orderBy:"orderBy",orderIds:"orderIds",pageNumber:"pageNumber",PartnerId:"partnerid",paymentInstrumentId:"paymentInstrumentId",productId:"productId",realReturnUrl:"rrurl",referringProductId:"rpid",resultsPerPage:"resultsPerPage",returnFilters:"returnFilters",searchQuery:"q",serviceSearchQuery:"query",starFilter:"starFilter",status:"status",xboxcomApplyStatus:"xboxcomapplystatus",useNewXSearchAlgorithm:"useNewXSearchAlgorithm",xStoreScenario:"xs",consoleApplySessionId:"consoleApplySessionId",channelName:"channelName",referrerId:"referrerId",isConsoleWebView:"isConsoleWebView",gamerTag:"gt",clientType:"clientType"},c=new Set([a.SetSwitch.toLowerCase(),a.ThemeOverride.toLowerCase()]);var l=n(17063),u=(n(73439),n(51175)),d=n(16216),h=n(22799);n(71372);class m extends Error{constructor(e,t,n){super(e),this.httpStatusCode=t,this.responseBody=n,Object.setPrototypeOf(this,m.prototype)}}var p=n(814),g=n.n(p),f=n(87342);n(68995);const v=()=>((e,t)=>{if(e){const t=parseInt(e,10);if(!isNaN(t))return t}return t})(d.xUA.DEFAULT_TIMEOUT_MSEC,l.Wr),_=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const a=g()({[r.MsApiVersion]:"1.0"},n);return u.RequestFactory.withBaseUrl(t?o.yf:o.C6).setCommonTimeout(v()).setCommonMaxRetries(l.YK).setCommonHeaders(a).setCommonMetadataValue(f.XP,e)};var y=n(28248);const b=e=>{const t=new u.HttpClientBuilder;return(0,f.Yr)(t,e)},E=(e,t,n)=>b(e).authenticator(new y.Py(n,t,e.logger())),C=(e,t,n)=>E(e,t,n).authenticator(new y.Py(n,t,e.logger())).build(),S=(e,t,n,r)=>E(e,t,n).authenticator(new y.Zb(t,e.logger(),r)).build(),T=e=>b(e).build(),I=(e,t)=>b(e).authenticator(new y.Ws(t)).build(),w=(e,t,n)=>E(e,t,n).build(),A=(e,t)=>b(e).authenticator(new y.gM(t,e.logger())).build(),k=(e,t,n,r,o,a)=>{if(!n.addAuthorization)return T(e);return((e,t,n,r,o)=>{let a=g()({},n);return r&&(a=g()(g()({},a),{},{anonymousTokenAuthenticator:new y.Ws(r)})),(null===o||void 0===o?void 0:o.aadToken)&&(a=g()(g()({},a),{},{aadAuthenticator:new y.uG(o,e.logger())})),E(e,t,a).build()})(e,t,{relyingParty:y.Q7.MDollar,isMandatory:n.isRequired,xTokenOverride:a},r,n.aadAuthRequired?o:void 0)},P=async function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0;var l,p;const g=_(r,o,s);let f;f=a?k(t,a.authenticationProvider,a.authConfig,n,a.aadAuthConfig,c):I(t,n);const v=e(g);try{const e=await f.execute(v);if(!(0,d.hAT)(e.status))throw new m(`Service request failed. TargetUri: ${e.request.url} | Status: ${e.status}`,e.status,e.data);return e}catch(y){if(y instanceof u.HttpError){const e=(0,d.o8e)(null===(l=y.response)||void 0===l?void 0:l.status)?i.W.InternalServerError:y.response.status;let t;try{const e=null===(p=y.response)||void 0===p?void 0:p.clone();t=await e.json()}catch(b){t=(0,h.toError)(b)}const n=new m(`Service request failed. TargetUri: ${y.request.url} | Status: ${e} | Original Message: ${y.message} | Extra Data: ${t}`,e,t);throw n.name=y.name,n.stack=y.stack,n}throw y}},x=async function(e,t,n,r,o,a,i){let s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0;return P((t=>t.get(e,u)),n,o,i,s,{authConfig:t,authenticationProvider:r,aadAuthConfig:a},c,l)},R=async function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0;return P((t=>t.get(e,s)),t,n,r,o,void 0,a,i)},N=(e,t)=>e.execute(t),O=e=>{let t=i.W.InternalServerError;return e!==i.W.Unauthorized&&e!==i.W.Forbidden&&e!==i.W.NotFound||(t=e),t},L=e=>e instanceof m?e.httpStatusCode:e instanceof u.HttpError?e.response.status:void 0,M=async function(e,t,n,r,o,a,i,s){let c=arguments.length>8&&void 0!==arguments[8]&&arguments[8],l=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0;return P((n=>n.post(e,t,d)),r,a,s,c,{authConfig:n,authenticationProvider:o,aadAuthConfig:i},l,u)},D=e=>u.RequestFactory.withBaseUrl(o.Rc).setCommonTimeout(l.Wr).setCommonMaxRetries(l.YK).setCommonMetadataValue(f.XP,e),U=e=>u.RequestFactory.withBaseUrl(o.F8).setCommonTimeout(l.S8).setCommonMaxRetries(l.YK).setCommonMetadataValue(f.XP,e),B=e=>u.RequestFactory.withBaseUrl(o.ul).setCommonTimeout(l.Wr).setCommonMaxRetries(l.YK).setCommonMetadataValue(f.XP,e),F=e=>u.RequestFactory.withBaseUrl(o.J2).setCommonTimeout(l.Wr).setCommonMaxRetries(l.YK).setCommonMetadataValue(f.XP,e),H=e=>u.RequestFactory.withBaseUrl(o.sJ).setCommonTimeout(v()).setCommonMaxRetries(l.YK).setCommonMetadataValue(f.XP,e),q=e=>u.RequestFactory.withBaseUrl(o.a8).setCommonTimeout(l.HN).setCommonMetadataValue(f.XP,e).setCommonMaxRetries(1),G=e=>u.RequestFactory.withBaseUrl(o.HZ).setCommonTimeout(l.Wr).setCommonMaxRetries(l.YK).setCommonMetadataValue(f.XP,e)},97955:(e,t,n)=>{"use strict";var r;n.d(t,{IG:()=>a,PO:()=>r,Vo:()=>i,gj:()=>o}),function(e){e.AppsSnowbirdBanner="AppsSnowbirdBanner",e.AuthExample="AuthExample",e.BuddyPassReceiver="BuddyPassReceiver",e.BuddyPassSender="BuddyPassSender",e.Carousel="Carousel",e.ContentBlock="ContentBlock",e.ConfigurableSnowbirdHero="ConfigurableSnowbirdHero",e.DeviceTargetedAppsSnowbirdBanner="DeviceTargetedAppsSnowbirdBanner",e.HeroItem="HeroItem",e.HtmlContentBlock="HtmlContentBlock",e.Hyperlink="Hyperlink",e.IconBar="IconBar",e.Jalisco="JaliscoCTA",e.Mosaic="Mosaic",e.OptIn="OptIn",e.PageBarV1="PageBarV1",e.PageBarV2="PageBarV2",e.ProductInfoExample="ProductInfoExample",e.XboxCardPMPPageBar="XboxCardPMPPageBar",e.XboxCardPMPPageHero="XboxCardPMPPageHero",e.XgpImmersiveSku="XgpImmersiveSku",e.YearInReview="YearInReview"}(r||(r={}));const o="ContentPage",a="content",i="https://assets.adobedtm.com/launch-ENbcb8955aa2f84046af210e3226cdda04.min.js"},214:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>r.W});n(97955),n(46514);var r=n(42123);n(51854)},10919:(e,t,n)=>{"use strict";var r,o,a,i,s,c,l;n.d(t,{AK:()=>l,H:()=>o,Ix:()=>i,d9:()=>a,rO:()=>r}),function(e){e.Unknown="Unknown",e.PicchuHtmlPage="Skinned Splash Page 2016",e.VariableMimeType="Variable Type Page",e.Redirect="Redirect",e.ModuleBasedPage="Module Based Page"}(r||(r={})),function(e){e.Left="left",e.Right="right"}(o||(o={})),function(e){e.Black="black",e.White="white"}(a||(a={})),function(e){e.h1="h1",e.h2="h2"}(i||(i={})),function(e){e.Heading1="c-heading-1",e.Heading2="c-heading-2"}(s||(s={})),function(e){e.Subheading1="c-subheading-1",e.Subheading2="c-subheading-2"}(c||(c={})),function(e){e.True="true",e.False="false"}(l||(l={}))},46514:(e,t,n)=>{"use strict";n.d(t,{j7:()=>r});var r;n(10919);!function(e){e.Unknown="Unknown",e.NotStarted="NotStarted",e.Prescreening="Prescreening",e.Prescreened="Prescreened",e.Preselected="Preselected",e.Applying="Applying",e.Pending="Pending",e.Approved="Approved",e.Error="Error",e.Blocked="Blocked"}(r||(r={}))},18654:(e,t,n)=>{"use strict";n.d(t,{s:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"ContentModalLauncherTestPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(60899).then(n.bind(n,70228))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 70228}})},38919:(e,t,n)=>{"use strict";n.d(t,{L:()=>c,q:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"ContentPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(34166),n.e(84879)]).then(n.bind(n,11103))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 11103}}),l=(0,s.cx)({resolved:{},chunkName:()=>"NoTargetingContentPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(34166),n.e(84879)]).then(n.bind(n,71831))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 71831}})},14463:(e,t,n)=>{"use strict";n.d(t,{u:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"YearInReviewMarketingPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(71661),n.e(34716)]).then(n.bind(n,33009))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 33009}})},4358:(e,t,n)=>{"use strict";n.d(t,{o:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"YearInReviewPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(71661),n.e(68262)]).then(n.bind(n,40296))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 40296}})},83362:(e,t,n)=>{"use strict";n.d(t,{ContentRendering:()=>i});var r=n(38919),o=n(3021),a=n(26065);class i{constructor(){this.getContentContainer=()=>r.L,this.getNoTargetingContentContainer=()=>r.q,this.getContentPageRequestSaga=()=>o.m,this.getContentPageTheme=(e,t)=>(0,a.b)(e,t,{})}}},42123:(e,t,n)=>{"use strict";n.d(t,{Q:()=>v,W:()=>_});n(71372),n(73439),n(6886);var r=n(97955),o=n(16216),a=n(53249),i=n(27256),s=n(38919),c=n(18654),l=n(4358),u=n(14463);const d=(0,i.tP)((()=>n.e(37551).then(n.bind(n,91053))),(e=>e.lazyRouteConfigs)),h=()=>null,m=[{key:"ContentModalLauncherTest",path:"/contentmodaltest",component:c.s,exact:!0,constraint:{featureGates:{[o.vCX.EnableTestPages]:e=>!0===e}},testConfig:{title:"Content Modal Launcher Test"},lazyConfig:d("ContentModalLauncherTest")},{key:"XboxCardContentPage",path:[`/:${o.Hw9.Path}(xbox-mastercard)`],component:s.L,exact:!0,isServerOnly:!0,seoComponent:h,theme:o.Q2A.Light,testConfig:{title:"Xbox Card Content PMP",testPath:[{path:"/xbox-mastercard",title:"Main apply page"}]},lazyConfig:d("XboxCardContentPage")},{key:"XboxCardContentPageDefaultError",path:[`/:${o.Hw9.Path}(xbox-mastercard)`],exact:!0,component:a.GP,isServerOnly:!0,seoComponent:h},{key:"YearInReviewMarketingPage",path:["/2023recap"],exact:!0,component:u.u,seoComponent:h,constraint:{featureGates:{[o.vCX.EnableYearInReviewMarketing]:e=>!0===e}},testConfig:{title:"2023 Recap"},lazyConfig:d("YearInReviewMarketingPage")},{key:"YearInReviewPage",path:["/year-in-review"],exact:!0,component:l.o,seoComponent:h,constraint:{featureGates:{[o.vCX.EnableYearInReview]:e=>!0===e}},testConfig:{title:"Year in Review"},lazyConfig:d("YearInReviewPage")},{key:"AllContentPages",path:[`/:${o.Hw9.Path}*`],component:s.L,exact:!0,isServerOnly:!0,seoComponent:h,testConfig:{title:"Test Content Pages",testPath:[{path:"/test/modular-page",title:"Module Based Page"},{path:"/test/preview-test",title:"Test Preview Page"},{path:"/consoles/xbox-series-x",title:"Xbox Series X (Content)"},{path:"/consoles/scarlett",title:"Scarlett (Content Redirect)"},{path:"/consoles/xbox-one-x",title:"Xbox One X (404)"},{path:"/xbox-bethesda-games-showcase",title:"Bethesda Games Showcase (Migration test)"}]},lazyConfig:d("AllContentPages")},{key:"GlobalSharedContent",path:["/global-shares/*"],component:s.L,exact:!0,isServerOnly:!0,lazyConfig:d("GlobalSharedContent")}];var p=n(83362);const g="content_IContentRendering";let f;const v=()=>{if(!f)throw new Error("Service Locator not initialized.");return f},_={partnerId:r.IG,routes:m,initializeAsync:e=>(f=e,Promise.resolve()),registerDependencies:e=>{e.register(g,(()=>new p.ContentRendering)),e.registerLazy(g,(async()=>{const{ContentRendering:e}=await n.e(37551).then(n.bind(n,83362));return new e}))},lazyConfig:()=>n.e(37551).then(n.bind(n,94))}},51854:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});n(77950),n(88233),n(74069),n(6886),n(60523);var r=n(87995),o=n(27372),a=n(16216);const i=(e,t)=>((e,t,n)=>{const i=`content/${(0,a.r5C)(e)}`,s=new URLSearchParams;return s.append(r.nV.locale,t.localeWithScript),n&&s.append(r.nV.isPreview,n.toString()),(0,o.LTV)(i,s)})(e.match.params[a.Hw9.Path],t,!!e.isPreview)},28782:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,i:()=>i});var r,o=n(30206),a=n(75681);!function(e){e.UPDATE_CONTENT_PAGE="@contentPage/UPDATE_CONTENT_PAGE"}(r||(r={}));const i={updateContentPage:(0,a.a)(r.UPDATE_CONTENT_PAGE,o.Q,((e,t)=>({contentPage:e,isPreview:t})))}},75681:(e,t,n)=>{"use strict";n.d(t,{a:()=>i,z:()=>a});var r=n(16216),o=n(97955);const a=(0,r.Krg)(o.IG),i=(0,r.mqE)(o.IG)},3021:(e,t,n)=>{"use strict";n.d(t,{m:()=>l});var r=n(27372),o=n(16216),a=n(20608),i=n(42123),s=n(51854),c=n(28782);function*l(e,t){const n=(0,i.Q)(),c=yield(0,a.call)(n.resolveLazy,r.ibq),l=yield(0,a.select)(o.g48),d=c.makePageRequestSubSaga(s.S,{addAuthorization:!0,isRequired:!1,aadAuthRequired:!!l},u);yield(0,a.call)(d,e,t)}function*u(e){const t=yield(0,a.select)(o.g48);e.content&&(yield(0,a.put)(c.i.updateContentPage(e.content,t)))}},30206:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});const r="ContentPage"},26065:(e,t,n)=>{"use strict";n.d(t,{I:()=>i,b:()=>s});var r=n(16216),o=n(10919),a=n(59035);const i=(e,t,n)=>{return o=(0,a.U)(e)[(0,r.r5C)(t)],n?null===o||void 0===o?void 0:o.preview:null===o||void 0===o?void 0:o.published;var o},s=(e,t,n)=>{const a=i(e,t);if(a)switch(a.presentationTemplate){case o.rO.PicchuHtmlPage:{const e=a.data.pageDetails.pageDataAttributes;if(!e)return;return e.length>0&&"1"===e[0]?r.Q2A.DarkHeader:void 0}case o.rO.Redirect:return(0,r.gzb)(e)}}},59035:(e,t,n)=>{"use strict";n.d(t,{K:()=>a,U:()=>i});var r=n(16216),o=n(97955);const a=e=>(0,r.Qij)(e,o.IG),i=e=>a(e).contentPages},73483:(e,t,n)=>{"use strict";n.d(t,{DP:()=>u,Fw:()=>r,H1:()=>o,OV:()=>i,TB:()=>a,dP:()=>l});var r,o,a,i,s=n(14290),c=n(16216);function l(e){return e.isMobile?r.Mobile:e.isWindows?r.Windows:r.OtherPC}function u(e){return(0,c.kgH)(e)===(0,c.kgH)(s.Cv)?a.PCGP:(0,c.kgH)(e)===(0,c.kgH)(s.Os)?a.Ultimate:void 0}!function(e){e[e.Mobile=1]="Mobile",e[e.OtherPC=2]="OtherPC",e[e.Windows=3]="Windows"}(r||(r={})),function(e){e[e.Console=1]="Console",e[e.Mobile=2]="Mobile",e[e.OtherPC=3]="OtherPC",e[e.TV=4]="TV",e[e.Windows=5]="Windows"}(o||(o={})),function(e){e.PCGP="CFQ7TTC0KGQ8",e.Ultimate="CFQ7TTC0KHS0"}(a||(a={})),function(e){e.GCM="GCM",e.RPID="RPID"}(i||(i={}))},29084:(e,t,n)=>{"use strict";n.d(t,{DP:()=>r.DP,Fw:()=>r.Fw,H1:()=>r.H1,OV:()=>r.OV,TB:()=>r.TB});var r=n(73483)},47263:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249),c=n(16216);const l=(0,s.hx)({resolved:{},chunkName:()=>"Launchpad",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,c.Fbb)(s.Ed,n.e(39393).then(n.bind(n,12339))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 12339}})},5808:(e,t,n)=>{"use strict";n.d(t,{r:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249),c=n(16216);const l=(0,s.hx)({resolved:{},chunkName:()=>"PIDLContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,c.Fbb)(s.Ed,Promise.all([n.e(31553),n.e(74531)]).then(n.bind(n,31553))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 31553}})},18689:(e,t,n)=>{"use strict";n.d(t,{IG:()=>r,Z0:()=>o});const r="core2",o="default"},47278:(e,t,n)=>{"use strict";var r;n.d(t,{b9:()=>s,n5:()=>u.n5,VY:()=>u.VY,Jp:()=>u.Jp,CD:()=>u.CD,od:()=>o,XW:()=>a,Gx:()=>O.Gx,J2:()=>u.J2,uZ:()=>d,Y3:()=>c,TH:()=>O.TH,B6:()=>u.B6,KM:()=>R,Dh:()=>H,By:()=>F,Ud:()=>N,IG:()=>l.IG,qD:()=>u.qD,Uh:()=>r,Fl:()=>u.Fl,ys:()=>u.ys,n_:()=>u.n_,dq:()=>i,yW:()=>O.yW,Q5:()=>O.Q5,WR:()=>O.WR,v5:()=>u.v5,Wk:()=>u.Wk,Vx:()=>u.Vx,zx:()=>u.zx,cK:()=>b,f0:()=>u.f0,VR:()=>L,jw:()=>M,N6:()=>B,r2:()=>U,at:()=>q,r8:()=>D,XB:()=>G,m5:()=>u.m5,$M:()=>z,cc:()=>u.cc,Z0:()=>l.Z0,Ok:()=>A,ZG:()=>T,KX:()=>k,FA:()=>O.FA,xX:()=>O.xX,e5:()=>S,Tf:()=>I,PH:()=>w,GP:()=>x}),function(e){e.ProductId="ProductId",e.SkuId="SkuId",e.AvailabilityId="AvailabilityId",e.AffirmationProductId="AffirmationProductId",e.CloudServiceUpsells="CloudServiceUpsells",e.DisabledReason="DisabledReason",e.EditionIdsList="EditionIdsList",e.IsBundleProduct="IsBundleProduct",e.IsOnWishlist="IsOnWishlist",e.IsDisabled="IsDisabled",e.IsTrial="IsTrial",e.IsUpgrade="IsUpgrade",e.NetworkName="NetworkName",e.SkuIdsList="SkuIdsList",e.UpsellProductId="UpsellProductId",e.UpsellProductIdsList="UpsellProductIdsList",e.UpsellProductIdsComingSoonList="UpsellProductIdsComingSoonList"}(r||(r={}));const o=25,a="DO_NOT_FILTER",i="ORDERBY",s="AddOnsByParentWithDetails",c="LIBRARY";var l=n(18689),u=n(25262);const d="gamingContext";n(88233),n(6886),n(14121),n(60523);var h=n(87995),m=n(16216),p=n(14290),g=n(74495),f=n(4517),v=n(57302),_=n.n(v),y=n(76831);const b="/games/store/:productName/:productId/:skuId?/:availabilityId?",E="/external/contextual-store-host/:productId/:skuId?/:availabilityId?",C="dark",S=e=>{const t=(0,f.LX)(e,{path:b});if(t&&"productId"in t.params){const e=t.params;return"p"===e.productName&&(e.productName=void 0),e}},T=(e,t,n,r,o)=>new URL(`${e}${k("/p/:productName/:productId/:skuId?/:availabilityId?",t,n,r,o)}`,m.zIV).toString(),I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.V9f,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0;return new URL(`${t}${P(E,C,n,r,o,a,i,s,c,"v2",l,u,d)}`,e).toString()},w=(e,t,n,r,o,a,i)=>{const s=(0,g.useSelector)(m.Xnf).origin,c=(0,g.useSelector)(m.Yzi);return A(s,c,e,t,n,r,o,a,i)},A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.V9f,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0;return new URL(`${t}${k(b,n,r,o,a,i,s,c,l)}`,e).toString()},k=(e,t,n,r,o,a,i,s,c)=>{const l=_()(n||"p",{lower:!0,remove:/[*+]/g});let u=(0,f.Gn)(e,{productId:t,productName:l||"p",skuId:r||void 0,availabilityId:o||void 0});const d=new URLSearchParams;return a&&d.append(h.nV.referringProductId,a),i&&d.append(h.nV.PartnerId,i),s&&d.append(h.nV.campaignId,s),c&&d.append(h.nV.ocid,c),(d.has(h.nV.referringProductId)||d.has(h.nV.PartnerId)||d.has(h.nV.campaignId))&&(u=(0,y.L)(u,d)),u},P=(e,t,n,r,o,a,i,s,c,l,u,d,m)=>{const p=_()(r||"p",{lower:!0,remove:/[*+]/g});let g=(0,f.Gn)(e,{productId:n,productName:p||"p",skuId:o||void 0,availabilityId:a||void 0});const v=new URLSearchParams;return i&&v.append(h.nV.referringProductId,i),s&&v.append(h.nV.PartnerId,s),c&&v.append(h.nV.campaignId,c),u&&v.append(h.nV.xStoreScenario,u),d&&v.append(h.nV.itemType,d),m&&v.append(h.nV.clientType,m),v.has(h.nV.referringProductId)||v.has(h.nV.PartnerId)||v.has(h.nV.campaignId)||v.has(h.nV.itemType)||v.has(h.nV.xStoreScenario)||v.has(h.nV.clientType)?g=`${(0,y.L)(g,v)}&v=${l}&t=${t}`:g+=`?v=${l}&t=${t}`,g},x=(e,t)=>{const n=(0,g.useSelector)(m.Xnf).origin,r=(0,g.useSelector)(m.Yzi);return A(n,r,e,(0,p.jb)(e,!1),void 0,void 0,t)};var R,N,O=n(37122);!function(e){e.Production="prod",e.Int="int",e.PPE="ppe"}(R||(R={})),function(e){e.XMsFlight="x-ms-flight",e.XMsTest="x-ms-test"}(N||(N={}));const L="US",M="en-US",D="xboxweb",U="mc",B="credit_card",F="https://www.xbox.com/{locale}/xbox-mastercard?xboxcomapplystatus=success",H="https://www.xbox.com/{locale}/xbox-mastercard?xboxcomapplystatus=fail",q="BANNER",G="MSFT-Web-Lpage",z="09.08.2024-21.05.46-730"},25262:(e,t,n)=>{"use strict";n.d(t,{B6:()=>r,CD:()=>E,DA:()=>m,Fl:()=>a,J2:()=>l,Jp:()=>b,NX:()=>f,VY:()=>g,Vx:()=>_,WG:()=>s,Wk:()=>u,_t:()=>v,cc:()=>T,cr:()=>p,d7:()=>y,f0:()=>C,m5:()=>S,n5:()=>h,n_:()=>i,qD:()=>I,v5:()=>d,ys:()=>o,zx:()=>c});const r="https://account.microsoft.com",o="https://www.microsoft.com/uniblends/scripts/blender.min.js",a="https://uniblends.www.microsoft.com/ppe/scripts/blender.min.js",i="https://support.xbox.com/en-US/help/games-apps/my-games-apps/install-games-remotely-on-xbox-one",s="https://support.xbox.com/help/games-apps/cloud-gaming/set-up-smart-tv-xbox-app",c="https://xbox.com/{locale}/wishlist",l="https://www.xbox.com/{locale}/promotions/sales/sales-and-specials",u="https://www.xbox.com/{locale}/games/all-games?cat=newreleases",d="https://www.xbox.com/{locale}/xbox-game-pass",h="https://www.xbox.com/{locale}/games/browse",m="https://www.xbox.com/{locale}/games/browse/console?PlayWith=XboxSeriesX%7CS,XboxOne,CloudGaming,XboxPlayAnywhere",p="https://www.xbox.com/{locale}/games/browse/pc?PlayWith=PC,CloudGaming,XboxPlayAnywhere",g="/{locale}/games/browse/{collection}",f="https://www.xbox.com/{locale}/consoles",v="https://www.xbox.com/{locale}/apps/xbox-app-for-pc",_="https://store.ubi.com/my-account",y="https://www.xbox.com/play",b="https://www.xbox.com/{locale}/play",E="https://www.xbox.com/{locale}/play/games/{title}/{productId}",C="https://www.xbox.com/{locale}/apps/xbox-app-for-pc",S="https://www.xbox.com/{locale}/apps/xbox-app-for-pc#systemrequirements",T="https://www.xbox.com/{locale}/apps/xbox-app-for-tv",I="https://www.xbox.com/{locale}/xbox-game-pass/games#pcgames"},37122:(e,t,n)=>{"use strict";n.d(t,{FA:()=>d,Gx:()=>c,Q5:()=>u,TH:()=>o,WR:()=>l,m8:()=>a,xX:()=>s,yW:()=>i});n(31235);var r=n(16216);const o=100,a="/search/results/:tabName?";var i;!function(e){e.Addons="addons",e.Docs="docs",e.Games="games",e.Hardware="hardware",e.Passes="passes",e.General="general"}(i||(i={}));const s=e=>Object.values(i).includes(e.toLowerCase()),c=i.Games,l=[{tabName:i.Games,hasFilters:!0},{tabName:i.Addons,hasFilters:!0},{tabName:i.Passes,hasFilters:!1},{tabName:i.Hardware,hasFilters:!1},{tabName:i.Docs,hasFilters:!1},{tabName:i.General,hasFilters:!1}];var u;!function(e){e[e.Games=0]="Games",e[e.Addons=1]="Addons",e[e.Passes=2]="Passes",e[e.Hardware=3]="Hardware",e[e.Docs=4]="Docs",e[e.General=5]="General"}(u||(u={}));const d=e=>(0,r.Ypc)(e,i.Docs)||(0,r.Ypc)(e,i.General)},12748:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});n(36728);const r=(e,t,n)=>{n&&e.push(t)}},69960:(e,t,n)=>{"use strict";n.d(t,{Bs:()=>p,H0:()=>_,HN:()=>d,Pd:()=>l,Wd:()=>h,uw:()=>m});var r=n(814),o=n.n(r),a=(n(36728),n(43430),n(77950),n(74069),n(44112),n(64925),n(74407),n(26464),n(54819),n(64903),n(6886),n(16216)),i=n(87342),s=n(14290),c=n(47278);const l=(e,t)=>{const n=`_CHANNELID=${t}`,r=`_FILTERS=${g(e)}`;return(0,a.kgH)(`${i.uZ.Browse.toUpperCase()}${n}${r}`)},u=/_CHANNELID=(.*?)_FILTERS=/i,d=e=>{var t,n;return(0,a.kgH)(e).startsWith("BROWSE_")&&null!==(n=null===(t=e.match(u))||void 0===t?void 0:t[1])&&void 0!==n?n:e},h=(e,t,n)=>`${i.uZ.Search}_${t}_SEARCHQUERY=${n.split(" ").join("-")}_${g(e)}`.toUpperCase(),m=(e,t)=>Object.keys(c.yW).reduce(((n,r)=>o()(o()({},n),{},{[c.yW[r]]:h(t,r,e)})),{}),p=e=>h({},"PROMO",e),g=e=>f(e).sort().join("&"),f=e=>{const t=[];for(const[n,r]of Object.entries(e))0!==r.length&&t.push(`${n.toUpperCase()}=${v(r)}`);return t},v=e=>e.map((e=>e.toUpperCase())).sort().join(","),_=e=>{let t="";if(!e||0===e.length)return t;switch(e[0]){case s.Zr.Consumable:case s.Zr.Durable:t=c.b9}return t}},45208:(e,t,n)=>{"use strict";n.d(t,{Oi:()=>r,lx:()=>a,wU:()=>o});const r=e=>Math.round(100*e)/100,o=e=>`${e}rem`,a=(e,t)=>`${e}_${t.toLocaleUpperCase()}`},41610:(e,t,n)=>{"use strict";n.d(t,{jP:()=>E,vo:()=>T,aX:()=>S,wT:()=>j,Al:()=>Z,Ri:()=>Y,fV:()=>H,eL:()=>X.e,U8:()=>z,G7:()=>L,LT:()=>$.L,nS:()=>J.nS,mU:()=>v,OT:()=>U,vx:()=>B,wU:()=>q.wU,lx:()=>q.lx,Pd:()=>f.Pd,WE:()=>N,sD:()=>P,CY:()=>R,Wd:()=>f.Wd,uw:()=>f.uw,Bs:()=>f.Bs,Zc:()=>O,Qz:()=>h,HN:()=>f.HN,Is:()=>G,_B:()=>$._,Uo:()=>J.Uo,z1:()=>J.z1,BS:()=>J.BS,H0:()=>f.H0,e1:()=>J.e1,EV:()=>J.EV,uh:()=>J.uh,Oi:()=>q.Oi,mZ:()=>g,Nd:()=>m,WV:()=>a,FF:()=>re,fm:()=>d,mG:()=>F,_q:()=>V._,kR:()=>A,Gi:()=>w,g6:()=>I,bN:()=>V.b});n(12748),n(61657),n(13489),n(88233),n(6886);var r=n(16216),o=n(61030);const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;var a;const s=(0,o.iV)("gameSizeFormat"),c=i(e,t,n);if(void 0!==c)return(0,r.WUZ)(s,null===(a=c.size)||void 0===a?void 0:a.toString(),c.unit)},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const[r,a,i,c,l,u]=(0,o.QF)("bytesSymbol","kiloBytesSymbol","megaBytesSymbol","gigaBytesSymbol","teraBytesSymbol","petaBytesSymbol"),d=[r,a,i,c,l,u];if(void 0===e)return;let h,m=0;return 0===e?h=e:(m=s(e,t),h=parseFloat((e/Math.pow(t,m)).toFixed(n))),{size:h,unit:d[m]&&d[m]||""}},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;return Math.floor(Math.log(e)/Math.log(t))};n(14121),n(60523);var c=n(74495),l=n(47278),u=n(76558);const d=(e,t)=>{const n=(0,c.useSelector)((t=>(0,u.fT)(t,e))),r=p(n),a=(0,c.useSelector)((t=>(0,u.oT)(t,e))),i=(0,o.NE)(r,a);return t||i},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.V9f,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return new URL(`${t}/games/browse/${n}`,e).toString()},m=e=>{const t=(0,c.useSelector)(r.Yzi);return(0,r.uQr)(l.VY,{locale:t,collection:e})},p=e=>`channelTitle_${e}`,g=e=>e?e.substring(0,l.TH).trim():"";var f=n(69960);const v=e=>"true"===(null===e||void 0===e?void 0:e.toLowerCase());n(43430),n(9e4),n(34715),n(64925),n(74407),n(52856),n(26464),n(18339),n(19570),n(54819),n(64903),n(57610),n(95682),n(21045),n(17244),n(42068),n(75519),n(39432),n(73574),n(33619),n(53862),n(26881),n(35359),n(98208),n(13608),n(75676),n(5993),n(74456);var _=n(2784),y=n(14290),b=n(1540);const E=_.createContext({activeFilterFunctions:{},filteredProducts:[],initialProducts:[],setActiveFilterFunctions:()=>{}}),{Provider:C,Consumer:S}=E,T=e=>{const{children:t,initialProductList:n}=e,[r,o]=(0,_.useState)({}),a=(0,c.useSelector)((e=>(0,b.h$)(e,n))).filter((e=>!!e.product)),i=Object.values(r).reduce(((e,t)=>t(e)),a).map((e=>{var t,n;return{productId:e.product.productId,skuId:null===(t=e.sku)||void 0===t?void 0:t.skuId,availabilityId:null===(n=e.availability)||void 0===n?void 0:n.availabilityId}}));return _.createElement(C,{value:{activeFilterFunctions:r,filteredProducts:i,initialProducts:a,setActiveFilterFunctions:o}},t)},I=()=>{const{gamesProductKindDisplayText:e,durableProductKindDisplayText:t}=(0,o.y_)("gamesProductKindDisplayText","durableProductKindDisplayText");return{[y.Fc.Game.toUpperCase()]:e,[y.Fc.Durable.toUpperCase()]:t}},w=e=>{const t=new Set,n=I();e.forEach((e=>{e.product.productKind&&t.add(e.product.productKind)}));return{filterOptions:[...t].sort(),filter:(e,t)=>e.filter((e=>e.product.productKind&&(0,r.Ypc)(e.product.productKind,t))),filterValueToDisplayString:n}},A=e=>{const t=new Set;e.forEach((e=>{e.product.categories&&e.product.categories.forEach((e=>t.add(e)))}));return{filterOptions:[...t].sort(),filter:(e,t)=>e.filter((e=>{let n=!1;return e.product.categories&&(n=e.product.categories.some((e=>(0,r.Ypc)(e,t)))),n}))}};var k=n(87995);const P=e=>{const t={},n=(e=>Object.entries(e).filter((e=>{let[t,n]=e;return!!t&&!0===n})).map((e=>{let[t,n]=e;return t})).join(","))(e);return n&&(t[k.zF.XblExperiments]=n),t},x=(e,t)=>{switch(e){case 2:return t&&(e=>29===new Date(e,1,29).getDate())(t)?29:28;case 4:case 6:case 9:case 11:return 30;default:return 31}},R=e=>{const t=new Array(13);t[0]={value:-1,label:e};for(let n=1;n<t.length;n++)t[n]={value:n,label:n.toString()};return t},N=(e,t,n)=>{let r;if(t){const e=x(t,n);r=new Array(e+1)}else r=new Array(32);r[0]={value:-1,label:e};for(let o=1;o<r.length;o++)r[o]={value:o,label:o.toString()};return r},O=e=>{const t=(new Date).getFullYear(),n=new Array(151);n[0]={value:-1,label:e};for(let r=1;r<n.length;r++)n[r]={value:t-r,label:(t-r).toString()};return n},L=e=>{const t=new Date,n=t.getMonth(),r=e.getMonth();let o=t.getFullYear()-e.getFullYear();return(n<r||n===r&&t.getDate()<e.getDate())&&o--,o};var M=n(15946);const D="keydown",U=e=>Array.from(e.querySelectorAll('button, a, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter((e=>!e.hasAttribute("disabled"))),B=e=>{if(null===e||void 0===e?void 0:e.current){const t=U(e.current);t.length>0&&t[0].focus()}},F=(e,t,n,o)=>{(0,M.useBButtonHandler)("release",(()=>!!e&&(t(),!0))),(0,_.useEffect)((()=>{if(e){const e=function(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,r.Ypc)(e.key,"escape")&&(t(),o&&(null===n||void 0===n?void 0:n.current)&&n.current.focus(),e.stopPropagation(),e.preventDefault())},a=t=>e(t);let i;if(document.addEventListener(D,a),null===o||void 0===o?void 0:o.current){B(o),o.current.addEventListener(D,(t=>e(t,!0)));const t=null===o||void 0===o?void 0:o.current;i=()=>{t&&t.removeEventListener(D,(t=>e(t,!0)))}}return()=>{document.removeEventListener(D,a),i&&i()}}}),[n,o,t,e]);return e=>{t(e),(null===n||void 0===n?void 0:n.current)&&n.current.focus()}},H=_.createContext({});var q=n(45208);const G=(e,t)=>e<0?0:e>=t?t-1:e;n(84179);var z,$=n(76831),X=n(30392),V=n(95240);!function(e){e.AlphabeticalAscending="AlphabeticalAscending",e.AlphabeticalDescending="AlphabeticalDescending"}(z||(z={}));const W={[z.AlphabeticalAscending]:e=>Q(e),[z.AlphabeticalDescending]:e=>Q(e,!0)},j=_.createContext({activeSortFunction:z.AlphabeticalAscending,setActiveSortFunction:()=>{},sortedProducts:[]}),{Provider:K,Consumer:Z}=j,Y=e=>{const{children:t,initialProductList:n}=e,[r,o]=(0,_.useState)(z.AlphabeticalAscending),a=(0,c.useSelector)((e=>(0,b.h$)(e,n))).filter((e=>!!e.product)),i=W[r](a.map((e=>e.product))).map((e=>({productId:e.productId})));return _.createElement(K,{value:{activeSortFunction:r,setActiveSortFunction:o,sortedProducts:i}},t)},Q=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[...e],r=n.sort(((e,t)=>e.title<t.title?-1:e.title>t.title?1:0));return t?r.reverse():r};var J=n(37533),ee=n(28248),te=n(6785),ne=n(97860);const re=()=>{const e=(0,c.useSelector)(ee.bG),t=null===e||void 0===e?void 0:e.xuid,n=(0,c.useDispatch)(),r=(0,c.useSelector)(te.u);(0,_.useEffect)((()=>{r||n(ne.S.fetchVectorId.start())}),[t,r,n])}},84179:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});var r=n(16216),o=n(74495),a=n(47278),i=n(89083);const s=e=>{const t=(0,o.useSelector)(r.Xnf).origin,n=(0,o.useSelector)(r.Yzi);if(!e||!e.id||!e.itemType)return;const{id:s,itemType:c}=e;switch(c){case i.UA.ProductId:return(0,a.Ok)(t,n,s);case i.UA.CollectionId:return;case i.UA.Link:return s;default:return}}},81525:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(16216),o=n(74495),a=n(47278);const i=(e,t)=>{const n=(0,o.useSelector)(r.Yzi);return(0,r.uQr)(a.CD,{locale:n,title:t||"p",productId:e})}},76831:(e,t,n)=>{"use strict";n.d(t,{L:()=>s,_:()=>c});var r=n(814),o=n.n(r),a=(n(88233),n(4517)),i=n(37122);const s=(e,t)=>t?`${e}?${t.toString()}`:e,c=e=>{const t=(0,a.LX)(e.pathname,{path:i.m8});if(t){if("tabName"in t.params){const n=t.params.tabName;if(n&&(0,i.xX)(n))return o()(o()({},e),{},{pathname:(0,a.Gn)(i.m8,{tabName:n.toLowerCase()})})}return o()(o()({},e),{},{pathname:(0,a.Gn)(i.m8,{tabName:i.Gx})})}return e}},30392:(e,t,n)=>{"use strict";n.d(t,{e:()=>r,j:()=>o});n(6886),n(14121),n(60523);const r="purchaseSignIn",o=()=>{const e=new URL(window.location.href);return e.searchParams.set(r,"true"),e.href}},95240:(e,t,n)=>{"use strict";n.d(t,{_:()=>i,b:()=>s});n(31235),n(6886);var r=n(16216),o=n(2784),a=n(74495);const i=e=>{const[t,n]=(0,o.useState)(!1);(0,o.useEffect)((()=>{if(!t)return void n(!0);let r;const o=setTimeout((()=>{r=window.requestAnimationFrame(e)}),0);return()=>{clearTimeout(o),cancelAnimationFrame(r)}}),[e,t])},s=()=>{const e=(0,a.useSelector)(r.yWe).language;return r.Kp2.includes((0,r.kgH)(e))}},37533:(e,t,n)=>{"use strict";n.d(t,{BS:()=>u,EV:()=>s,Uo:()=>d,e1:()=>c,nS:()=>l,uh:()=>i,z1:()=>h});var r=n(814),o=n.n(r),a=(n(36728),n(77950),n(88233),n(31235),n(94908),n(34715),n(26464),n(19570),n(6886),n(60523),n(89741));const i=(e,t,n)=>{e.push(o()(o()({},t),{},{state:{returnFilters:!n}}))},s=(e,t)=>{var n;const r=new URLSearchParams(t.search),o=decodeURIComponent(null!==(n=r.get(e))&&void 0!==n?n:"");return null===o||0===o.trim().length?void 0:o},c=e=>{const t={},n=Object.values(a.v);return new URLSearchParams(e.search).forEach(((e,r)=>{if(!n.includes(r))return;const o=decodeURIComponent(e);o&&o.trim().length>0&&(t[r]=o.split(","))})),t},l=e=>{const t=Object.values(a.v),n=new URLSearchParams(e.search);return new URLSearchParams(e.search).forEach(((e,r)=>{t.includes(r)&&n.delete(r)})),o()(o()({},e),{},{search:n.toString()})},u=(e,t,n)=>{const r=new URLSearchParams(n.search);return r.has(e)?r.set(e,t):r.append(e,t),o()(o()({},n),{},{search:r.toString()})},d=(e,t)=>{const n=new URLSearchParams(t.search);return n.has(e)?(n.delete(e),o()(o()({},t),{},{search:n.toString()})):t},h=(e,t,n)=>{var r;const a=new URLSearchParams(n.search);if(a.has(e)){const n=decodeURIComponent(null!==(r=a.get(e))&&void 0!==r?r:"");if(n&&n.trim().length>0){const r=n.split(",");r.includes(t)?r.splice(r.indexOf(t),1):r.push(t),r.length>0?a.set(e,r.join(",")):a.delete(e)}else a.delete(e)}else a.append(e,t);return o()(o()({},n),{},{search:a.toString()})}},27372:(e,t,n)=>{"use strict";n.d(t,{ttT:()=>Pt.tt,S8w:()=>Bn.S8,eNe:()=>Bn.eN,vmd:()=>Bn.vm,UFU:()=>y,lvQ:()=>q,_NT:()=>U,pdP:()=>ae,JqF:()=>jt,voT:()=>Y.vo,CO6:()=>Oe,K3f:()=>Le,aX7:()=>Y.aX,wwk:()=>Fe,Alg:()=>Y.Al,RiE:()=>Y.Ri,rKW:()=>He,wc4:()=>rn,m9s:()=>Bn.m9,fVL:()=>Y.fV,Hcb:()=>yu,uL1:()=>Vc,aoB:()=>Pt.ao,vnT:()=>Cn,BEx:()=>kn,Ype:()=>Wc,E$n:()=>jc,EqJ:()=>An,sCM:()=>En,F0k:()=>Sn,zBs:()=>wn,c$s:()=>Pt.c$,odo:()=>T.od,Gxm:()=>T.Gx,XgG:()=>$e,msS:()=>Xe,L0B:()=>Qn,s69:()=>nl,CTs:()=>Jn,vAw:()=>Bn.vA,BPi:()=>Pt.BP,xpi:()=>ne,odj:()=>Ye,td5:()=>Qe,xZ4:()=>Tu.x,ibq:()=>Iu,zTD:()=>bs,WAY:()=>Pt.WA,v9X:()=>za,njw:()=>Bn.nj,Ukb:()=>st,zPB:()=>Xl,J_R:()=>cc,dGl:()=>ht,YXB:()=>pu,$kX:()=>_u,kTJ:()=>vu,yAf:()=>Hn,ooi:()=>Bn.oo,IGD:()=>T.IG,whE:()=>rr,ZrW:()=>Bn.Zr,F6K:()=>Pt.F6,G3y:()=>se,tob:()=>Jr,eL5:()=>Y.eL,gaw:()=>nu,TbR:()=>Tn,dqe:()=>T.dq,pxp:()=>Bn.px,sXi:()=>Pt.sX,B44:()=>ou,yW7:()=>T.yW,Q5c:()=>T.Q5,WRE:()=>T.WR,qYw:()=>mt,lPH:()=>ft,$16:()=>su,$K:()=>Pt.$K,BQW:()=>Bn.BQ,Uj1:()=>Wt,OK9:()=>yt,njP:()=>Et,TZ0:()=>bt,qI3:()=>hc,qYg:()=>Bn.qY,cKJ:()=>T.cK,YQ:()=>Eu,Twg:()=>Cu,QFv:()=>Su,atq:()=>T.at,XBC:()=>T.XB,VCn:()=>Pt.VC,z2f:()=>Pt.z2,G7L:()=>Y.G7,LAc:()=>Pt.LA,LTV:()=>Y.LT,nSo:()=>Y.nS,Ivn:()=>Pt.Iv,laP:()=>Pt.l,tG6:()=>Pt.tG,KNz:()=>Pt.KN,Z0r:()=>T.Z0,b3e:()=>Pt.b3,HgD:()=>Pt.Hg,YA2:()=>Pt.YA,EKU:()=>Pt.EK,vxR:()=>Y.vx,PdF:()=>Y.Pd,WEp:()=>Y.WE,sDH:()=>Y.sD,CYE:()=>Y.CY,Wd4:()=>Y.Wd,uwM:()=>Y.uw,BsZ:()=>Y.Bs,Zcz:()=>Y.Zc,Nxi:()=>Pt.Nx,Qzm:()=>Y.Qz,ut_:()=>Pt.ut,V4L:()=>Pt.V4,HND:()=>Y.HN,hni:()=>Pt.hn,D3K:()=>Pt.D3,QjW:()=>Pt.Qj,tRf:()=>Pt.tR,ZjP:()=>Pt.Zj,OkP:()=>T.Ok,Iel:()=>Pt.Ie,wXP:()=>Pt.wX,AYc:()=>Pt.AY,Uk3:()=>Pt.Uk,ZG7:()=>T.ZG,bE7:()=>Pt.bE,zFb:()=>Pt.zF,h$f:()=>Pt.h$,zkb:()=>Pt.zk,_LE:()=>Pt._L,KXb:()=>T.KX,j0v:()=>Pt.j0,th2:()=>Pt.th,tAZ:()=>Pt.L2,ZiK:()=>Pt.Zi,GbY:()=>Pt.Gb,e1L:()=>Y.e1,LuX:()=>Pt.Lu,pMM:()=>Pt.pM,EV:()=>Y.EV,Z5S:()=>Pt.Z5,wxp:()=>Pt.wx,FA5:()=>T.FA,xXR:()=>T.xX,uhc:()=>Y.uh,e5v:()=>T.e5,bXX:()=>Pt.bX,Z5C:()=>Pt.xN,s86:()=>Pt.s8,ZTC:()=>Pt.ZT,Oio:()=>Y.Oi,VnN:()=>Bn.Vn,mZK:()=>Y.mZ,F40:()=>Pt.F4,SA4:()=>Pt.SA,Nd3:()=>Y.Nd,WVX:()=>Y.WV,FF:()=>Y.FF,fmR:()=>Y.fm,mGL:()=>Y.mG,PHv:()=>T.PH,_q2:()=>Y._q,bNS:()=>Y.bN});n(36728),n(6886);var r=n(22970),o=n(57760),a=n(16763),i=n(12524),s=n.n(i),c=n(2784),l=n(98900),u=n(8520),d=n(82008),h="EsrbRating-module__ratingValue___bSF6+",m=(0,c.memo)((function(e){var t=e.imgProps,n=e.ratingValue,i=e.ratingLink,m=e.className,p=e.children,g=e.linkButtonProps,f=e.showQR,v=(0,r.__rest)(e,["imgProps","ratingValue","ratingLink","className","children","linkButtonProps","showQR"]),_=g||{},y=_.className,b=(0,r.__rest)(_,["className"]);return c.createElement("div",(0,r.__assign)({className:s()("EsrbRating-module__container___Z6Ef+",m)},v),c.createElement("img",(0,r.__assign)({},t,{className:s()("EsrbRating-module__ratingImage___sMISX",t.className),src:t.src,alt:t.alt})),c.createElement("div",{className:"EsrbRating-module__labelContainer___pTpkq"},i&&n?c.createElement(l.k,(0,r.__assign)({as:"a",href:i,buttonType:u.L$.Secondary,buttonSize:u.qE.XSmall,className:s()(y,h,"EsrbRating-module__link___bhdWP"),target:"_blank",isCallToAction:!0,rel:"noopener noreferrer"},b),n,c.createElement(d.JO,{className:"EsrbRating-module__icon___15GZO",icon:f?o.Z:a.Z,iconSize:d.Jh.XXSmall})):n?c.createElement("div",{className:h},n):null,p))})),p=(0,c.memo)((function(e){var t=e.className,n=e.label;return c.createElement("div",{className:s()("EsrbRating-module__description___RvWaD",t)},n)})),g=n(16216),f=n(61030),v=n(74495),_=n(93106);const y=e=>{var t,n;const{productId:r,className:o}=e,a=(0,f.iV)("commaSeparatorTemplate"),[i,s]=(0,f.QF)("buttonWithStateAccessibilityTemplate","openInNewTabLinkLabel"),l=(0,v.useSelector)((e=>(0,_.th)(e,r))),u=null===l||void 0===l?void 0:l.contentRating,d=(0,c.useMemo)((()=>({src:null===u||void 0===u?void 0:u.imageUri,alt:null===u||void 0===u?void 0:u.ratingDescription})),[u]);if(!u)return null;const h=(0,g.OjV)(a,(0,g.NRv)(u.descriptors)),y=[];(null===(t=u.interactiveDescriptions)||void 0===t?void 0:t.length)&&y.push((0,g.OjV)(a,u.interactiveDescriptions));const b=[];(null===(n=u.disclaimers)||void 0===n?void 0:n.length)&&b.push((0,g.OjV)(a,u.disclaimers));const E=(0,g.WUZ)(i,u.rating,s);return c.createElement("div",{className:o},c.createElement(m,{className:"AgeRatingInfo-module__ratingPositionOverride___y86yq",imgProps:d,ratingLink:u.imageLinkUri,ratingValue:u.rating,linkButtonProps:{"aria-label":E}},c.createElement(p,{label:h}),y.length>0&&c.createElement(c.Fragment,null,c.createElement("hr",null),y.map(((e,t)=>c.createElement(p,{key:`rating-interactive-description-pdp-${t}`,label:e})))),b.length>0&&c.createElement(c.Fragment,null,c.createElement("hr",null),b.map(((e,t)=>c.createElement(p,{key:`rating-disclaimer-pdp-${t}`,label:e}))))))};var b=n(814),E=n.n(b),C=(n(73439),n(28248)),S=n(87342),T=n(47278);const I="BlendsHost",w={ClientType:"XboxCom",ParentElementId:I,PurchaseServiceVersion:"7.0",PurchaseScenario:"GiftPurchase"},A=e=>{const t=(0,C.Tv)(),n=(0,v.useSelector)(g.yWe),r=(0,S.Qc)(),o=(0,v.useSelector)(g.gzb),a=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.UsePurchasePPE))),i={ProductId:e.productId,SkuId:e.skuId,AvailabilityId:e.availabilityId,BuddyPassOfferId:e.buddyPassOfferId,Culture:n.localeWithScript,Market:n.market,CV:r.cv().increment(),Style:{cssOverride:o===g.Q2A.Dark?k.Dark:""}},s=t=>((e,t)=>{const n=JSON.parse(e.data);((0,g.Ypc)(n.message,"done")||(0,g.Ypc)(n.message,"redeemDone"))&&t&&t(n.status)})(t,e.onComplete),l=(0,g.Gq1)(a?T.Fl:T.ys);return(0,c.useEffect)((()=>{if(l===g._M1.Ready)return e.buddyPassOfferId?(async(e,t,n,r)=>{if(void 0!==WebBlender&&void 0!==WebBlender.redeem){const o=await(0,C.F3)(t,C.Q7.MDollar);WebBlender.redeem(E()(E()(E()({},e),w),{},{Flight:"enablebuddypass:1",Style:{cssOverride:k.GamingApp,layout:"modal"},XToken:o,Environment:r})),null===WebBlender||void 0===WebBlender||WebBlender.registerMessageHandler(n)}})(i,t,s,a?"ppe":"prod"):(async(e,t,n)=>{if(void 0!==WebBlender&&void 0!==WebBlender.purchaseSingleItem){const r=await(0,C.F3)(t,C.Q7.MDollar);WebBlender.purchaseSingleItem(E()(E()(E()({},e),w),{},{XToken:r})),null===WebBlender||void 0===WebBlender||WebBlender.registerMessageHandler(n)}})(i,t,s),()=>{null===WebBlender||void 0===WebBlender||WebBlender.unregisterMessageHandler(s)}}),[l]),c.createElement("div",{id:I,className:"BlendsHost-module__blendsHost___xIxx8"})};var k;!function(e){e.GamingApp="gamingapp",e.Dark="dark"}(k||(k={}));var P=n(89872),x=n(53249);const R=n.p+"static/media/browseAllGamesModuleImage.0ea1be45.png";var N=n(25262);const O=function(e){return c.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),c.createElement("path",{d:"M20.38 1.205a1.125 1.125 0 011.679 1.492l-.088.098-13.38 13.381L21.94 29.525c.408.408.437 1.051.087 1.493l-.087.098a1.125 1.125 0 01-1.493.087l-.098-.087L6.205 16.97a1.125 1.125 0 01-.088-1.492l.088-.099L20.38 1.205z",fillRule:"evenodd"}))};var L=n(64807),M=n(95240);const D=e=>{const{className:t,label:n,url:r}=e,o=(0,M.b)();return c.createElement(l.k,{className:s()("SnoByrdButton-module__snoByrdButton___LrK0z",t),as:"a",href:r,"aria-label":n},c.createElement("span",{className:"SnoByrdButton-module__snoByrdButtonContent___abZnS"},c.createElement("div",{className:s()("SnoByrdButton-module__snoByrdIconSpacing___QcidL",P.fe)},n),o?c.createElement(O,{"aria-hidden":!0}):c.createElement(L.Z,{"aria-hidden":!0})))};var U;!function(e){e[e.Console=0]="Console",e[e.PC=1]="PC"}(U||(U={}));const B=e=>{const{buttonLabel:t,buttonLink:n,imageAltText:r,moduleSubTitle:o}=e;return c.createElement("div",{className:"BrowseAllGames-module__moduleContainerDesktop___Koi4b"},c.createElement("img",{className:"BrowseAllGames-module__imageDesktop___c2AGe",src:R,alt:r}),c.createElement("div",{className:"BrowseAllGames-module__titleAndButtonContainerDesktop___keIAC"},c.createElement("h3",{className:P.A9},o),c.createElement(D,{className:"BrowseAllGames-module__ctaDesktop___bpCoU",label:t,url:n})))},F=e=>{const{buttonLabel:t,buttonLink:n,imageAltText:r,moduleSubTitle:o,moduleTitle:a}=e;return c.createElement("div",{className:"BrowseAllGames-module__moduleContainerMobilePortrait___RVbuP"},c.createElement("h3",{className:P.O8},a),c.createElement("img",{className:"BrowseAllGames-module__imageMobilePortrait___eODRo",src:R,alt:r}),c.createElement("div",{className:"BrowseAllGames-module__centeredContainerMobilePortrait___fFseT"},c.createElement("h4",{className:P.TH},o),c.createElement(D,{className:"BrowseAllGames-module__ctaMobilePortrait___xbGUY",label:t,url:n})))},H=e=>{const{buttonLabel:t,buttonLink:n,imageAltText:r,moduleSubTitle:o}=e;return c.createElement("div",{className:"BrowseAllGames-module__moduleContainerMobileLandscape___pJRu4"},c.createElement("img",{className:"BrowseAllGames-module__imageMobileLandscape___vTUr7",src:R,alt:r}),c.createElement("div",{className:"BrowseAllGames-module__titleAndButtonContainerMobileLandscape___QXhTw"},c.createElement("h4",{className:P.HX},o),c.createElement(D,{className:"BrowseAllGames-module__ctaMobileLandscape___JNIkx",label:t,url:n})))},q=e=>{const t=(0,v.useSelector)(g.Yzi),{homePageBrowseAllGamesModuleTitle:n,homePageBrowseAllGamesModuleSubTitle:r,homePageBrowseAllGamesImageAltText:o,homePageBrowseAllGamesConsoleButtonLabel:a,homePageBrowseAllGamesPCButtonLabel:i}=(0,f.y_)("homePageBrowseAllGamesModuleTitle","homePageBrowseAllGamesModuleSubTitle","homePageBrowseAllGamesImageAltText","homePageBrowseAllGamesConsoleButtonLabel","homePageBrowseAllGamesPCButtonLabel");let s="",l="";e.mode===U.Console?(s=a,l=N.DA):e.mode===U.PC&&(s=i,l=N.cr);const u={moduleTitle:n,moduleSubTitle:r,imageAltText:o,buttonLabel:s,buttonLink:(0,g.uQr)(l,{locale:t})},d=(0,x.Wp)({desktopComponent:B,mobilePortraitComponent:F,mobileLandscapeComponent:H});return d?c.createElement(d,E()({},u)):null};var G=n(14290),z=n(93660),$=n(59387),X=n(24923),V=n.n(X),W=n(15946),j=n(14701),K=n(7739),Z=n(95895),Y=n(41610),Q="ButtonWithFlyout-module__flyoutButton___q31zM";const J=["accessibilityLabel","children","buttonId","buttonType","className","showArrow","telemetryProps"],ee=c.createContext({reverseOpenDirection:!1,reverseVerticalPosition:!1,showFlyout:!1,closeFlyout:()=>{},openFlyout:()=>{},buttonRef:void 0,flyoutRef:void 0}),{Provider:te,Consumer:ne}=ee,re={left:0},oe={right:0},ae=e=>{const{children:t,flyoutBoundingParent:n}=e,[r,o]=(0,c.useState)(!1),[a,i]=(0,c.useState)(!1),[s,l]=(0,c.useState)(!1),u=(0,c.useRef)(null),d=(0,c.useRef)(null),h=(0,x.df)(),m=(0,Y.mG)(r,(()=>o(!1)),d,u);(0,c.useEffect)((()=>{if(d.current){let{left:e,right:t,top:r,bottom:o}=d.current.getBoundingClientRect();if(null===n||void 0===n?void 0:n.current){const a=n.current.getBoundingClientRect();e-=a.left,t=a.right-t,r-=a.top,o=a.bottom-o,l(r>o)}else t=window.innerWidth-t,o=window.innerHeight-o,l(!1);i(e>t)}}),[h,n]);const p={buttonRef:d,flyoutRef:u,reverseOpenDirection:a,reverseVerticalPosition:s,showFlyout:r,closeFlyout:m,openFlyout:()=>o(!0)};return c.createElement("div",{className:"ButtonWithFlyout-module__buttonContainer___DM0Hd"},c.createElement(te,{value:p},t))};ae.Button=e=>{const{accessibilityLabel:t,children:n,buttonId:r,buttonType:o,className:a,showArrow:i,telemetryProps:u}=e,d=V()(e,J);return c.createElement(ne,null,(e=>{const{buttonRef:r,showFlyout:h,closeFlyout:m,openFlyout:p}=e,g=(0,S._d)({behavior:h?S.cg.REDUCE:S.cg.EXPAND},u),f=(0,S.iZ)(g);return i?c.createElement(j.Z,E()(E()({as:"button","aria-expanded":h,"aria-haspopup":!0,"aria-label":t,buttonType:o,className:s()([Q,a]),onClick:h?m:p,icon:h?K.Z:Z.Z,ref:r},f),d),n):c.createElement(l.k,E()(E()({as:"button","aria-expanded":h,"aria-haspopup":!0,"aria-label":t,buttonType:o,className:s()([Q,a]),onClick:h?m:p,ref:r},f),d),n)}))},ae.Flyout=e=>{const{buttonRef:t,closeFlyout:n,flyoutRef:r,reverseOpenDirection:o,reverseVerticalPosition:a,showFlyout:i}=(0,c.useContext)(ee),s=(0,x.EX)()<=x.JD.SM;let l={},u={};if(null===t||void 0===t?void 0:t.current){const e={right:`calc(-${t.current.offsetWidth}px + 8rem)`};l=o?s?e:oe:re,u=a?{bottom:`calc(${t.current.offsetHeight}px + 0.5rem)`}:{top:`calc(${t.current.offsetHeight}px + 0.5rem)`}}const d={width:"max-content"};return c.createElement(c.Fragment,null,i&&c.createElement(c.Fragment,null,c.createElement(W.FocusContainer,{autoFocusContainer:!0,className:"ButtonWithFlyout-module__flyout___CjK6D",role:"dialog",style:E()(E()(E()({},l),u),s?d:void 0)},c.createElement(x.Lx,null),c.createElement("div",{ref:r},e.children)),c.createElement("div",{className:"ButtonWithFlyout-module__lightDismissLayer___FLmRO",onClick:n,role:"none"})))};const ie=e=>{var t;const n=null!==(t=e.ariaLabel)&&void 0!==t?t:e.label;return c.createElement(l.k,{as:"button",buttonType:u.L$.Tertiary,className:"ButtonWithIcon-module__button___h6MbS","aria-label":n,onClick:()=>window.location.assign(e.url),style:e.widthInRem?{width:(0,Y.wU)(e.widthInRem)}:void 0},c.createElement("div",{className:"ButtonWithIcon-module__insideContainer___5hWC1"},c.createElement("div",{className:"ButtonWithIcon-module__icon___TGo-W"},e.icon),c.createElement("div",{className:s()(P.gC,"ButtonWithIcon-module__label___WxWzd")},e.label)))};const se=e=>{const t="1.25rem",{width:n=t,height:r=t}=e,o=(0,v.useSelector)(g.gzb),a=(0,f.iV)("loadingText"),i=o===g.Q2A.Dark?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAYKADAAQAAAABAAAAYAAAAACpM19OAAAMnUlEQVR4Ae2da4xdVRXHO1gf1AfyEEsLtlCfKFExJJqIGIGAfjAmQkQT/WBijMbEhA8kGk00USMf/GD8otH4BiKJRkjUJmIDgg0+olHASi1KybSg0FoBW0qr9f+7s/+36+4558w9c8/tnXtnr2TN2nvt93+tvfY+596ZmVuzQunYsWNrNbXnip8f5Dql0cPPEj9TfJL4qPh/SR6RPCR+Uvy4eW5uDv2Ko7mVMqME+Kmaz+mJAZ75PUMMAbTniyQPLVXudgdU9xGzDPI0jSdNXtBE5pFAP1ODrxcDPGTASEegrUcX9XUGqNPTzzHxo+Jd4r/LGIclJ0In3AACnTHxdEA/QwxQ6JoAU3HfMNSFARKqa1endztL+tgt3il+SMbAOCeMWMgJoQQ8gL9ETGzPgTQgSM8LmQOZt8vL1aTSoHm7fDzKCVO/F/9VhuBMGTsx6FgpAU+YOVv8HHHVwplHrpdqEZDobCADOooB3Ec+/r81DobYMW5DMPDYSOBzkJ4r5vYSAWZMgPP4OQDkzW7n+lV6+ssNk7ejDm2jwaxzn3n5PlXYJiPspeI4iAE7JwHP9fAc8YtS53GBdcBYH2VsF4EbRu9+bDimQru8H+vz+nGM+1TpThmC622nxCCdksB/oTrcLMYIcREeK1+oqvXq5Xrqc79/Qvwf8UExd3tuLP8VU+a7PWPxbIA8WfwC8SlJcu4Q+jyXfBwVLRrfOrdBcm3dKiNwc+qM6LgTSrGeOE+8h7xQpMdBWm9PRGfmBkL83Z/4SS14pFtJmhe3rg3is8TMEWN5Xp5bnJd1SOstORvu0LxwgpHJA43UkRb5bHWwSVwV671QxogLcmhAxxMrD0mPamF49thIc+UJ+lzxK8QYhfGr5iX1gN4GQDLXH2uuOMtIxMAjkRYE6OeJI6BxQZ64F2qJ/h/ieS2k89iqfpckzZ1Q9Xrxq8TsCs/bc5RqYAdYj3xKfLPmPtIBTUfLJi2AWw73+hx8+jTwyDhxQgrAP6zJT+wJVOP3SevgueQN4gvENoTnHNdBG+uR7NYfaR0PULAcopNlkSbNYUs8dR8GGoDROcbHBbBlH9SE8Z4VR2lHvFUTO08c581c7WRen8spu1VrupdEWzJ4rdqliQI+5InQV84u5wZBqPkXipVOWt8WzfEyMTu8bn1Rz5I4E+4h0YZaG0CTY7tyxzfY+UTIu18kB+xuTW6sh6vG6JS0Tq6uV4g5rON6vF5L48DOuEnr3CU5NLnjoRqkSRHzPTjtnI6SfpkQcZ63jlNLWjNnw6Vi1se64jqV7etZL88l39Wa5ykYhoY2gCbCQw7gc0iZaG+OE+OOTKznAWrqSWsn3F4tZlfEdXrtlqyVG93XtPahwq07o2EtaQIMwOtjJG8JsbaJNDoz8f6BWQGfRSaP/r6SOBSYRVa2RzbC85S7Rpj5EpKKq8VQBlDT08U8bJlsAGRMA/7fNOEVecvx5JcjtSZC6bfFvKADbBMYxjz6jeIrSSxFSxpAluTQ5TZgD8+lxwD83ZoociZJa+NCcYOYd1KmuBti+s3C7nxXqpONBkjb6DQ1tpdX9UMZNxyumX45VlVvJnRaI88yhCMeInPPZ43ojOtVyYHRV5IrVhZKycOW6+SeH/N7NLEV8VRbt5Au9VrrP9XfjWKcD3wiK9snXtO8o5+rSBjcRUWyHDGfDiAG8i4AeKcpe0wTmsi7HAafFGnND2nsrWH86PmowRbdRcJys2QlVRpADWiI9wO0PT3vAD2viw/kBaslr7XfrbXuEEccSef8bmEa6/QhqlSqFM/n3h/JxrCOeP+YM6tY/lBr51zAaSHLhdzCTz6HuCgqnF5kgOT93Hzs+XVyvzygkw8lPJlplMKA8HurOPf6PH9Z1S5YZAB1FJ/26jA5pIH5iLCQEBAWf5YgFFUROwKc+WiUzx4GaMAAwfupVOf56Id6zB4YafYzt2iJhOnc8+PKL08Y93UDBpCWj+t4hKYjGAJw55EcvFP1ZpNFjJuECZ9jbxfb4xmStM8EsOYsOF/cp9wAXD3t+YBN2mRDxKdAlxW5gMDtEj4XDT4OHfmNC1UXfvYNkA4IdoAper0NQez3AK5XZEJA2HAb+k3Kgq29P6l64gJhzVdnetQ3gHKAD9AADJPOuXi/QFmCtqkcjwfbKibK8BlDj6IBuPfj9XV0pHh/HTTH9cKIZ6OqT8XYDca7H4Z6inQy+/DNvd75mXvFfBy2zlO/TWDHHRAH2eIwZIvwKVeM+VQG+Kib2dfMLLZj+oP646ZofH0gM4yN8jJnkHi/PZ18JIxA+KG80BAICCuejv+SqgK4w4/BR/JlsL6FMIAJwA22d8DMv+f34juUO9WXPR+Z0ytRrE3xn7RBzyuTLw9eINSO7lf16Ng5rps4B7wlmrqOO6KpXikbRGBe2aprO4Ywr8cAULz3588BRxXTMEKhFggkzDACuwC2sxt8ejsLpbcGIcgxP0qHJhoUaocAX0KGDHou13P9tAF6NcMPe30xQAClZfJh1Te+uaSrDRgAAmQqGHR0pmIAI9FePqImVcC7p9MwgMONlZZu6HyR7RHg5Vy8CdFDxHWdD+Gmrqt2RVP9UnYcgaVe35zMDigh5jhgXacwQL4D4hjrfAZEZUl3hwCvJGLIyXtet7a848kx6TzfZIC5sgM6x3ugQz75ajLAU34XxIcxVRWfLk/BA4C2zWCApovO4ZMSwLzt9LMAhuDmU8AXCCMSBmiiQ70QFIxQXjs3wdW+7FQ1yW9B8Vp/uJwB7UFt02KjKsfQDviEJBthXzFAGzjb1z1bTWwAQHfacm8xQHtQ27TId0DethggR6SrfPqkkQ/e81uQww9D7ckLuxq/9LNmzWaBwF9jaaI9JQQ1wTNa2evUPDp49Hx65nepDxYDjAZyU2sM4MMW8OPth3Z/4ke0EPlCHSCg+M9vGF0otgEs6d3pngHKDgCS7ulidcmXcHMCfHYDfC+FxQCg0D1dqS79BOzYH+V9iv+9P2RSQlDH4Cv8bFCXr12i29tcXnaAkehOXpO6snNHz6eILznfmeqUQ9hAdCHl/Weon7eLifU+bDGE00qu2a7w0//GXNkBQNIdvU9d8Wu+EN8wjOQd8fMqZdSV9DIQkPfzG5DvCk3xeoPuHbFbul+HOuUWFMEYMX2t2uP9jvkOO87zgdcN6bOX/lC2UF9REu0RkPdz74cNelUne6XclheUMyBHpGVe4PPXxK4Lzbj/4/X2fMsb5f35udCPUaF9SbZE4NOq/2Ix3h8jCmnviF1K/1S8iMoOWATJ8Ap5/3tV+22phT0993IM8aUq76ddtFjqp4hhEBD4vO3k4M0p7gTSPxH4vRdveUXy3iJVZUVXg4DA36Kib4mJ//Z8S3/Xljzfjr5aBjggWUllB1TCUq8U+OtV+lWxP+0CwzpH/lwT+IxSzgBQGJIEPg9bXxcj8XS83J6fOzN3/jtU3kh1lmtstBoLBf5Lte5viHnfAznUWKKzQXjX/0EZ4CjKJvI766Y6q75M4F8oEL4p5k8447R23Ci9Ex5X+UcEPvF/Scq3zZINVlsFgf8Brfl74lPS2utiPsY4LP6YwOepdygqZ0ANTAKeQ/Z68eWpCqHGIQZV7ry8579W4BN+hqa8k6EbznJFgQ/oPxNfka3TIQd1TJP/lMDfTqINlR0Q0BLw5yj7WfGlYnu7gc6lW7IzPiHwK181uFKdLAYQMgKeu/2Hxe8X86fbIB+qAO90r0A/rDuo9McF/l0uaCtXtQEE/GYB9lHxe8TGAo+ORJjODUD5PvGHBP49ZJZLHnS57aeunUDncH2nmP8J8yZxPFwj0Hi5PV3JgTTvdvD8eQpGoZk3gAAHxFeL35L4Ekm+NOW3lpRDBttGcH6hdOEnuu+Irxf4R2LBctNTbwABTMzmpZj5TKVfLuar4cjXiHmAqvN0FfXBb0rzYHWdgB/4UJ0Go9BUGkCgb9SiPy/GmzeJ8Ux7NBIvNucxnbpQlNSNRFksv1n5Lwr8/bFSF+mpM0AC/y4tHk/v6jkGsG2EmN4h/ScF/O8kx0JTZwCh8Bkxv30YvVTZRWQPdoHzEWjKrLdE96D4K2L+Xa13lrLd0zQa4OIEQwRsWGRoEw3gtNvfr8SXxbeMG3gPOI0GMGjIKiNY53rOs2brvH7KeIezVXyT+BcCPq8j9fhoGg3wK8FxlTgCOyxCtAFgDua7xT8Q829oeYU8EVrOIiYyUQ+aDmGM4K+CcA1lHY7V+XXTt6A/qs4vxbeL+YLsxEDX+H2aOgMw82SELyh5iZiPB58Qc09HAuy8mHi+0yzAKVtx9H/5eP1D81B3eQAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMKADAAQAAAABAAAAMAAAAADbN2wMAAAGz0lEQVRoBdWZS2zURRzHu4/utrsLxZYSukXERkBTbKGEQH1EImlNSPBg0sQYY2LigxDj1XgwwYMHL1684ElvBOFgxFhDommNFCkUCmiQ2FAtyraUUtptu33s/tfPd7Kz2a703S3bSSbz+P9n5vv9vWb+83cVLENqamry3Lhxo6ywsLDU5XKtdRwnNDU15fd4PL5kMumhL8Eyca/XO5pIJEYo+4LBYKSlpSW+1OVdi51g//793tHR0fUAXA/YckB6qbuVIODJrKtPbd5J97NukhyB5K3y8vK/mpubJxaDZcEEJO2enp4KQG8i+wAgwG5bCnyq7rFksglYIpYkbQfwV3jvSkdHx9RCiMybAIu5amtry30+X+Xk5KTfgrPAsyTsESmSymwiMilpxJSATWuH/nHGtB86dOj3o0ePitScaV4EqqurfUVFRVUAD1rAVspW+qw0iW0PYONRfGEiEAjIJMaFAE0Vx+PxQCwWCzCujK7HGFdiNWGFYTXC83585NuzZ89GNX62NCeB3bt3B1hsC5P7LFiVWgxtOJS9ZWVlA2fOnBmdbaHsZ/X19aUIZAuEa3gWYB6rGTdt+UuM/M3ly5dvZ4/NbM9KYOfOneuYJIz0PEjX2LrAI+ECct/mzZsjJ0+eVIRZdEJAhQyuU4aMX4JhTUOCviQa+wG/uDbTAjMS2Lt379qxsbFwCrhLwFUnR6nfWqizzQTA9tfU1Mg8D0BgG33WL0TEhYmdvnTp0lX7bmb5QAKEyKLh4eFNSMRIXcBV9/v9d9vb2/uQkELgsifAu/bs2fMMPvOc1YI0Qkpirl+dP3/+n+xF/0dA8X1oaKiSScDtlSRcysXFxREmGM6eIBfturq6p1jzZTTtSxERzjEEeCwbg1SUTgLa19dXrhLWDravoO6sWbPmdvbA9KAcVDCX60x7WuDBYjLttRMTE68TXqdh9mSuf+rUqRDAg5iLnNQ8QvL329rahjLfW4l6b29vf2VlpUy4KsOcSrq6uqKRSORfiyHNRlKnMySJK2NC2khGAT9oX17p8uLFiy2A/4N1004NoUZOAz6LJU1gx44dQXUSmw0BNJDYvn37ABPkxGEtgNlKra0NjTJOFlZppKS7u/sFO84QkF2x0xZZ6YsEO2l0qTHeLrKUUrsxZv2LfEEklDHxA9pgNa8hgIMWcrJMAjyhDJd4Q0PDgnbWpYCca+yGDRtaITEGCZ1mdb4S+Kc1zjhxVVVVER4OOVcBLxYQPmPHjx+fnGvilXqO4ybC4bAf4NvAZ0xJmsCZO0ycv3nzpmdkZMRBCw6270BoUWfzXBJC8lcFWqbEOjIjzpjVPk9ra6uXeG+ISQMkhy+lvCNAWI1WVFTUQ0ChXkC9+Ozf7v7+fve9e/ecwcFBJxQKJTigLeiDQoxXKiHgayktyPTl0E8q+iTJijqJgYEBkVjyd2oOCfXIiUWCNUQi7OZUmcRJnJKSEodzvQzrocX9uYgD/H6mBiCzUbZkQmlqsNragfOSBLG/An/9VIEI8HBxjQi8ANusj5O8BA+uAg6Vg4A2ewFNYQ96U19Eem7Scn+o2HmXo0ztVdMOoG5YJTm4+cbHx/2qL8dCuZoDjI9gOmYvSJUT3tTtWD5HnrQ8iPulbGA6SqhPTjDmTT9dBRXAlyF5hVFjKZR3VhUBZPyETEeyFgnS7VVFAMDPAlxObDSASV3L3ANELG/Tvn37tgA+DAkbRqc4ZneuGg0QQp8XeJkOUtZdS6dutFeFBvT1BfhXAG9DqMzoV5nLqtAAYfNVsJZCQqHThE9uS9pEIO81oEtgcL4mrOAXXuUT9uY6rwlI4FzJf4AGdGNijtFoYJCT89e0TcprAtj+O6B80do+dWnhS04P5r+DGOQtAf4GNSL5w9ZsRIL859atW78TcJvMR7Bt5EvJ5e5LgP8EPLrf1E8U/a/qx3Hf4KbwTibOvCIgmwf8e4A/grQNcJUAHmfXfetBPzryhsCuXbt0K/4xYBsoEyngIqG/NB9yYz3NdKwWHvo+0NjYGORm5F0AvU32kx3Ay1l1YJsE/EczgReJh6aB1E+MgwB9ExzrKAU802z0J+gIP/muCOhMKeca4I9PSP/a+OqrANBG7LsWMAc52z9KO2GB06czDl3mdu03bggPX7hwoXcm4LY/ZxrgD6ds+RgLPQ4mATV2nSotcF0iWKmrLsCfESpPzPdmPGcEcMrrSLsKQIUpAjKRacB5ZglEefY5YfKLc+fOxeifd8qZCSHpBwoHoOZOh7ge450faX8P2ubOzs7780ad8WIuCbwPuGOArGS9IQDfpeyifZ3+n7nO/Gmh0s7Ana7+B+Qp2nJi6lQSAAAAAElFTkSuQmCC";return c.createElement("img",{role:"alert","aria-live":"assertive",tabIndex:-1,alt:a,src:i,style:{width:n,height:r},className:"ProgressSpinner-module__spinner___jUvZR"})};const ce=(0,c.forwardRef)(((e,t)=>c.createElement(l.k,{as:"button","aria-label":e.accessibilityLabel,buttonType:void 0!==e.buttonType&&null!==e.buttonType?e.buttonType:u.L$.Primary,className:s()("ButtonWithSpinner-module__desktopSpinnerButton___MXz1p",e.className),ref:t,title:e.accessibilityLabel,style:{height:(0,Y.wU)(e.height),width:e.sizingText?"":(0,Y.wU)(e.width)}},e.sizingText&&c.createElement("div",{"aria-hidden":!0,className:"ButtonWithSpinner-module__hiddenSizingText___jdGu3"},e.sizingText),c.createElement(se,{width:(0,Y.wU)(e.height/2),height:(0,Y.wU)(e.width/2)})))),le=(0,c.forwardRef)(((e,t)=>c.createElement(l.k,{as:"button","aria-label":e.accessibilityLabel,buttonType:void 0!==e.buttonType&&null!==e.buttonType?e.buttonType:u.L$.Primary,className:"ButtonWithSpinner-module__mobileSpinnerButton___iuTvL",ref:t,title:e.accessibilityLabel},c.createElement(se,{width:(0,Y.wU)(1),height:(0,Y.wU)(1)}))));var ue=n(47739),de=n.n(ue);n(31235),n(9e4),n(64925),n(26464),n(18339),n(54819);const he=function(e){return c.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),c.createElement("path",{d:"M25.85 4.507a1.46 1.46 0 00-.907.436L16 13.887 7.057 4.943A1.418 1.418 0 006 4.5a1.46 1.46 0 00-1.057.443A1.46 1.46 0 004.5 6l.009.161c.036.318.18.614.417.877L13.887 16l-8.944 8.944A1.46 1.46 0 004.5 26c0 .38.148.731.426 1.038.29.307.657.462 1.074.462l.154-.007c.354-.034.666-.185.913-.447L16 18.113l8.943 8.944c.273.288.64.443 1.057.443.417 0 .784-.155 1.067-.454A1.45 1.45 0 0027.5 26l-.007-.154a1.415 1.415 0 00-.447-.913L18.113 16l8.944-8.943A1.46 1.46 0 0027.5 6c0-.417-.155-.784-.454-1.067A1.408 1.408 0 0026 4.5l-.15.007z",fillRule:"evenodd"}))};var me=n(94622),pe=n(72095),ge=n(40841),fe=n(83857),ve=n(70829),_e=n(48924),ye="Selections-module__container___uyKes",be="Selections-module__options___I24e7",Ee="Selections-module__titleContainer___92DiF";const Ce=e=>{const{filterInfo:t}=e;return t.choices.length>0&&t.choices[0]&&t.choices[0].isLabelOnly?c.createElement("ul",{className:"Selections-module__optionsWithSubtitle___uaHrP"},Te(e)):c.createElement("ul",{className:be,role:"listbox"},c.createElement(Ie,E()({},e)))},Se=e=>{const{filterInfo:t}=e,[n,r]=(0,c.useState)(!0),o=(0,v.useSelector)(g.gzb)===g.Q2A.Dark,a={fill:o?"White":"Black",fontSize:"12px",marginTop:"0.125rem"},i=c.createElement(me.Z,{"aria-hidden":!0,style:a}),l=c.createElement(pe.Z,{"aria-hidden":!0,style:a}),u=n?l:i;return c.createElement("div",{className:ye,id:t.id},c.createElement("button",{className:o?s()(Ee,"Selections-module__titleContainerDarkMode___Smcn3"):Ee,onClick:()=>r(!n),"aria-expanded":!n},c.createElement("div",{className:s()(P.gC,o?"Selections-module__titleTextDarkMode___s1JAd":"Selections-module__titleTextLightMode___oq3Yu")},t.title),u),!n&&c.createElement("ul",{className:be,role:"listbox"},c.createElement(Ie,E()({},e))))},Te=e=>{const{filterInfo:t,onChoicesClick:n,selectedChoices:r}=e,o=[];let a=[],i="",s="";if(t.choices.map(((e,l)=>{if(void 0!==e.isLabelOnly&&e.isLabelOnly){if(a.length>0&&i&&s){const e={choices:a,hasAllChoice:t.hasAllChoice,id:t.id,isMultiSelect:t.isMultiSelect,title:s,truncatedDisplayCount:t.truncatedDisplayCount,allChoiceId:t.allChoiceId};o.push(c.createElement(Se,{key:`${t.id}_${i}_${l}`,filterInfo:e,onChoicesClick:n,selectedChoices:r}))}a=[],i=e.id,s=e.title}else a.push(e)})),a.length>0){const e={choices:a,hasAllChoice:t.hasAllChoice,id:t.id,isMultiSelect:t.isMultiSelect,title:s,truncatedDisplayCount:t.truncatedDisplayCount,allChoiceId:t.allChoiceId};o.push(c.createElement(Se,{key:`${t.id}_${i}`,filterInfo:e,onChoicesClick:n,selectedChoices:r}))}return c.createElement("div",{className:ye},o)},Ie=e=>{const{filterInfo:t,onChoicesClick:n,selectedChoices:r}=e;return c.createElement(c.Fragment,null,t.choices.map(((e,o)=>{const a=(null===r||void 0===r?void 0:r.filter((t=>t.toLowerCase()===e.id.toLowerCase())).length)>0;return c.createElement("li",{key:`${t.id}_${o}`},c.createElement(we,{choice:e,choiceGroupId:t.id,isSelected:a,isMultiSelect:t.isMultiSelect,onChoicesClick:n}))})))},we=e=>{const{choiceGroupId:t,isMultiSelect:n,isSelected:r,choice:o,onChoicesClick:a}=e,i=(0,v.useSelector)(g.gzb)===g.Q2A.Dark,l={fill:i?"White":"Black",fontSize:"0.75rem"},u=c.createElement(ge.Z,{"aria-hidden":!0,style:l}),d=c.createElement(fe.Z,{"aria-hidden":!0,style:l}),h=c.createElement(ve.Z,{"aria-hidden":!0,style:l}),m=c.createElement(_e.Z,{"aria-hidden":!0,style:l}),p=n?r?m:h:r?u:d;return c.createElement("button",{className:"Selections-module__selectionContainer___m2xzM",onClick:()=>{a(t,o.id)},id:o.id,role:n?"checkbox":"option","aria-selected":r,"aria-checked":r},c.createElement("div",{className:"Selections-module__icon___IBPqb"},p),c.createElement("div",{className:s()(P.gC,"Selections-module__label___CpN0F",i?"Selections-module__textColorDarkMode___AWmYs":"Selections-module__textColorLightMode___k0w8V")},o.title))};n(48166),n(45162);var Ae=n(45208);const ke=e=>{var t;const{filterInfo:n,onChoicesClick:r,selectedChoices:o,titleFunction:a,isInitiallyCollapsed:i,isScrollable:l}=e,[u,d]=(0,c.useState)(null!==i&&void 0!==i&&i),h={fill:(0,v.useSelector)(g.gzb)===g.Q2A.Dark?"White":"Black",fontSize:"1rem"},m=c.createElement(me.Z,{"aria-hidden":!0,style:h}),p=c.createElement(pe.Z,{"aria-hidden":!0,style:h}),f=u?p:m,_=!n.isMultiSelect&&a&&(null===o||void 0===o?void 0:o.length)>=1?(0,g.WUZ)(a,null!==(t=((e,t)=>{const n=t.find((t=>t.id===e));return null===n||void 0===n?void 0:n.title})(o[0],n.choices))&&void 0!==t?t:n.choices[0].title):n.title,y=n.isMultiSelect?n.title:_;return c.createElement("div",{className:"SelectionDropdown-module__container___XzkIx",id:n.id},c.createElement("button",{className:"SelectionDropdown-module__titleContainer___YyoD0",onClick:()=>d(!u),"aria-expanded":!u},c.createElement("span",{className:s()(P.gC,"SelectionDropdown-module__titleText___PN6s9")},y),c.createElement("div",{className:"SelectionDropdown-module__filterInfoContainer___7ktfT"},n.isMultiSelect&&(null===o||void 0===o?void 0:o.length)>0&&c.createElement("span",{className:"SelectionDropdown-module__selectedLabel___49Ksx"},o.length),f)),!u&&c.createElement("div",{style:l?{maxHeight:(0,Ae.wU)(2*n.truncatedDisplayCount),overflowY:"scroll"}:void 0},c.createElement(Ce,{filterInfo:n,onChoicesClick:r,selectedChoices:o})))};var Pe="ClientSideProductFilters-module__buttonContainer___iR8hA",xe="ClientSideProductFilters-module__filter___-Cm1k",Re="ClientSideProductFilters-module__filtersTrackerButton___49MAj",Ne="ClientSideProductFilters-module__filtersTrackerText___yWu16";const Oe=e=>{const{browsePageFilterTitle:t,genreFilterTitle:n,productKindFilterTitle:r}=(0,f.y_)("browsePageFilterTitle","genreFilterTitle","productKindFilterTitle"),{children:o,className:a}=e,{activeFilterFunctions:i,initialProducts:s,setActiveFilterFunctions:l}=(0,c.useContext)(Y.jP),{filterOptions:u,filter:d,filterValueToDisplayString:h}=(0,Y.Gi)(s),{filterOptions:m,filter:p}=(0,Y.kR)(s),g=(0,x.Wp)({desktopComponent:e=>c.createElement("h3",{className:P.zO},t),mobileLandscapeComponent:De,mobilePortraitComponent:De});return c.createElement(c.Fragment,null,c.createElement("div",{className:a},!!g&&c.createElement(g,{activeFilters:i,setActiveFilters:l}),c.createElement(Me,{activeFilters:i,className:xe,displayStrings:h,filterFunction:d,filterName:r,filterOptions:u,setActiveFilters:l}),c.createElement(Me,{activeFilters:i,className:xe,filterFunction:p,filterName:n,filterOptions:m,setActiveFilters:l})),o)},Le=()=>{const{activeFilterFunctions:e,setActiveFilterFunctions:t}=(0,c.useContext)(Y.jP),{browsePageClearAllFilters:n,browsePageClearAllFiltersAccessibilityLabel:r}=(0,f.y_)("browsePageClearAllFilters","browsePageClearAllFiltersAccessibilityLabel");return Object.keys(e).length>0?c.createElement("div",{className:"ClientSideProductFilters-module__filtersTrackerContainer___7KJC-"},c.createElement("div",{className:Pe},c.createElement(l.k,{as:"button","aria-label":r,buttonType:u.L$.Tertiary,className:s()(Re,P.Km,Ne),onClick:()=>{t({})}},n)),c.createElement(Be,null)):null},Me=e=>{let{activeFilters:t,displayStrings:n,filterOptions:r,filterFunction:o,filterName:a,setActiveFilters:i,className:s}=e;const l=Object.keys(t).filter((e=>r.includes(e))).length;return c.createElement(x.Fd,{className:s,buttonTitle:a,selectedChoicesCount:l},c.createElement("ul",{className:"ClientSideProductFilters-module__options___Lm4fo"},r.map((e=>c.createElement("li",{key:e},c.createElement(we,{choiceGroupId:e,isMultiSelect:!0,isSelected:void 0!==t[e],choice:{id:e,title:n?n[e.toUpperCase()]:e},onChoicesClick:()=>{if(void 0!==t[e]){const{[e]:n}=t,r=V()(t,[e].map(de()));i(r)}else i(E()(E()({},t),{},{[e]:t=>o(t,e)}))}}))))))},De=e=>{const{browsePageFilterTitle:t,browsePageClearAllFilters:n,browsePageClearAllFiltersAccessibilityLabel:r}=(0,f.y_)("browsePageFilterTitle","browsePageClearAllFilters","browsePageClearAllFiltersAccessibilityLabel"),o=Object.keys(e.activeFilters).length,a=(0,f.UD)("browsePageFilterMobileTitleFunction",{Filters:o});return o>0?c.createElement("div",{className:"ClientSideProductFilters-module__mobileFilterTitleContainer___fKpug"},c.createElement("h3",{className:P.zO},a),c.createElement(l.k,{as:"button","aria-label":r,buttonType:u.L$.Tertiary,className:s()(Re,P.Km,Ne),onClick:()=>e.setActiveFilters({})},n)):c.createElement("h3",{className:P.zO},t)},Ue=e=>c.createElement("div",{className:Pe},c.createElement(l.k,{as:"button","aria-label":e.filterName,buttonType:u.L$.Tertiary,className:s()(Re,P.Km,Ne),onClick:()=>{const t=e.activeFilters,n=e.filterId,{[n]:r}=t,o=V()(t,[n].map(de()));e.setActiveFilters(o)}},c.createElement(he,{"aria-hidden":!0}),c.createElement("span",{className:"ClientSideProductFilters-module__filtersTrackerButtonText___71mUj"},e.filterName))),Be=()=>{const{activeFilterFunctions:e,setActiveFilterFunctions:t}=(0,c.useContext)(Y.jP),n=(0,Y.g6)();return c.createElement(c.Fragment,null,Object.keys(e).map((r=>{var o;const a=null!==(o=null===n||void 0===n?void 0:n[r.toUpperCase()])&&void 0!==o?o:r;return c.createElement(Ue,{key:r,activeFilters:e,filterId:r,filterName:a,setActiveFilters:t})})))};const Fe=e=>{let{children:t,className:n}=e;const{activeSortFunction:r,setActiveSortFunction:o}=(0,c.useContext)(Y.wT),{sortTitleAscendingText:a,sortTitleDescendingText:i}=(0,f.y_)("sortTitleAscendingText","sortTitleDescendingText"),s=(0,f.iV)("browsePageSortByXFunction"),l={[Y.U8.AlphabeticalAscending]:a,[Y.U8.AlphabeticalDescending]:i};return c.createElement(c.Fragment,null,c.createElement(x.Fd,{className:n,buttonTitle:(0,g.WUZ)(s,l[r])},c.createElement("ul",{className:"ClientSideProductSort-module__options___UysWw"},c.createElement("li",null,c.createElement(we,{choiceGroupId:Y.U8.AlphabeticalAscending,isMultiSelect:!1,isSelected:r===Y.U8.AlphabeticalAscending,choice:{id:Y.U8.AlphabeticalAscending,title:a},onChoicesClick:o})),c.createElement("li",null,c.createElement(we,{choiceGroupId:Y.U8.AlphabeticalDescending,isMultiSelect:!1,isSelected:r===Y.U8.AlphabeticalDescending,choice:{id:Y.U8.AlphabeticalDescending,title:i},onChoicesClick:o})))),t)};const He=e=>{const{showModal:t,setShowModal:n}=e,r=(0,f.UD)("applyButtonText");return t?c.createElement(x.u_,{show:t,fullscreenOnMobile:!0},c.createElement(x.u_.Body,{className:"ClientSideSortAndFiltersModal-module__modal___I6M6W"},c.createElement("div",{className:"ClientSideSortAndFiltersModal-module__inputContainer___W+VVc"},c.createElement(Fe,null),c.createElement(Oe,null)),c.createElement(l.k,{as:"button",className:"ClientSideSortAndFiltersModal-module__applyButton___LzOHc",onClick:()=>n(!1)},r))):null};const qe=e=>{const{className:t,errorCode:n,errorMessage:r,userRequestMessage:o,primaryButtonAction:a,primaryButtonText:i,secondaryButtonAction:s,secondaryButtonText:d}=e,h=(0,f.iV)("errorCodeTemplate");return c.createElement("div",{className:t},c.createElement("h6",{className:P.uo},r),c.createElement("div",{className:P.Km},o),n&&c.createElement("div",{className:P.Km},(0,g.WUZ)(h,n)),c.createElement("div",{className:"ErrorMessage-module__buttonRow___IeLfN"},a&&i&&c.createElement(l.k,{as:"button",buttonType:u.L$.Primary,onClick:a},i),s&&d&&c.createElement(l.k,{as:"button",buttonType:u.L$.Primary,onClick:s},d)))},Ge=n.p+"static/media/errorComponent.df11267e.png";var ze="ErrorWithImage-module__text___68A4A";const $e=e=>{const{cV:t,errorHeading:n,errorDescription:r,imageAltText:o,imageSrc:a}=e,[i,s,l,u]=(0,f.QF)("errorCodeTemplate","errorComponentDefaultHeading","errorComponentDefaultDescription","errorComponentImageAltText");return c.createElement("div",{className:"ErrorWithImage-module__container___1h0z9"},c.createElement("img",{className:"ErrorWithImage-module__image___zS19V",src:null!==a&&void 0!==a?a:Ge,alt:null!==o&&void 0!==o?o:u}),c.createElement("div",{className:"ErrorWithImage-module__textSection___y+nQ0","aria-live":"polite"},c.createElement("h4",{className:"ErrorWithImage-module__errorHeading___xEheO"},null!==n&&void 0!==n?n:s),c.createElement("div",{className:ze},null!==r&&void 0!==r?r:l),t&&c.createElement("div",{className:ze},(0,g.WUZ)(i,t))))};const Xe=e=>{const[t,n]=(0,c.useState)(!1),[r,o]=(0,c.useState)(!1),a=(0,c.useRef)(null),i=(0,Y.bN)()?{left:"0.5rem"}:{right:"0.5rem"},l=e.gradientColorOverride?{background:`linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, ${e.gradientColorOverride} 100%)`}:void 0;return(0,c.useEffect)((()=>{var e,t;const r=(null===(e=null===a||void 0===a?void 0:a.current)||void 0===e?void 0:e.clientHeight)||0,i=((null===(t=null===a||void 0===a?void 0:a.current)||void 0===t?void 0:t.scrollHeight)||0)>r;n(i),o(i)}),[]),c.createElement("div",{className:s()(["FadingScrollContainer-module__container___6roxZ",e.className]),"aria-label":e.ariaLabel},c.createElement(W.GamepadScrollable,{tabIndex:e.focusable&&t?0:void 0,ref:a,scrollAlignment:"align-to-center",className:s()(["FadingScrollContainer-module__scrollContainer___r0WyB",i,e.focusable&&"FadingScrollContainer-module__focusable___LfO9P"]),onScroll:()=>{a.current&&(a.current.scrollHeight-a.current.scrollTop<=a.current.clientHeight+10?o(!1):o(!0))}},e.children),r&&c.createElement("div",{className:"FadingScrollContainer-module__fade___hd7V5",style:l}))};var Ve=n(90592),We="Tooltip-module__tooltip___viGTe",je="Tooltip-module__tooltipContent___JJErM",Ke="FranceCollectionDisclaimer-module__displayInline___-p-t1";const Ze=()=>{const e=(0,v.useSelector)(g.yWe);if((0,g.Ypc)(e.market,"FR")){const e="Voir {0} pour plus d'informations sur les crit\xe8res de classement.",t=c.createElement("a",{href:"https://www.microsoft.com/fr-fr/store/b/imprint",target:"_blank",rel:"noreferrer"},"mentions l\xe9gales et informations consommateurs");return(0,g.vvg)(e,t)}return null},Ye=e=>{const t=Ze(),[n,r]=(0,c.useState)(!1);return t?c.createElement(c.Fragment,null,c.createElement(l.k,{as:"button",buttonType:u.L$.Tertiary,role:"button","aria-label":"Ic\xf4ne d'informations",className:s()(Ke,"FranceCollectionDisclaimer-module__iconButton___yNMeR",e.foregroundStyle?"FranceCollectionDisclaimer-module__buttonWithoutFocusBackground___OHrpT":null),"data-tip":!0,onClick:()=>r(!0),style:e.foregroundStyle},c.createElement(d.JO,{icon:Ve.Z,iconSize:d.Jh.Small})),c.createElement(x.u_,{show:n,onCloseBtnClick:()=>r(!1),closeable:!0},c.createElement(x.u_.Body,null,c.createElement("div",{className:"FranceCollectionDisclaimer-module__contentMargin___TerUh"},t)))):null},Qe=()=>{const e=Ze();return e?c.createElement("div",{"aria-label":"Ic\xf4ne d'informations",className:s()(Ke,We,"Tooltip-module__tooltipArrowLeftPositionAdjustments___OPFdG"),"data-tip":!0,tabIndex:0,role:"button","aria-describedby":"tooltip-content"},c.createElement(d.JO,{icon:Ve.Z,iconSize:d.Jh.Small}),c.createElement("div",{role:"tooltip",id:"tooltip-content",className:s()(je,"Tooltip-module__tooltipContentPositionAdjustments___eLdI+")},e)):null};n(13489);var Je=n(61248),et=n(12646),tt=n(38185),nt=n(89172),rt="ItemsSlider-module__arrowButton___ZH7Ek",ot="ItemsSlider-module__arrowButtonIconStyle___2JcCu",at="ItemsSlider-module__disabledArrowButton___VZ+e1";const it=(e,t,n)=>c.createElement("li",{role:"none",onKeyDown:e=>((e,t,n)=>{var r;let o=-1;switch(e.key){case"ArrowLeft":o=t-1;break;case"ArrowRight":o=t+1}n[o]&&(null===(r=(0,Y.OT)(n[o])[0])||void 0===r||r.focus())})(e,t,n),key:t,ref:e=>{n[t]=e}},c.createElement("span",{key:`ItemSliderItem-${t}-${e.key}`,className:"ItemsSlider-module__itemMargin___s21Pp","data-testID":`ItemSliderItem-${t}-${e.key}`},e)),st=e=>{var t;const{previousMediaButtonAccessibilityLabel:n,nextMediaButtonAccessibilityLabel:r,pdpChannelShowAllLabel:o}=(0,f.y_)("previousMediaButtonAccessibilityLabel","nextMediaButtonAccessibilityLabel","pdpChannelShowAllLabel"),{items:a,title:i,showAllUrl:l}=e,u=(0,c.useRef)(null),d=(0,c.useRef)([]),h=(0,c.useRef)(null),[m,p]=(0,c.useState)(0),[g,v]=(0,c.useState)({previousButtonVisible:!1,nextButtonVisible:!1}),_=(0,Y.bN)(),y=(0,c.useRef)({minWidth:"min(100%, 1920px)"}),b=e=>{if(u.current){const t=e*a.length-u.current.offsetWidth,n=h.current;n&&(n.scrollLeft=0),v({previousButtonVisible:!1,nextButtonVisible:t>0})}};if((0,c.useEffect)((()=>{const e=h.current;e&&!e.onscroll&&m>0&&(e.onscroll=()=>{const t=Math.min(e.clientWidth-parseFloat(getComputedStyle(e).fontSize),1920)-m;(_?e.scrollLeft>=0:e.scrollLeft<=0)?v({previousButtonVisible:!1,nextButtonVisible:!0}):e.scrollWidth-Math.ceil(Math.abs(e.scrollLeft))-t<=e.offsetWidth?v({previousButtonVisible:!0,nextButtonVisible:!1}):v({previousButtonVisible:!0,nextButtonVisible:!0})})}),[h,m]),(0,c.useEffect)((()=>{m>0&&b(m)}),[m,a.length]),(0,c.useEffect)((()=>{y.current={minWidth:`calc(min(100%, 1920px) - ${m}px)`}}),[m]),(0,c.useEffect)((()=>{var e;if(d[0]){const t=null===(e=d[0])||void 0===e?void 0:e.offsetWidth;return p(t),window.addEventListener("resize",(()=>b(t))),()=>window.removeEventListener("resize",(()=>b(t)))}return()=>{}}),[d[0],null===(t=d[0])||void 0===t?void 0:t.offsetWidth]),0===a.length)return null;const C=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=h.current;if(n&&u.current){const r=t?1:Math.floor(u.current.offsetWidth/m),o=e?1:-1;let a=n.scrollLeft+o*r*m;if(e){let e=a/m;e=_?Math.floor(e):Math.ceil(e),a=e*m}else a-=a%m;if(Math.abs(a)+n.clientWidth>n.scrollWidth){const e=n.scrollWidth-n.clientWidth;a=o*(e-e%m)}n.scrollLeft=a}},T=()=>{if(h.current){const e=h.current.getBoundingClientRect(),t=(0,Y.OT)(h.current).find((t=>{const n=t.getBoundingClientRect();return n.left>e.left&&n.right<e.right}));null===t||void 0===t||t.focus()}},I=g.previousButtonVisible||g.nextButtonVisible,w={areaName:i?`${i}-ItemSlider`:"Unknown-ItemSlider",contentType:S.zc.Button};return c.createElement("div",{ref:u},c.createElement("section",{"aria-label":i},I&&c.createElement(x.lg,{className:"ItemsSlider-module__itemsSliderButtonRow___dyi64"},c.createElement(x.Lk,{className:"ItemsSlider-module__buttonsWrapper___PiS68"},l&&c.createElement("a",{href:l,className:s()("ItemsSlider-module__showAllLink___l+XAi"),"aria-label":o},o),c.createElement(Je.$,E()({as:"button","aria-label":n,className:s()([rt,"ItemsSlider-module__arrowBackButton___YmEyz",g.previousButtonVisible?nt.KZ:at]),disabled:!g.previousButtonVisible,icon:_?et.Z:tt.Z,iconClassName:s()(ot,nt.OU),onClick:()=>{C(!1!==_),T()},title:n},(0,S.iZ)(E()(E()({},w),{},{id:"scrollBackButton",contentName:n,slotNumber:0})))),c.createElement(Je.$,E()({as:"button","aria-label":r,className:s()([rt,g.nextButtonVisible?nt.KZ:at]),disabled:!g.nextButtonVisible,icon:_?tt.Z:et.Z,iconClassName:s()(ot,nt.OU),onClick:()=>{C(!0!==_),T()},title:r},(0,S.iZ)(E()(E()({},w),{},{id:"scrollForwardButton",contentName:r,slotNumber:1})))))),c.createElement(x.lg,null,c.createElement("ol",{className:"ItemsSlider-module__wrapper___nAi6y",ref:h,onFocusCapture:e=>{if(void 0!==typeof document&&e&&e.target&&1.5*m<document.documentElement.clientWidth){const t=e.target.getBoundingClientRect();t.right>window.innerWidth||t.right>document.documentElement.clientWidth?C(!0,!0):t.left<0&&C(!1,!0)}},role:"none"},a.map(((e,t)=>it(e,t,d))),c.createElement("li",{"aria-hidden":!0,style:y.current})))))};var ct=n(21883),lt="FadeContainers-module__widthInherit___5fuOa";const ut=e=>c.createElement("div",{className:s()("FadeContainers-module__fadeIn___5xlsD",lt),onAnimationEnd:e.onAnimationEnd},e.children),dt=e=>c.createElement("div",{className:s()("FadeContainers-module__fadeOut___35iB7",lt),onAnimationEnd:e.onAnimationEnd},e.children);const ht=e=>{const{lceState:t,isNotRequested:n,isFetching:r,content:o,error:a,defaultRender:i}=e,[s,l]=(0,c.useState)(t),[u,d]=(0,c.useState)(t),[h,m]=(0,c.useState)(void 0),[p,g]=(0,c.useState)(!1),[f,v]=(0,c.useState)(!1),_=(0,c.useRef)((0,ct.lceSelect)(u||(0,ct.lceNotRequested)(),{default:i,content:o,error:a,isFetching:r,isNotRequested:n})||null);return(0,c.useEffect)((()=>{p||f?m(t):t&&t.type!==(null===s||void 0===s?void 0:s.type)&&(d(t),g(!0))}),[t]),(0,c.useEffect)((()=>{if(f){const e=(0,ct.lceSelect)(u||(0,ct.lceNotRequested)(),{default:i,content:o,error:a,isFetching:r,isNotRequested:n})||null;_.current=e,g(!1)}else h&&h.type!==(null===s||void 0===s?void 0:s.type)&&(d(h),m(void 0),g(!0))}),[f]),p?c.createElement(dt,{onAnimationEnd:()=>v(!0)},_.current):c.createElement(ut,{onAnimationEnd:()=>{l(u),d(void 0),v(!1)}},a?c.createElement(x.SV,{renderError:e=>{const t=(0,ct.lceError)(e,u);return a(t)}},(()=>_.current)):_.current)},mt=e=>(0,x.EX)()>=x.JD.SM?e.children[0]:e.children[1],pt=x.lg,gt=x.Lk;mt.Desktop=pt,mt.Mobile=gt;const ft=e=>{let{items:t,title:n}=e;return c.createElement(mt,null,c.createElement(mt.Desktop,null,c.createElement(x.Lk,{xs:12},c.createElement(x.Lk,null,!!n&&c.createElement("h2",{className:s()("SizeAdaptiveItemSliderChannel-module__channelTitleText___SexCs",P.hO)},n)),c.createElement(st,{items:t,title:n}))),c.createElement(mt.Mobile,{className:"SizeAdaptiveItemSliderChannel-module__mobileContainer___IhbnZ"},!!n&&c.createElement("h2",{className:P.hO},n),c.createElement("ul",{className:"SizeAdaptiveItemSliderChannel-module__listItemStyle___sQYJb"},t.map((e=>c.createElement("li",{key:`${n}-${e.key}`},e))))))};var vt=n(84493),_t=n(8605);const yt=e=>c.createElement("div",{className:s()("Tabs-module__tab___CxLhH",e.className)},e.children),bt=e=>{const{children:t,className:n,onSelectedIndexChanged:r,initialTabIndex:o=0}=e,[a,i]=(0,c.useState)(o),l=(0,c.useRef)(null),u=c.Children.map(t,(e=>({title:e.props.title,ariaLabel:e.props.ariaLabel,disabled:e.props.disabled}))),{startTransition:d,renderContainer:h}=function(e,t){const[n,r]=(0,c.useState)(e),[o,a]=(0,c.useState)(void 0),[i,s]=(0,c.useState)(!1),[l,u]=(0,c.useState)(!1);return(0,c.useEffect)((()=>{l?(t(void 0!==n?n:e),s(!1)):void 0!==o&&o!==e&&(r(o),a(void 0),s(!0))}),[l]),{startTransition:t=>{i||l?a(t):t!==e&&(r(t),s(!0))},renderContainer:e=>i?c.createElement(dt,{onAnimationEnd:()=>u(!0)},e):c.createElement(ut,{onAnimationEnd:()=>{r(void 0),u(!1)}},e)}}(a,i);(0,c.useEffect)((()=>{null===r||void 0===r||r(a)}),[a,r]);return c.createElement("div",{className:s()("Tabs-module__tabContainer___Z2g7+",n)},c.createElement(Y.fV.Provider,{value:{focusNearestChild:()=>{var e;null===(e=l.current)||void 0===e||e.focusCurrentTab()}}},c.createElement(Et,{ref:l,tabs:u,selectedIndex:a,initialTabIndex:o,setSelectedIndex:d}),h(t[a])))},Et=(0,c.forwardRef)(((e,t)=>{const[n,r]=(0,c.useState)(!1),[o,a]=(0,c.useState)(e.selectedIndex),[i,h]=(0,c.useState)(void 0),m=e.tabs.length,p=(0,c.useRef)(Ct(null,0)),g=(0,c.useRef)(null),f=(0,c.useRef)([]),v=(0,M.b)(),_=(0,S.Lo)();(0,c.useImperativeHandle)(t,(()=>({focusCurrentTab:()=>{var e;null===(e=f[o])||void 0===e||e.focus()}}))),(0,W.useLeftBumperHandler)("press",(()=>{const t=v?1:-1,n=(0,Y.Is)(e.selectedIndex+t,m);return e.setSelectedIndex(n),p.current=Ct(g.current,n),!0})),(0,W.useRightBumperHandler)("press",(()=>{const t=v?-1:1,n=(0,Y.Is)(e.selectedIndex+t,m);return e.setSelectedIndex(n),p.current=Ct(g.current,n),!0}));const y=()=>r(!0),b=()=>r(!1);(0,c.useEffect)((()=>{p.current=Ct(g.current,e.initialTabIndex,!0),window.addEventListener("gamepadconnected",y),window.addEventListener("gamepaddisconnected",b);let t=navigator.getGamepads();return"object"===typeof t&&(t=Object.values(t)),r(t.filter((e=>!!e)).length>0),()=>{window.removeEventListener("gamepadconnected",y),window.removeEventListener("gamepaddisconnected",b)}}),[]),(0,c.useEffect)((()=>{const t=Ct(g.current,e.selectedIndex);p.current=t,h(t)}),[e.tabs]);return c.createElement("div",{className:"Tabs-module__tabBar___nxTqT"},n&&c.createElement(d.JO,{iconSize:d.Jh.XXSmall,icon:v?vt.Z:_t.Z}),c.createElement("div",{className:"Tabs-module__tabContainerMobile___APqvI"},c.createElement("ul",{className:"Tabs-module__tabTitles___3UtkN",ref:g,role:"tablist"},e.tabs.map(((t,n)=>{var r;const i=(0,S._d)({areaName:"TabContainer",behavior:S.cg.TAB,contentName:t.title,contentType:S.zc.Button,id:`TabButton-${n}`,slotNumber:n},_);return c.createElement("li",{key:n,role:"none",className:"Tabs-module__tabElement___5HQXQ"},c.createElement(l.k,E()(E()({as:"button",ref:e=>{f[n]=e},buttonType:u.L$.Tertiary,className:s()("Tabs-module__tabButton___wRKYV",nt.KZ,n===e.selectedIndex?"Tabs-module__activeTab___9tyPD":"Tabs-module__inactiveTab___6fFsw"),onClick:()=>{e.setSelectedIndex(n),a(n),p.current=Ct(g.current,n)},role:"tab","aria-label":null!==(r=t.ariaLabel)&&void 0!==r?r:t.title,"aria-selected":n===o||n===e.selectedIndex,onKeyDown:e=>((e,t)=>{var n,r;const o=v?-1:1;"ArrowLeft"===e.key?null===(n=f[t-1*o])||void 0===n||n.focus():"ArrowRight"===e.key&&(null===(r=f[t+1*o])||void 0===r||r.focus())})(e,n)},(0,S.iZ)(i)),{},{disabled:t.disabled}),t.title))}))),c.createElement("div",{className:"Tabs-module__tabUnderline___35yYF","aria-hidden":!0,style:E()(E()({},p.current),{},{opacity:g.current?"1":"0"})})),n&&c.createElement(d.JO,{iconSize:d.Jh.XXSmall,icon:v?_t.Z:vt.Z}))})),Ct=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r,o;if(!e||e.children.length<t)return{marginInlineStart:"0"};let a=0;for(let c=0;c<=t;c++)a+=(null===(r=e.children.item(c))||void 0===r?void 0:r.clientWidth)||0;const i=a-((null===(o=e.children.item(t))||void 0===o?void 0:o.clientWidth)||0)/2,s=2*t-1;return{marginInlineStart:`calc(${i}px + ${s}rem)`,transition:""+(n?"opacity 0.5s":"margin-inline-start 0.5s")}};var St="SubscriptionCard-module__actionButton___wHZou",Tt="SubscriptionCard-module__actionButtonContainer___ZKI0P",It="SubscriptionCard-module__headerImage___HWoqU";const wt=e=>{const{children:t}=e;return c.createElement("div",{className:"SubscriptionCard-module__subscriptionCard___CeIiz"},t)},At=e=>{let{children:t}=e;return c.createElement(Xe,{className:"SubscriptionCard-module__featureScrollContainer___hBIna"},c.createElement("ul",{className:"SubscriptionCard-module__featureBody___h3CwX"},t))},kt=e=>{let{icon:t,title:n,textToShow:r}=e;return c.createElement("li",{className:"SubscriptionCard-module__checkmarkRow___fZ-nE"},c.createElement(d.JO,{iconSize:t?d.Jh.XSmall:d.Jh.XXSmall,icon:null!==t&&void 0!==t?t:$.Z,title:n}),c.createElement("span",{className:P.S7},r))};var Pt=n(78181);const xt=e=>{let{children:t,productId:n}=e;const r=(0,v.useSelector)((e=>(0,ct.getDataOrPrevious)((0,Pt.tR)(e,n)))),o=null===r||void 0===r?void 0:r.isOwned;return c.createElement("div",{className:s()("SubscriptionCard-module__header___MLoAq","SubscriptionCard-module__headerBasic___S0-IU","theme-dark")},t,!o&&c.createElement(Nt,{productId:n}))},Rt=e=>{let{title:t}=e;return c.createElement("h3",{className:s()(P.a2,"SubscriptionCard-module__cardTitle___UxQCZ")},t)},Nt=e=>{let{productId:t}=e;const n=(0,v.useSelector)((e=>(0,Pt.Ie)(e,t)));return n&&(0,G.lU)(n)?c.createElement(G.HR,{hasAddOns:!1,productInfo:n,productPrice:n.availability.price,recurrencePolicySummary:n.sku.recurrencePolicySummary,isPass:!0,className:s()(P.hO,"SubscriptionCard-module__pricingSection___st2ON"),discountDetailClassName:"SubscriptionCard-module__discountDetail___2ePkg"}):null},Ot=e=>{let{isOwned:t,productId:n,productName:r,slotNumber:o}=e;const[a,i,u]=(0,f.QF)("joinNowText","joinNowButtonAccessibilityLabelFormat","youOwnThisText"),d=t?void 0:()=>{window.scrollTo({top:0,behavior:"smooth"})},h=t?u:a,m=t?u:(0,g.WUZ)(i,r),p={areaName:"SubscriptionCard",behavior:S.cg.OTHER,contentType:S.zc.Button,id:t?"youOwnThisDisabledAction":"joinNowAction",productId:n,productName:r,slotNumber:o};return c.createElement(l.k,E()({"aria-label":m,disabled:!!t,as:"button",className:s()(nt.KZ,St),onClick:d},(0,S.iZ)(E()(E()({},p),{},{contentName:h}))),h)},Lt=e=>{let{isOwned:t,pageProductId:n,productId:r,productName:o,slotNumber:a}=e;const[i,u,d,h]=(0,f.QF)("joinNowText","joinNowButtonAccessibilityLabelFormat","viewDetailsActionText","viewDetailsActionAccessibilityText"),m=(0,T.GP)(r,n),p=t?d:i,v=t?(0,g.WUZ)(h,o):(0,g.WUZ)(u,o),_={areaName:"SubscriptionCard",behavior:S.cg.NAVIGATIONFORWARD,contentType:S.zc.Link,id:t?"viewDetailsAction":"joinNowAction",productId:r,productName:o,slotNumber:a};return c.createElement(l.k,E()({"aria-label":v,as:"a",className:s()(nt.KZ,St),href:m},(0,S.iZ)(E()(E()({},_),{},{contentName:p}))),p)},Mt=e=>{const[t,n]=(0,f.QF)("notAvailableLabel","notAvailableTemplate"),r=(0,g.WUZ)(n,e.productName);return c.createElement("div",{className:Tt},c.createElement(l.k,{"aria-label":r,as:"button",className:s()(nt.KZ,St),disabled:!0},t.toLocaleUpperCase()))},Dt=e=>{const{productId:t}=e,n=(0,v.useSelector)((e=>(0,ct.getDataOrPrevious)((0,Pt.tR)(e,t)))),r=(0,g._yM)(g.Hw9.ProductId,""),o=(0,g.Ypc)(t,r),a=null===n||void 0===n?void 0:n.isOwned;return e.disabled?c.createElement(Mt,{productName:e.productName}):c.createElement("div",{className:Tt},o?c.createElement(Ot,E()(E()({},e),{},{isOwned:a})):c.createElement(Lt,E()(E()({},e),{},{pageProductId:r,isOwned:a})))},Ut=e=>{let{productId:t,slotNumber:n}=e;const{eaPlayBenefitsRewards:r,eaPlayBenefitsTrials:o,eaPlayBenefitsTitles:a,eaPlayBenefitsDiscounts:i}=(0,f.y_)("eaPlayBenefitsRewards","eaPlayBenefitsTrials","eaPlayBenefitsTitles","eaPlayBenefitsDiscounts");return c.createElement(wt,null,c.createElement(xt,{productId:t},c.createElement(d.JO,{iconSize:d.Jh.Custom,icon:z.Z,title:G.YV,className:s()(It,"SubscriptionCard-module__eaPlayLogo___kHvC3")})),c.createElement(At,null,c.createElement(kt,{textToShow:r}),c.createElement(kt,{textToShow:o}),c.createElement(kt,{textToShow:a}),c.createElement(kt,{textToShow:i})),c.createElement(Dt,{productId:t,slotNumber:n,productName:G.YV}))},Bt=e=>{let{productId:t,slotNumber:n}=e;const{gamePassConsoleHighQualityGameText:r,gamePassPlayOnDayOneText:o,gamePassMemberDealsAndDiscountsText:a}=(0,f.y_)("gamePassConsoleHighQualityGameText","gamePassPlayOnDayOneText","gamePassMemberDealsAndDiscountsText"),i=(0,f.UD)("gamePassSubscriptionText",[G.Z1,G.$p]),s=(0,f.UD)("gamePassSubscriptionText",[G.IC,G.$p]);return c.createElement(wt,null,c.createElement(xt,{productId:t},c.createElement(Rt,{title:i})),c.createElement(At,null,c.createElement(kt,{textToShow:r}),c.createElement(kt,{textToShow:o}),c.createElement(kt,{textToShow:a})),c.createElement(Dt,{productId:t,slotNumber:n,productName:s,disabled:!0}))};var Ft=n(94988);const Ht=e=>{let{productId:t,slotNumber:n}=e;const{gamePassUltimateHighQualityGameText:r,gamePassPlayOnDayOneText:o,gamePassMultiplayer:a,gamePassMemberDealsDiscountsAndPerksText:i,eaPlayMembership:s}=(0,f.y_)("gamePassUltimateHighQualityGameText","gamePassPlayOnDayOneText","gamePassMultiplayer","gamePassMemberDealsDiscountsAndPerksText","eaPlayMembership");return c.createElement(wt,null,c.createElement(xt,{productId:t},c.createElement(Rt,{title:G.OL})),c.createElement(At,null,c.createElement(kt,{textToShow:r}),c.createElement(kt,{textToShow:o}),c.createElement(kt,{textToShow:i}),c.createElement(kt,{textToShow:a}),c.createElement(kt,{textToShow:s,icon:Ft.Z,title:G.YV})),c.createElement(Dt,{productId:t,slotNumber:n,productName:G.rt}))},qt=e=>{let{productId:t,slotNumber:n}=e;const{gamePassPCHighQualityGameText:r,gamePassPlayOnDayOneText:o,gamePassMemberDealsAndDiscountsText:a,eaPlayMembership:i}=(0,f.y_)("gamePassPCHighQualityGameText","gamePassPlayOnDayOneText","gamePassMemberDealsAndDiscountsText","eaPlayMembership");return c.createElement(wt,null,c.createElement(xt,{productId:t},c.createElement(Rt,{title:G.zt})),c.createElement(At,null,c.createElement(kt,{textToShow:r}),c.createElement(kt,{textToShow:o}),c.createElement(kt,{textToShow:a}),c.createElement(kt,{textToShow:i,icon:Ft.Z,title:G.YV})),c.createElement(Dt,{productId:t,slotNumber:n,productName:G.zt}))},Gt=e=>{let{productId:t,slotNumber:n}=e;const{ubisoftPlusBenefitsGames:r,ubisoftPlusBenefitsPCAccess:o,ubisoftPlusBenefitsDayOneReleases:a,ubisoftPlusBenefitsEditions:i,ubisoftPlusBenefitsRewards:l,ubisoftPlusBenefitsDiscount:u}=(0,f.y_)("ubisoftPlusBenefitsGames","ubisoftPlusBenefitsPCAccess","ubisoftPlusBenefitsDayOneReleases","ubisoftPlusBenefitsEditions","ubisoftPlusBenefitsRewards","ubisoftPlusBenefitsDiscount");return c.createElement(wt,null,c.createElement(xt,{productId:t},c.createElement(d.JO,{iconSize:d.Jh.Custom,icon:G.V$,title:G.lD,className:s()(It,"SubscriptionCard-module__ubisoftPlusLogo___J0jO+")})),c.createElement(At,null,c.createElement(kt,{textToShow:r}),c.createElement(kt,{textToShow:o}),c.createElement(kt,{textToShow:a}),c.createElement(kt,{textToShow:i}),c.createElement(kt,{textToShow:l}),c.createElement(kt,{textToShow:u})),c.createElement(Dt,{productId:t,slotNumber:n,productName:G.lD}))},zt=e=>{let{productId:t,slotNumber:n}=e;const{ultimateFamilyShareBenefit:r,ultimateFamilyIncludeBenefit:o,ultimateFamilyOwnAccountBenefit:a,ultimateFamilyOwnHistoryBenefit:i,ultimateFamilyPlayBenefit:s,ultimateFamilyEnjoyBenefit:l}=(0,f.y_)("ultimateFamilyShareBenefit","ultimateFamilyIncludeBenefit","ultimateFamilyOwnAccountBenefit","ultimateFamilyOwnHistoryBenefit","ultimateFamilyPlayBenefit","ultimateFamilyEnjoyBenefit");return c.createElement(wt,null,c.createElement(xt,{productId:t},c.createElement(Rt,{title:G.a1})),c.createElement(At,null,c.createElement(kt,{textToShow:r}),c.createElement(kt,{textToShow:o}),c.createElement(kt,{textToShow:a}),c.createElement(kt,{textToShow:i}),c.createElement(kt,{textToShow:s}),c.createElement(kt,{textToShow:l})),c.createElement(Dt,{productId:t,slotNumber:n,productName:G.a1}))},$t=e=>{let{productId:t,slotNumber:n}=e;const{gamePassCoreHighQualityGameText:r,gamePassCoreSelectCatalogHighQualityGameText:o,gamePassMultiplayer:a,gamePassMemberDealsAndDiscountsText:i}=(0,f.y_)("gamePassCoreHighQualityGameText","gamePassCoreSelectCatalogHighQualityGameText","gamePassMultiplayer","gamePassMemberDealsAndDiscountsText"),s=(0,v.useSelector)(g.yWe);return c.createElement(wt,null,c.createElement(xt,{productId:t},c.createElement(Rt,{title:G.l2})),c.createElement(At,null,c.createElement(kt,{textToShow:a}),c.createElement(kt,{textToShow:"JP"===s.market.toUpperCase()?o:r}),c.createElement(kt,{textToShow:i})),c.createElement(Dt,{productId:t,slotNumber:n,productName:G.CU}))},Xt=e=>{let{productId:t,slotNumber:n}=e;const{gamePassConsoleHighQualityGameText:r,gamePassMultiplayer:o,gamePassMemberDealsAndDiscountsText:a}=(0,f.y_)("gamePassConsoleHighQualityGameText","gamePassMultiplayer","gamePassMemberDealsAndDiscountsText");return c.createElement(wt,null,c.createElement(xt,{productId:t},c.createElement(Rt,{title:G.Vf})),c.createElement(At,null,c.createElement(kt,{textToShow:r}),c.createElement(kt,{textToShow:o}),c.createElement(kt,{textToShow:a})),c.createElement(Dt,{productId:t,slotNumber:n,productName:G.nu}))},Vt=e=>{let{productId:t,slotNumber:n}=e;const{gtaPlusBenefitsCash:r,gtaPlusAccessToGames:o}=(0,f.y_)("gtaPlusBenefitsCash","gtaPlusAccessToGames");return c.createElement(wt,null,c.createElement(xt,{productId:t},c.createElement(d.JO,{iconSize:d.Jh.Custom,icon:G.fD,title:G.Pd,className:s()(It,"SubscriptionCard-module__gtaPlusLogo___Tdd0u")})),c.createElement(At,null,c.createElement(kt,{textToShow:r}),c.createElement(kt,{textToShow:o})),c.createElement(Dt,{productId:t,slotNumber:n,productName:G.Pd}))},Wt=e=>{const t=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableMaunaLoa)));switch((0,g.kgH)(e.productId)){case G.Os:return c.createElement(Ht,E()({},e));case G.Cv:return c.createElement(qt,E()({},e));case G.Wy:return c.createElement(Bt,E()({},e));case G.kE:return c.createElement(zt,E()({},e));case G.pD:return c.createElement($t,E()({},e));case G.rQ:return t?c.createElement(Xt,E()({},e)):null;case G.Lm:return c.createElement(Ut,E()({},e));case G.OP:return c.createElement(Gt,E()({},e));case G.yd:return c.createElement(Vt,E()({},e));default:return null}};const jt=()=>{const e=(0,c.useRef)(null),[t,n]=(0,c.useState)(!1),r=(0,g.$Ft)(),o=(0,v.useDispatch)();(0,c.useEffect)((()=>{const e=e=>{if("https://www.microsoft.com"===e.origin&&e.data.id&&"cartMuidSyncSuccess"===e.data.id){const t=r.get(g.UVO),n=e.data.cartMuid;t!==n&&n&&(r.set(g.UVO,n,{essential:!0}),o(Pt.SA.fetchVectorId.start()))}};return window.addEventListener("message",e),n(!0),()=>window.removeEventListener("message",e)}),[r,o]);const a=(0,c.useCallback)((()=>{var t;(null===(t=e.current)||void 0===t?void 0:t.contentWindow)&&e.current.contentWindow.postMessage({id:"startCartMuidSync"},"https://www.microsoft.com")}),[e]);return t?c.createElement("iframe",{ref:e,onLoad:a,key:"cartMuid-sync-iframe",name:"cartMuid-sync-iframe",referrerPolicy:"strict-origin",sandbox:"allow-scripts allow-same-origin",src:"https://www.microsoft.com/store/XboxComMsComCartMuidSync.html",width:"0",height:"0",className:"CartMuidSync-module__muidSyncFrame___NpX0w"}):null};n(634);var Kt=n(5861),Zt="CollectionPromo-module__buttonWithoutFocusBackground___TEiUd",Yt="CollectionPromo-module__defaultLineClamp___hcAIk",Qt="CollectionPromo-module__disclaimerPositioning___k1OLb";const Jt=e=>{const{title:t,backgroundColor:n,foregroundColor:r,description:o,footer:a,imageUrl:i,link:h,subHeader:m,isLandscape:p,showFranceCollectionDisclaimer:f}=e,_=(0,Y.bN)(),y=(0,v.useSelector)(g.gzb)===g.Q2A.Dark,b=null!==n&&void 0!==n?n:y?"#404040":"#f9f9f9",E=_?{background:`linear-gradient(90deg, rgba(0, 0, 0, 0) calc(max(50%, 540px) - 175px), ${b} max(50%, 540px))`}:{background:`linear-gradient(90deg, ${b} max(50%, 540px), rgba(0, 0, 0, 0) calc(max(50%, 540px) + 175px))`},C=r?nn(r):void 0,S=!!m,T=!(!a||!h);let I="CollectionPromo-module__threeLineClamp___n0d2P";switch(3+Number(!S)+Number(!T)){case 5:I="CollectionPromo-module__fiveLineClamp___cEFdt";break;case 4:I="CollectionPromo-module__fourLineClamp___vI4XM"}return c.createElement("div",{className:"CollectionPromo-module__contentZIndex___tjOqr"},f?c.createElement("div",{className:Qt,style:null===C||void 0===C?void 0:C.foregroundStyle},p?c.createElement(Ye,{foregroundStyle:null===C||void 0===C?void 0:C.foregroundStyle}):c.createElement(Qe,null)):null,c.createElement("div",{className:"CollectionPromo-module__contentContainer___9aSeR",style:E},c.createElement("div",{className:"CollectionPromo-module__textContainer___rXocJ"},S&&c.createElement("span",{className:s()(Yt,P.F$),style:null===C||void 0===C?void 0:C.foregroundStyle},m),!!t&&c.createElement("h3",{className:s()(Yt,P.Q),style:null===C||void 0===C?void 0:C.foregroundStyle},t),!!o&&c.createElement("span",{className:s()(Yt,I,P.RH),style:null===C||void 0===C?void 0:C.foregroundStyle},o),T&&c.createElement(l.k,{as:"a",buttonType:C?u.L$.Tertiary:u.L$.Secondary,className:s()("CollectionPromo-module__footer___q1Zzo",C?Zt:""),style:null===C||void 0===C?void 0:C.buttonAdjustmentsStyle,href:h,target:"_blank"},c.createElement("span",{className:Yt,style:null===C||void 0===C?void 0:C.foregroundStyle},a),c.createElement(d.JO,{iconSize:d.Jh.XXSmall,icon:Kt.Z,style:null===C||void 0===C?void 0:C.foregroundStyle}))),c.createElement("div",{className:"CollectionPromo-module__imageContainer___gprij"},c.createElement("img",{alt:t,src:i,className:"CollectionPromo-module__image___AfscE"}))))},en=e=>c.createElement(Jt,E()(E()({},e),{},{isLandscape:!0})),tn=e=>{const{title:t,backgroundColor:n,foregroundColor:r,description:o,footer:a,imageUrl:i,link:h,subHeader:m,showFranceCollectionDisclaimer:p}=e,g=n?{background:n}:{backgroundImage:`url(${i})`},f=r?nn(r):void 0;return c.createElement("div",{style:g,className:"CollectionPromo-module__contentContainerPortrait___Htkwv"},c.createElement("img",{alt:t,src:i}),c.createElement("div",{className:n?"":"CollectionPromo-module__scrim___FEtBi"},p?c.createElement("div",{className:Qt,style:null===f||void 0===f?void 0:f.foregroundStyle},c.createElement(Ye,{foregroundStyle:null===f||void 0===f?void 0:f.foregroundStyle})):null,c.createElement("div",{className:"CollectionPromo-module__textContainerPortrait___IxcUT"},m&&c.createElement("span",{className:P.ef,style:null===f||void 0===f?void 0:f.foregroundStyle},m),t&&c.createElement("h3",{className:s()("CollectionPromo-module__textAndIconContainer___tGVrM",P.jG),style:null===f||void 0===f?void 0:f.foregroundStyle},t),o&&c.createElement("span",{className:P.RH,style:null===f||void 0===f?void 0:f.foregroundStyle},o),a&&h&&c.createElement(l.k,{as:"a",buttonType:f?u.L$.Tertiary:u.L$.Secondary,className:s()("CollectionPromo-module__footerPortrait___jZMHW",f?Zt:""),style:null===f||void 0===f?void 0:f.buttonAdjustmentsStyle,href:h,target:"_blank"},c.createElement("span",{style:null===f||void 0===f?void 0:f.foregroundStyle},a),c.createElement(d.JO,{iconSize:d.Jh.XXSmall,icon:Kt.Z,style:null===f||void 0===f?void 0:f.foregroundStyle})))))},nn=e=>({foregroundStyle:{color:e},buttonAdjustmentsStyle:{borderColor:e}}),rn=e=>{const t=(0,x.Wp)({desktopComponent:Jt,mobileLandscapeComponent:en,mobilePortraitComponent:tn});return t?c.createElement(t,E()({},e)):null};n(71372),n(88233);var on=n(94833),an=n(7722),sn=n(70561),cn=n(18671),ln=n(96896),un=n(67446);const dn="#1A1B1E",hn="#DFE4E8",mn="XboxCom";var pn="SkuPickerPage-module__column___SabJg",gn="SkuPickerPage-module__textAlignStart___i7l8T";const fn=e=>{let{hasAddOns:t,onClose:n,onSelect:r,productId:o}=e;(0,S.Li)("ContextualStoreSkuPicker",S.uZ.Overlay,{productInfo:{id:o}});const[a,i]=(0,f.QF)("selectOfferText","backCallToAction"),d=(0,v.useSelector)(g.yWe),h=(0,v.useSelector)(g.NDL),m=(0,v.useSelector)((e=>(0,Pt.NP)(e,o))),p=(0,v.useSelector)((e=>(0,Pt.th)(e,o))),_=(0,v.useSelector)(g.Xnf).userAgent,y=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableMiniPDPRefreshExp)))&&!(0,g.Ypc)(null===p||void 0===p?void 0:p.productFamily,G.fO.Passes)&&!(0,g.Ypc)(null===p||void 0===p?void 0:p.productFamily,G.fO.Subscription)&&!(0,un.hA)(_),b=(0,v.useSelector)((e=>(0,Pt.xP)(e,o)));if((0,W.useBackHandler)((0,c.useCallback)((()=>(n(),!1)),[n])),!m||!b)return null;const E=((e,t,n,r,o,a)=>e.map(((e,i)=>{const d=(0,f.iV)("plusSignDelimiterStringTemplate"),h=t.find((t=>((0,g.Ypc)(e.optimalAvailabilityId,t.availabilityId)||(0,g.Ypc)(e.preferredAvailabilityId,t.availabilityId))&&(0,g.Ypc)(e.skuId,t.skuId)&&(0,g.Ypc)(e.productId,t.productId))),m=e.skuTitle,p=(0,G.Xz)(null===h||void 0===h?void 0:h.promotionalDuration);if(!h||!m)return null;const v=h.productId,_=h.skuId,y=h.availabilityId,b=h.price,E=p?(0,g.WUZ)(d,m,p):m,C=(0,g.xGv)(b.listPrice,b.currency,n),S=(e,t,n,o)=>{e.preventDefault(),e.stopPropagation(),r({productId:t,skuId:n,availabilityId:o})};return a?c.createElement(l.k,{as:"button",className:s()("SkuPickerPage-module__selectionButton___Vk6HT",P.zD),buttonType:u.L$.Primary,overlayMode:u.gT.Solid,onClick:e=>S(e,v,_,y)},c.createElement("span",{className:gn},E),c.createElement("span",{className:"SkuPickerPage-module__price___VGCi3"},`${C}${o?"+":""}`)):c.createElement(x.X2,{key:`skuPickerItem-${i}`},c.createElement(l.k,{as:"button",className:"SkuPickerPage-module__width100___a3CRH",buttonType:u.L$.Tertiary,overlayMode:u.gT.Solid,onClick:e=>S(e,v,_,y)},c.createElement(x.sg,{xs:9,className:s()(pn,gn)},E),c.createElement(x.sg,{xs:3,className:s()(pn,"SkuPickerPage-module__priceInfo___YyLdL")},`${C}${o?"+":""}`)))})))(m,b,d,r,t,y);return y?c.createElement("div",{className:"SkuPickerPage-module__pickerListContainer___4ro9T"},c.createElement("h3",{className:s()("SkuPickerPage-module__header___EkYx0",P.a2)},a),c.createElement(Xe,{className:"SkuPickerPage-module__scrollableButtonsContainer___9++T0",gradientColorOverride:h.theme===g.Q2A.Light?hn:dn},c.createElement("div",{className:"SkuPickerPage-module__buttonsContainer___NiE7p"},E)),c.createElement(l.k,{as:"button",onClick:n,className:s()("SkuPickerPage-module__backButton___5xpke",P.uo),buttonType:u.L$.Primary},i.toLocaleUpperCase())):c.createElement("div",{className:"SkuPickerPage-module__container___HO8Os"},c.createElement("div",{className:"SkuPickerPage-module__headerContainer___ZNymn"},c.createElement(x.sg,{className:"SkuPickerPage-module__backButtonContainer___Zr-vi",xs:1},c.createElement(Je.$,{as:"button",icon:tt.Z,buttonType:u.L$.Tertiary,overlayMode:u.gT.Solid,onClick:n})),c.createElement(x.sg,{className:"SkuPickerPage-module__titleContainer___c7R2B",xs:10},a)),c.createElement(W.GamepadScrollable,{className:s()("SkuPickerPage-module__scrollableArea___kmlW2"),maxScrollPixels:200},E))};var vn=n(18269);const _n=c.createContext({activateStoreExperiments:!1}),{Provider:yn,Consumer:bn}=_n;var En,Cn,Sn,Tn,In,wn,An,kn,Pn,xn,Rn;!function(e){e.Purchased="Purchased",e.PurchaseError="PurchaseError",e.ServiceError="ServiceError",e.Canceled="Canceled",e.AlreadyPurchased="AlreadyPurchased"}(En||(En={})),function(e){e.Details="Details",e.Purchase="Purchase",e.Browse="Browse",e.Redeem="Redeem"}(Cn||(Cn={})),function(e){e.BuyNow="buynow",e.Gift="gift"}(Sn||(Sn={})),function(e){e.BuddyPass="buddyPass",e.Redeem="redeem"}(Tn||(Tn={})),function(e){e.OneCoreRequestPurchase="OneCoreRequestPurchase",e.ShowDetails="ShowDetails",e.ShowDetailsForStoreId="ShowDetailsForStoreId",e.XboxPurchaseApi="XboxPurchaseApi",e.ShowMarketplace="ShowMarketplace",e.XStoreShowPurchaseUi="XStoreShowPurchaseUI",e.XStoreShowProductPageUi="XStoreShowProductPageUI",e.XStoreShowAssociatedProductsUi="XStoreShowAssociatedProductsUI"}(In||(In={})),function(e){e.v1="v1",e.v2="v2"}(wn||(wn={})),function(e){e.PageChange="pageChange",e.OpenUrl="openUrl"}(An||(An={})),function(e){e.GamerTag="gamertag",e.Email="email"}(kn||(kn={})),function(e){e.PurchaseCanceled="PurchaseCanceled",e.PurchaseFailed="PurchaseFailed",e.PurchaseStarted="PurchaseStarted",e.PurchaseSuccessful="PurchaseSuccessful"}(Pn||(Pn={})),function(e){e.RedeemCanceled="RedeemCanceled",e.RedeemFailed="RedeemFailed",e.RedeemStarted="RedeemStarted",e.RedeemSuccessful="RedeemSuccessful"}(xn||(xn={})),function(e){e.XEWeb="XEWeb",e.XENative="XENative",e.XETest="XETest",e.XboxCom="XboxCom"}(Rn||(Rn={}));const Nn=e=>{const t=(0,c.useContext)(_n).activateStoreExperiments,n=(0,v.useSelector)((t=>(0,g.$Pr)(t,e)));return t&&n},On=e=>{const t=(0,c.useContext)(_n).activateStoreExperiments,n=(0,v.useSelector)((t=>(0,g.PE2)(t,e)));return t?n:void 0};var Ln="ContextualStoreBrowsePage-module__itemContainer___NmXKc",Mn="ContextualStoreBrowsePage-module__upShiftContainers___Midja";const Dn=e=>{var t,n,r,o;const{productSummaryInfo:a,handleOnSelectItem:i}=e,d=null===a||void 0===a?void 0:a.sku,h=null===a||void 0===a?void 0:a.product.productId,m=(0,v.useSelector)((e=>(0,Pt.bE)(e,h))),p=(0,f.iV)("ownedText"),g=(0,f.iV)("skuProductTitleTemplate",null!==(n=null===(t=null===a||void 0===a?void 0:a.product)||void 0===t?void 0:t.title)&&void 0!==n?n:"",null!==(o=null===(r=null===a||void 0===a?void 0:a.sku)||void 0===r?void 0:r.skuTitle)&&void 0!==o?o:"");if(!a||!d)return null;const _=(0,ct.getDataOrPrevious)(m),y=a.availability,b=null===y||void 0===y?void 0:y.price,E=a.product,C=(null===d||void 0===d?void 0:d.skuTitle)&&(null===d||void 0===d?void 0:d.skuTitle)!==E.title?g:E.title,S=(0,G.Ie)(E,d);return c.createElement("div",{className:Ln},c.createElement(l.k,{"aria-label":a.product.title,as:"button",buttonType:u.L$.Tertiary,className:"ContextualStoreBrowsePage-module__productItemButton___vo4Sd",disabled:!!_,onClick:e=>(e=>{var t;e.preventDefault(),e.stopPropagation(),i({productId:h,skuId:d.skuId,availabilityId:null!==(t=null===y||void 0===y?void 0:y.availabilityId)&&void 0!==t?t:""})})(e),title:C},c.createElement("div",{className:s()("ContextualStoreBrowsePage-module__justifyContentCenter___y-Wlg","ContextualStoreBrowsePage-module__displayFlex___bKGcU",Mn,"ContextualStoreBrowsePage-module__productItem___0AC-y")},c.createElement("div",{className:"ContextualStoreBrowsePage-module__landscapeProductImageContainer___fni-F"},c.createElement(x.Ee,{src:null===S||void 0===S?void 0:S.url,className:"ContextualStoreBrowsePage-module__landscapeProductImage___O-8Xt",width:96,height:96,fluid:!0})),c.createElement("div",{className:"ContextualStoreBrowsePage-module__info___bSc+y"},c.createElement("h2",{className:s()(P.S7,"ContextualStoreBrowsePage-module__landscapeTitle___niJTA")},C),_?c.createElement("span",{className:P.zD},p):b&&y&&c.createElement(G.tA,{className:P.zD,hasAddOns:E.hasAddOns,productPrice:b,recurrencePolicySummary:d.recurrencePolicySummary})))))},Un=e=>{var t;const{productId:n,skuId:r,availabilityId:o,channelKey:a,itemType:i,onClose:l,onError:d,onSelect:h,setIsLoading:m}=e;(0,S.Li)("ContextualStoreBrowse",S.uZ.Overlay,{productInfo:{id:n,sku:r}});const p=(0,f.iV)("loadMore");(0,W.useBackHandler)((0,c.useCallback)((()=>(l(),!1)),[l]));const _=(0,v.useDispatch)(),y=(0,v.useSelector)((e=>(0,Pt.zF)(e,n,r,o))),b=(0,v.useSelector)((e=>(0,Pt.D3)(e,a))),E=(0,v.useSelector)((e=>(0,Pt.h$)(e,b||[]))),C=(0,v.useSelector)((e=>(0,Pt._c)(e,a))),T=Nn(g.vCX.EnableBuyNowXboxUiExp),[I,w]=(0,c.useState)(!1),[A,k]=(0,c.useState)(!1),R=(0,c.useRef)(null);(0,c.useEffect)((()=>{var e;null===(e=R.current)||void 0===e||e.focus()}),[]),(0,c.useEffect)((()=>{y&&b&&(m(!1),y.sku||d(new Error("Missing sku or availability information")))}),[b,d,y,m]);const N=()=>{k(!1)},O=e=>{k(!1),d(e)},L=(0,f.iV)("addOnsFor",null!==(t=null===y||void 0===y?void 0:y.product.title)&&void 0!==t?t:"");if(!y||!E)return null;const M=!!C;return c.createElement(x.W2,{className:s()("ContextualStoreBrowsePage-module__rootContainer___ifmny","ContextualStoreBrowsePage-module__body___aG0ks")},c.createElement("h2",{className:s()(P.cN,"ContextualStoreBrowsePage-module__modalTitle___N5GYA")},L),c.createElement(W.GamepadScrollable,{className:s()(T?"ContextualStoreBrowsePage-module__newProductInfoContainer___9wtk0":"ContextualStoreBrowsePage-module__productInfoContainer___lqCXT",Mn,{"ContextualStoreBrowsePage-module__productInfoContainerFocused___3h8+9":I}),maxScrollPixels:155,onFocus:()=>w(!0),onBlur:()=>w(!1)},E.map(((e,t)=>c.createElement(Dn,{productSummaryInfo:e,key:t,handleOnSelectItem:h}))),M&&c.createElement(vn.K,{"aria-label":p,as:"button",buttonType:u.L$.Primary,className:s()(P.uo,Ln,"ContextualStoreBrowsePage-module__loadMoreButton___cm0Rh"),disabled:A,onClick:()=>{k(!0),_(Pt.Iv.getMoreBrowsePageData.start(n,i,a,C,O,N))},title:p},A?c.createElement(se,null):p)))};var Bn=n(89083);n(34715),n(19570);var Fn="LegalNotices-module__legalText___1YpIa";const Hn=e=>{const{className:t,productId:n}=e,[r,o,a,i,l,u,d,h,m,p,g,_,y,b]=(0,f.QF)("ceroZLegalNotice","cloudEnabledLegalNotice","dlcRequiresGameLegalNotice","inAppPurchaseLegalNotice","purchaseUnavailableOnWebLegalDisclaimer","subscriptionUKOnlyLegalNotice","subscriptionLearnMoreLinkLegalNotice","gamePassCoreRequiredLegalNotice","gamePassCoreRequiredForOnlineMultiplayerLegalNotice","learnMoreText","subscriptionLegalNotice","subscriptionSeeTermsLinkLegalNotice","ubisoftPlusSubscriptionDisclaimer","ubisoftPlusSubscriptionDisclaimerLinkText"),E=(0,v.useSelector)((e=>(0,Pt.th)(e,n)));if(!E)return null;const C=E.legalNotices;let S=null;if(null===C||void 0===C?void 0:C.length){const e=[];C.forEach(((n,f)=>{switch(n){case G.ND.CeroZ:e.push(c.createElement(qn,{className:t,key:`legalNotice-${f}`,legalNoticeString:r}));break;case G.ND.CloudEnabled:e.push(c.createElement(Gn,{className:t,href:"https://www.aka.ms/streaming_learnmore",key:`legalNotice-${f}`,legalNoticeString:o,linkText:p}));break;case G.ND.DlcRequiresGame:e.push(c.createElement(qn,{className:t,key:`legalNotice-${f}`,legalNoticeString:a}));break;case G.ND.InAppPurchase:e.push(c.createElement(qn,{className:t,key:`legalNotice-${f}`,legalNoticeString:i}));break;case G.ND.PurchaseUnavailableOnWeb:e.push(c.createElement(qn,{className:t,key:`legalNotice-${f}`,legalNoticeString:l}));break;case G.ND.SubscriptionDisclaimer:e.push(c.createElement(Gn,{className:t,key:`legalNotice-${f}`,legalNoticeString:g,linkText:_,href:"https://www.xbox.com/legal/subscription-terms"}));break;case G.ND.SubscriptionDisclaimerUKOnly:e.push(c.createElement(Gn,{className:t,href:"https://go.microsoft.com/fwlink/p/?linkid=2160906",key:`legalNotice-${f}`,legalNoticeString:u,linkText:d}));break;case G.ND.XboxLiveGoldRequired:e.push(c.createElement($n,{className:t,key:`legalNotice-${f}`,legalNoticeString:h,tooltipText:h}));break;case G.ND.XboxLiveGoldRequiredForOnline:e.push(c.createElement($n,{className:t,key:`legalNotice-${f}`,legalNoticeString:m,tooltipText:m}));break;case G.ND.UbisoftPlusSubscriptionDisclaimer:e.push(c.createElement(zn,{className:s()(t,"LegalNotices-module__legalTextWithMargin___VDV2K"),href:"https://account.microsoft.com",key:`legalNotice-${f}`,legalNoticeString:y,linkText:b}))}})),(null===e||void 0===e?void 0:e.length)&&(S=c.createElement(c.Fragment,null,e))}return S},qn=e=>c.createElement("p",{className:s()(e.className,Fn,P.RO)},e.legalNoticeString),Gn=e=>{const{href:t,legalNoticeString:n,className:r,linkText:o}=e;return c.createElement("p",{className:s()(r,Fn,P.RO)},n,c.createElement("span",null," "),c.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},o))},zn=e=>{const{href:t,legalNoticeString:n,className:r,linkText:o}=e,a=c.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},o);return c.createElement("p",{className:s()([r,Fn,P.RO])},(0,g.vvg)(n,a))},$n=e=>{const{tooltipText:t,className:n}=e;return c.createElement("p",{className:s()(n,Fn,P.RO)},c.createElement("u",null,t))};var Xn=n(29641);const Vn=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M1536 0q27 0 50 10t40 27 28 41 10 50v1792q0 27-10 50t-27 40-41 28-50 10H512q-27 0-50-10t-40-27-28-41-10-50V128q0-27 10-50t27-40 41-28 50-10h1024zm0 128H512v1792h1024V128zM896 1664h256v128H896v-128z"}))};const Wn=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M2048 512v896H0V512h2048zm-128 128H128v256h768v128H128v256h1792V640zm-320 384q-26 0-45-19t-19-45q0-26 19-45t45-19q26 0 45 19t19 45q0 26-19 45t-45 19z"}))};const jn=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M960 768q-26 0-45-19t-19-45q0-26 19-45t45-19h128q26 0 45 19t19 45q0 26-19 45t-45 19H960zm1034-219q26 26 40 61t14 72v257q0 124-47 232t-128 190-189 128-233 47h-81q-37 0-68-14t-60-34-55-45-53-44-53-35-57-14q-30 0-57 14t-53 34-52 45-55 44-60 35-69 14h-81q-124 0-232-47t-190-128-128-189T0 939V682q0-37 14-72t40-61h1q36-36 80-55 54-24 124-41t150-30 164-20 164-12 154-5 133-2q58 0 132 1t154 6 165 12 163 20 150 29 125 42q44 19 80 55h1zM128 851q150 52 306 78t314 27q296 0 575-89t521-262q-84-31-189-49t-217-28-218-13-196-3q-54 0-123 1t-145 5-157 11-155 18-143 27-118 39q-22 10-38 26t-17 43v169zm1792-143q-128 92-268 162t-288 119-304 73-312 25q-158 0-312-25t-305-73q9 89 49 166t103 133 143 88 171 32h81q19 0 40-14t46-34 51-45 60-44 69-35 80-14q43 0 80 14t69 34 59 45 52 44 45 35 41 14h81q97 0 182-37t149-100 101-149 37-183V708z"}))};const Kn=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M256 320q0-26 19-45t45-19q26 0 45 19t19 45q0 26-19 45t-45 19q-26 0-45-19t-19-45zm1792 1523q0 57-19 103t-69 78q-15 10-34 17t-38 7q-35 0-64-25t-57-57-53-64-55-42q-9-4-21-4t-24-1h-236q-23 0-44 14t-41 36-40 46-41 47-44 35-48 15q-20 0-37-6t-34-17q-48-32-68-78t-21-102v-24q0-12 2-24 1-23 9-58t21-76 29-83 34-82 33-70 32-51q0-36 31-56 13-9 37-16t50-13 52-9 42-3q16 0 27 2t20 6 20 10 23 13h164q15-7 24-13t17-10 20-6 29-2q18 0 43 3t50 8 49 13 39 17q14 10 21 24t10 32q12 12 27 39t30 63 31 75 28 78 22 68 13 50q9 47 9 93zm-128 2q0-35-8-73-5-24-16-61t-25-76-29-75-26-59l-8-16q-4-8-9-15-7-8-12-12t-9-8-9-10-8-18q-21-7-42-9t-45-5q-14 6-22 11t-18 11-19 8-28 3h-166q-17 0-27-3t-20-7-18-11-22-12q-23 0-44 4t-44 10q-2 20-14 27t-23 21q-5 7-8 14t-8 16q-15 31-33 76t-34 93-27 94-11 80q0 20 4 39t21 32q28-25 48-49t38-45 36-38 41-29 55-19 77-7h192q46 0 78 7t55 19 40 30 34 38 38 44 50 49q17-11 21-30t4-39zM896 1553V128H128v1792h128v-896h128v896h455q12 68 52 128H0V0h1024v1270q-10 14-14 28t-11 28l-8 14q-4 7-9 14-28 47-48 97t-38 102zm608-82q14 0 23 9t9 23q0 14-9 23t-23 9q-14 0-23-9t-9-23q0-14 9-23t23-9z"}))};const Zn=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M128 128h1792v1024H128V128zm1664 896V256H256v768h1536zM128 1536v-128h1792v128H128zm0 384v-128h1792v128H128z"}))};var Yn=n(1540);function Qn(e){var t;const{feature:n,as:r="li"}=e;return c.createElement(r,{className:s()(n.className,nt.nA,"FeaturesList-module__item___J8r6P",P.zD)},n.icon&&c.createElement(d.JO,{iconSize:null!==(t=n.icon.iconSize)&&void 0!==t?t:d.Jh.XXSmall,className:s()(nt.OU,"FeaturesList-module__icon___OTG4r",n.icon.className),icon:n.icon.icon,"aria-hidden":!0}),n.name)}const Jn=e=>{let{features:t}=e;return 0===t.length?null:c.createElement("ul",{className:s()("FeaturesList-module__wrapper___KIw42",nt.Pt)},t.map(((e,t)=>c.createElement(Qn,{feature:e,key:t}))))};var er="PlayableOn-module__inlineContainer___3GArU";const tr=e=>{let t;switch(e){case G.pQ.PC:t=Xn.Z;break;case G.pQ.MobileDevice:t=Vn;break;case G.pQ.XboxOne:t=Wn;break;case G.pQ.Hololens:t=jn;break;case G.pQ.XboxSeriesX:t=Kn;break;case G.pQ.Hub:t=Zn;break;default:return}return{iconSize:d.Jh.XXSmall,icon:t}},nr=(e,t)=>{const[n,r]=(0,f.QF)("playableOnPCDeviceName","playableOnMobileDeviceName"),o=(0,v.useSelector)((t=>(0,Yn.th)(t,e))),a=null===o||void 0===o?void 0:o.availableOn;if(!a||0===a.length)return null;const i=e=>{switch(e){case G.pQ.PC:return n;case G.pQ.MobileDevice:return r;case G.pQ.XboxOne:return"Xbox One";case G.pQ.XboxSeriesX:return"Xbox Series X|S";default:return e}};return a.map((e=>{const n=(e=>{const t=Object.keys(G.pQ).find((t=>(0,g.Ypc)(t,e)));return G.pQ[null!==t&&void 0!==t?t:""]})(e);return{name:i(n),icon:tr(n),className:t}}))},rr=e=>{const{productId:t,className:n,itemClassName:r,titleClassName:o}=e,a=(0,f.iV)("playableOnTitle"),i=nr(t,r);return(null===i||void 0===i?void 0:i.length)?c.createElement(x.EM,{className:n},c.createElement("h2",{className:o},a),c.createElement(Jn,{features:i})):null},or=e=>{const{productId:t,className:n,itemClassName:r,titleClassName:o}=e,a=(0,f.QF)("playableOnTitle"),i=nr(t,r);return(null===i||void 0===i?void 0:i.length)?c.createElement("div",{className:s()(er,n)},c.createElement("h2",{className:o},a),c.createElement("ul",{className:s()(er,nt.Pt)},i.map(((e,t)=>c.createElement(Qn,{feature:e,key:t}))))):null};n(43430);const ar=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M1888 256q33 0 62 12t51 35 34 51 13 62v1088q0 33-12 62t-35 51-51 34-62 13H160q-33 0-62-12t-51-35-34-51-13-62V416q0-33 12-62t35-51 51-34 62-13h1728zM160 384q-14 0-23 9t-9 23v224h1792V416q0-14-9-23t-23-9H160zm1728 1152q14 0 23-9t9-23V768H128v736q0 14 9 23t23 9h1728zm-480-384h256v128h-256v-128z"}))};var ir="CommonButtonStyles-module__condensedButton___sQWPU",sr="CommonButtonStyles-module__disabledDesktopButton___SDI7g",cr="CommonButtonStyles-module__disabledMobileButton___fY3IU",lr="CommonButtonStyles-module__errorButton___fFjqO",ur="CommonButtonStyles-module__errorModal___AMYXz",dr="CommonButtonStyles-module__highContrastAwareButton___DgX7Y",hr="CommonButtonStyles-module__iconButton___1DSre",mr="CommonButtonStyles-module__mobileButton___QwVrM",pr="CommonButtonStyles-module__variableLineDesktopButton___cxDyV";const gr=["accessibilityLabel","behavior","buttonId","buttonRef","buttonType","onClick","overrideClassName","telemetryProps"],fr=["accessibilityLabel","behavior","buttonId","buttonRef","buttonType","href","overrideClassName","target","telemetryProps"],vr=e=>{const{accessibilityLabel:t,behavior:n,buttonId:r,buttonRef:o,buttonType:a=u.L$.Primary,onClick:i,overrideClassName:s,telemetryProps:d}=e,h=V()(e,gr);return c.createElement("div",null,c.createElement(l.k,E()({as:"button","aria-label":t,buttonType:a,className:s||pr,onClick:i,ref:o},(0,S.iZ)(d)),c.createElement(yr,E()({},h))))},_r=e=>{const{accessibilityLabel:t,behavior:n,buttonId:r,buttonRef:o,buttonType:a=u.L$.Primary,href:i,overrideClassName:d,target:h,telemetryProps:m}=e,p=V()(e,fr);return c.createElement("div",null,c.createElement(l.k,E()({as:"a","aria-label":t,buttonType:a,className:s()([d||pr,dr]),href:i,ref:o,target:h},(0,S.iZ)(m)),c.createElement(yr,E()({},p))))},yr=e=>{const t=e.productGlyph,n=e.usesUbisoftSVG;return c.createElement(c.Fragment,null,c.createElement("div",{className:P.uo,"aria-hidden":"true"},e.title),e.subtitle&&c.createElement("div",{className:P.S7,"aria-hidden":"true"},c.createElement("span",null,e.subtitle),t?c.createElement("span",{className:(0,x.ut)(x.JE.Prepend,t)}):n?c.createElement(G.V$,{className:"VariableLineButton-module__ubisoftPlusHorizontalLogo___tePX8"}):""))};var br="OverflowMenuButton-module__overflowMenuButton___XRc9q";const Er=["experienceButtonType"],Cr="\u25cf \u25cf \u25cf",{Provider:Sr,Consumer:Tr}=c.createContext({closeDialog:()=>{}}),Ir=e=>{var t,n;return c.createElement(ae,{flyoutBoundingParent:e.containingElementRef},c.createElement(ae.Button,{accessibilityLabel:e.accessibilityLabel,buttonType:u.L$.Primary,className:s()([null!==(t=e.overrideClassName)&&void 0!==t?t:br,dr]),title:e.accessibilityLabel,telemetryProps:null!==(n=e.telemetryProps)&&void 0!==n?n:{}},Cr),c.createElement(ae.Flyout,null,c.createElement(ne,null,(t=>c.createElement(Sr,{value:{closeDialog:t.closeFlyout}},c.createElement("div",{className:"OverflowMenuButton-module__desktopOverflowMenu___D9HIM"},e.children))))))},wr=e=>{var t;const n=(0,f.iV)("moreOptionsMenuTitle"),[r,o]=(0,c.useState)(!1),a=(0,c.useRef)(null),i=(0,c.useRef)(null),d=()=>o(!1),h=(0,Y.mG)(r,d,a,i),{closeButtonText:m}=(0,f.y_)("closeButtonText"),p=E()(E()({},e.telemetryProps),{},{behavior:r?S.cg.REDUCE:S.cg.EXPAND});return c.createElement(c.Fragment,null,c.createElement(l.k,E()({as:"button","aria-label":e.accessibilityLabel,buttonType:u.L$.Primary,className:null!==(t=e.overrideClassName)&&void 0!==t?t:"OverflowMenuButton-module__mobileOverflowMenuButton___hkU8F",onClick:r?d:()=>o(!0),ref:a,title:e.accessibilityLabel},(0,S.iZ)(p)),Cr),r&&c.createElement(c.Fragment,null,c.createElement("div",{className:"OverflowMenuButton-module__bottomLockedMenu___PeiPQ",ref:i,role:"dialog"},c.createElement(W.FocusContainer,{autoFocusContainer:!0},c.createElement(x.Lx,null),c.createElement("div",{className:"OverflowMenuButton-module__headerSection___2S+Fx"},c.createElement("h3",{className:s()([P.S7,"OverflowMenuButton-module__menuHeader___Lcsk2"])},n),c.createElement(Je.$,{as:"button",buttonType:u.L$.Tertiary,icon:an.Z,className:"OverflowMenuButton-module__closeButton___Y7WvC","aria-label":m,onClick:h,title:m})),c.createElement(Xe,{className:s()("OverflowMenuButton-module__scrollArea___xvePn","OverflowMenuButton-module__mobileOverFlowItemOverride___L9ABM")},c.createElement(Sr,{value:{closeDialog:h}},e.children)))),c.createElement("div",{className:"OverflowMenuButton-module__lightDismissLayer___TDWVe",onClick:d,role:"none"})))},Ar=e=>{const{experienceButtonType:t}=e,n=V()(e,Er),r=(0,S.EW)(),o=(0,S._d)({contentName:e.accessibilityLabel,id:"OverflowMenuButton",slotNumber:e.slotNumber},r);let a;switch(t){case Bn.Ug.Desktop:a=c.createElement(Ir,E()(E()({},n),{},{telemetryProps:o}));break;case Bn.Ug.CondensedDesktop:a=c.createElement(Ir,E()(E()({},n),{},{overrideClassName:"OverflowMenuButton-module__condensedDesktopOverflowMenuButton___ClClh",telemetryProps:o}));break;case Bn.Ug.Mobile:a=c.createElement(wr,E()(E()({},n),{},{telemetryProps:o}));break;default:a=null}return c.createElement("div",null,a)};var kr="OverflowMenuItems-module__icon___wWXot",Pr="OverflowMenuItems-module__menuItem___wwPHe";const xr=["icon","telemetryProps","className"],Rr=["href","icon","telemetryProps"],Nr=(0,c.forwardRef)(((e,t)=>{const{icon:n,telemetryProps:r,className:o}=e,a=V()(e,xr);return c.createElement(l.k,E()(E()(E()({as:"button",className:s()(Pr,o)},(0,S.iZ)(r)),a),{},{buttonType:u.L$.Tertiary,ref:t}),c.createElement(d.JO,{iconSize:d.Jh.XXSmall,className:kr,icon:n}),e.children)})),Or=(0,c.forwardRef)(((e,t)=>{const n=E()({},e),{href:r,icon:o,telemetryProps:a}=n,i=V()(n,Rr);return c.createElement(l.k,E()(E()(E()({as:"a",className:Pr,href:r},(0,S.iZ)(a)),i),{},{buttonType:u.L$.Tertiary,ref:t}),c.createElement(d.JO,{iconSize:d.Jh.XXSmall,className:kr,icon:o}),e.children)})),Lr=(0,c.forwardRef)(((e,t)=>c.createElement(l.k,E()(E()({as:"button",className:Pr,ref:t},e),{},{buttonType:u.L$.Tertiary}),c.createElement("span",{className:kr},c.createElement(se,{width:(0,Y.wU)(1),height:(0,Y.wU)(1)}))))),Mr=e=>{let{actionArguments:t,slotNumber:n}=e;const r=(0,S.Fj)(),{[T.Uh.ProductId]:o,[T.Uh.NetworkName]:a}=t,[i,s,c,l]=(0,f.QF)("linkActionText","linkActionAccessibilityText","accountLinkStartButton","accountLinkStartButtonAccessibilityText"),u=(0,v.useSelector)(C.yB),d=(0,g.$wQ)(),h=(0,v.useDispatch)(),m=(0,S.EW)(),p=(0,v.useSelector)((e=>(0,Pt.RY)(e,o)));if(!p||!p.product)return r.warn(`Trial upsell button requested without valid values:\nbaseProductId: ${o}\nhasProductSummaryInfo: ${!!p}\nhasProduct: ${!!(null===p||void 0===p?void 0:p.product)}`),null;const _=a?(0,g.WUZ)(i,a.toLocaleUpperCase()):c;return{accessibilityLabel:a?(0,g.WUZ)(s,a):l,buttonText:_,onClick:()=>{u?h(Pt.VC.SISUFlow.start(a)):window.location.assign(d(window.location.href))},telemetryProps:(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:_,id:"AccountLinkButton",slotNumber:n},m)}},Dr=e=>{let{buttonText:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,onClick:a}=e;return c.createElement(vr,{accessibilityLabel:n,buttonType:o,onClick:a,title:t.toLocaleUpperCase(),telemetryProps:r})},Ur=e=>{let{buttonText:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,onClick:a}=e;return c.createElement(l.k,E()({as:"button","aria-label":n,className:s()(ir,P.uo),buttonType:o,onClick:a},(0,S.iZ)(r)),t.toLocaleUpperCase())},Br=e=>{let{buttonText:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,onClick:a}=e;return c.createElement(l.k,E()({as:"button","aria-label":n,buttonType:o,className:mr,onClick:a},(0,S.iZ)(r)),t.toLocaleUpperCase())},Fr=e=>{let{buttonText:t,accessibilityLabel:n,telemetryProps:r,onClick:o}=e;return c.createElement(Nr,{"aria-label":n,onClick:o,icon:ar,telemetryProps:r},t)};const Hr=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M512 1152v-128h640v128H512zm896-384v128H512V768h896zM384 384v1152h896v128H256V256h1536v896h-128V384H384zm1664 1152v128h-256v256h-128v-256h-256v-128h256v-256h128v256h256zM512 512h768v128H512V512z"}))};const qr=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M1024 0q141 0 272 36t244 104 207 160 161 207 103 245 37 272q0 141-36 272t-104 244-160 207-207 161-245 103-272 37q-141 0-272-36t-245-103-207-160-160-208-103-244-37-273q0-141 36-272t104-244 160-207 207-161T752 37t272-37zm0 1920q163 0 313-56t274-163L347 437Q240 560 184 710t-56 314q0 124 32 238t90 214 140 182 181 140 214 90 239 32zm677-309q107-123 163-273t56-314q0-124-32-238t-90-214-140-181-181-140-214-91-239-32q-163 0-313 56T437 347l1264 1264z"}))};n(14121),n(60523);var Gr=n(30392);const zr="launchStore",$r="launchContextualStore",Xr="launchStoreExperience",Vr=(e,t,n)=>{var r;const o=new URL(e);return o.searchParams.set(zr,Wr(t,null===n||void 0===n?void 0:n.skuId,null===n||void 0===n?void 0:n.availabilityId)),o.searchParams.set(Xr,null!==(r=null===n||void 0===n?void 0:n.experience)&&void 0!==r?r:""),o.searchParams.set(Gr.e,"true"),o.href},Wr=(e,t,n)=>{let r=e;return t&&(r+=`-${t}`,n&&(r+=`-${n}`)),r};n(77950),n(94908);var jr=n(87995),Kr=n(4517),Zr=n(47263),Yr=n(29084);const Qr=["contentRef","showModal","experience","productId","onResult","skuId","skipPurchaseConfirmation","tracking","scenario"],Jr=e=>{let{contentRef:t,showModal:n,experience:r,productId:o,onResult:a,skuId:i,skipPurchaseConfirmation:s,tracking:l,scenario:u}=e,d=V()(e,Qr);var h;const m=new URLSearchParams((0,Kr.TH)().search),[p,f]=(0,c.useState)(!0),[_,y]=(0,c.useState)(n),[b,C]=(0,c.useState)(!1),S=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableBuyNowXboxUiExp))),T=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableLaunchpad)));(0,c.useEffect)((()=>y(p&&n)),[p,n]);const I=(0,c.useCallback)((()=>{"XboxCom.Wishlist"===(null===l||void 0===l?void 0:l.callerApplicationId)?C(!1):window.location.reload()}),[l]),w=(0,Yr.DP)(o),A=T&&!!w&&u!==Sn.Gift,k=(0,c.useCallback)((e=>{A&&e.status===En.Purchased&&!s?(f(!1),C(!0)):a&&a(e)}),[a,A,s]),P=d.referringProductId||(null===(h=(0,g.oB7)(m,jr.nV.referringProductId))||void 0===h?void 0:h.value);return c.createElement(c.Fragment,null,c.createElement(x.u_,{show:_||b,fullscreenOnMobile:S,ariaLabelledBy:A&&b?"modalLabel":"title"},c.createElement(x.u_.Body,{className:(0,x.W0)("padding","all",0)},c.createElement("div",{ref:t},A&&b?c.createElement(Zr.Z,{subscription:w,onClose:I,referringProductId:P,subscriptionSkuId:i}):c.createElement(Vc,E()(E()({},d),{},{productId:o,referringProductId:P,experience:r,version:wn.v2,activateStoreExperiments:!0,onResult:k,skipPurchaseConfirmation:s||A,skuId:i,scenario:u}))))))};var eo=n(2455);const to=c.createContext(eo.vm.PDP);const no=["actionAccessibilityLabelFormat","actionOverride","actionText","availabilityId","behavior","endDateUtcString","experienceButtonType","iconOverride","isDisabled","price","priceAccessibilityTextOverride","priceTextOverride","productId","recurrencePolicySummary","skuId","slotNumber","title","tooltip"],ro=["accessibilityLabel","actionText","buttonType","experienceButtonType","hasAddOns","isDisabled","localizedPriceInfo","overrideClassName","price","productId","productSummaryInfo","recurrencePolicySummary","showModal","skuId","slotNumber","telemetryProps","title","tooltip","onClick","onResult"],oo=["accessibilityLabel","actionText","buttonType","experienceButtonType","hasAddOns","isDisabled","onClick","onResult","productId","showModal","skuId","slotNumber","telemetryProps","title","tooltip"],ao=["actionText","accessibilityLabel","hasAddOns","iconOverride","isDisabled","productId","showModal","slotNumber","telemetryProps","onClick","onResult","tooltip"],io=e=>{const[t,n]=(0,f.QF)("buyActionText","buyActionAccessibilityText");return c.createElement(ho,E()({actionText:t,actionAccessibilityLabelFormat:n,buttonId:"BuyButton"},e))},so=e=>{const[t,n]=(0,f.QF)("upgradeActionText","upgradeActionAccessibilityText");return c.createElement(ho,E()({actionText:t,actionAccessibilityLabelFormat:n,buttonId:"UpgradeButton"},e))},co=e=>{const[t,n]=(0,f.QF)("getActionText","getActionAccessibilityText");return c.createElement(ho,E()({buttonId:"GetButton",actionText:t,actionAccessibilityLabelFormat:n},e))},lo=e=>{const[t,n,r,o,a,i]=(0,f.QF)("joinActionText","joinActionAccessibilityText","specialOffer","ubisoftAccountLinkRequired","ubisoftSuspendedExternalSubscription","ubisoftActivePCOnlyExternalSubscription"),s=[],{isDisabled:l,disabledReason:u,productSummaryInfo:d}=e,h=(0,x.KG)(),{initialOfferText:m,recurringPriceText:p}=(0,G.mP)(d);if(l&&u)switch(u){case"UbisoftAccountLinkRequired":s.push(o);break;case"UbisoftSuspendedExternalSubscription":s.push(c.createElement(c.Fragment,null,(0,g.vvg)(a,c.createElement("a",{href:T.Vx,target:"_blank",rel:"noopener noreferrer"},T.Vx))));break;case"UbisoftActivePCOnlyExternalSubscription":s.push(c.createElement(c.Fragment,null,(0,g.vvg)(i,c.createElement("a",{href:T.Vx,target:"_blank",rel:"noopener noreferrer"},T.Vx))))}let v,_;const y=h(m,p);return y&&(d.availability.promotionalDuration&&(v=r,_=h(v,y)),s.push(y)),c.createElement(ho,E()(E()({},e),{},{buttonId:"JoinButton",actionText:t,actionAccessibilityLabelFormat:n,tooltip:s.length?s:void 0,priceTextOverride:v,priceAccessibilityTextOverride:_}))},uo=e=>{const[t,n]=(0,f.QF)("preorderActionText","preorderActionAccessibilityText");return c.createElement(ho,E()({buttonId:"PreorderButton",actionText:t,actionAccessibilityLabelFormat:n},e))},ho=e=>{var t,n;const{actionAccessibilityLabelFormat:r,actionOverride:o,actionText:a,availabilityId:i,behavior:s,endDateUtcString:l,experienceButtonType:u,iconOverride:d,isDisabled:h,price:m,priceAccessibilityTextOverride:p,priceTextOverride:_,productId:y,recurrencePolicySummary:b,skuId:T,slotNumber:I,title:w="",tooltip:A}=e,k=V()(e,no),P=(0,S.EW)(),R=(0,x.KG)(),[N,O]=(0,c.useState)(!1);let L=(0,G.OD)(m,b);const M=(0,v.useSelector)(C.yB),D=(0,g.$wQ)(),U=(0,g.IzA)(),B=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnablePurchaseLaunchOnLogin)));_&&(L={accessibilityText:p||_,afterText:void 0,afterTextGlyph:void 0,afterTextPrefix:void 0,originalPrice:void 0,lowestPrice:_});const F=R((0,g.WUZ)(r,w),null===L||void 0===L?void 0:L.accessibilityText),H=B?Vr(window.location.href,y,{skuId:T,availabilityId:i,experience:Cn.Purchase}):(0,Gr.j)(),q=o?()=>o():()=>{if(M)O(!0);else{const t=(0,g.kgH)(e.productId)===G.Cv?U(H):D(H);window.location.assign(t)}},z=null===(t=null===m||void 0===m?void 0:m.xPriceOfferInfo)||void 0===t?void 0:t.xPriceOfferGuid,$=z?{targetedOfferGuid:z}:void 0,[X]=(0,f.QF)("targetedOfferBuyBoxTooltipFormat"),W=(0,x.v0)(l).durationString,j=W&&(null===(n=null===m||void 0===m?void 0:m.eligibilityInfo)||void 0===n?void 0:n.type)===G.sL.XPrice?(0,g.WUZ)(X,W):void 0,K=j&&A?[A,j]:j||A,Z=(0,S._d)({behavior:null!==s&&void 0!==s?s:S.cg.PURCHASE,contentName:a,contentTags:$,id:e.buttonId,productId:y,skuId:T,slotNumber:I},P),Y=E()(E()({},k),{},{accessibilityLabel:F,actionText:a,availabilityId:i,experienceButtonType:u,isDisabled:h,localizedPriceInfo:L,onClick:q,onResult:e=>{(null===e||void 0===e?void 0:e.status)===En.Purchased?window.location.reload():O(!1)},price:m,productId:y,showModal:N,skuId:T,telemetryProps:Z,tooltip:K});let Q="";switch(u){case Bn.Ug.CondensedDesktop:Q=ir;case Bn.Ug.Desktop:return c.createElement(mo,E()(E()({},Y),{},{overrideClassName:Q,price:m,recurrencePolicySummary:b}));case Bn.Ug.Mobile:return c.createElement(po,E()({},Y));case Bn.Ug.Overflow:return c.createElement(go,E()(E()({},Y),{},{iconOverride:d}));default:return null}},mo=e=>{var t;const{accessibilityLabel:n,actionText:r,buttonType:o=u.L$.Primary,experienceButtonType:a,hasAddOns:i,isDisabled:d,localizedPriceInfo:h,overrideClassName:m,price:p,productId:g,productSummaryInfo:f,recurrencePolicySummary:v,showModal:_,skuId:y,slotNumber:b,telemetryProps:C,title:T,tooltip:I,onClick:w,onResult:A}=e,k=V()(e,ro),x=(0,c.useRef)(null),R=(0,c.useRef)(null),N=(0,Y.mG)(_,A,x,R),O=d?[pr,sr]:[m||pr,dr],L=d?u.L$.Tertiary:o,M=d?void 0:w,D=!!I,U=(0,c.useContext)(to),B=(null===(t=null===f||void 0===f?void 0:f.sku)||void 0===t?void 0:t.historicalLowestListPrice)&&U===Bn.vm.PDP;return c.createElement("div",{className:"AcquisitionButtons-module__desktopContainer___A9ppk"},c.createElement(l.k,E()({as:"button","aria-label":n,"aria-disabled":d,buttonType:L,className:s()(O,D?We:void 0),"data-tip":D||void 0,onClick:M,ref:x},(0,S.iZ)(C)),c.createElement("div",{className:P.uo},r.toLocaleUpperCase()),a===Bn.Ug.Desktop&&h&&c.createElement(G.OE,E()(E()({},h),{},{className:P.S7,hasAddOns:i,listedPriceClassName:"AcquisitionButtons-module__listedPrice___PS6Zm",productPrice:p,recurrencePolicySummary:v,useBrandStyling:o===u.L$.Brand})),D&&c.createElement(vo,null,I)),B&&c.createElement(G._T,{historicalLowestListPrice:f.sku.historicalLowestListPrice,className:"AcquisitionButtons-module__lowestPriceText___kcTrw"}),!d&&c.createElement(Jr,E()({contentRef:R,hasAddOns:i,onResult:N,showModal:_,productId:g,skuId:y,experience:Cn.Purchase,scenario:Sn.BuyNow},k)))},po=e=>{const{accessibilityLabel:t,actionText:n,buttonType:r=u.L$.Primary,experienceButtonType:o,hasAddOns:a,isDisabled:i,onClick:d,onResult:h,productId:m,showModal:p,skuId:g,slotNumber:f,telemetryProps:v,title:_,tooltip:y}=e,b=V()(e,oo),C=(0,c.useRef)(null),T=(0,c.useRef)(null),I=(0,Y.mG)(p,h,C,T),w=i?u.L$.Tertiary:r,A=i?void 0:d,k=i&&!!y;return c.createElement(c.Fragment,null,c.createElement(l.k,E()({as:"button","aria-label":t,"aria-disabled":i,buttonType:w,className:s()(i?cr:mr,k?We:void 0),"data-tip":k||void 0,onClick:A,ref:C},(0,S.iZ)(v)),n.toLocaleUpperCase(),k&&c.createElement(vo,null,y)),!i&&c.createElement(Jr,E()({contentRef:T,hasAddOns:a,onResult:I,showModal:p,productId:m,skuId:g,experience:Cn.Purchase,scenario:Sn.BuyNow},b)))},go=e=>{const{actionText:t,accessibilityLabel:n,hasAddOns:r,iconOverride:o,isDisabled:a,productId:i,showModal:s,slotNumber:l,telemetryProps:u,onClick:d,onResult:h,tooltip:m}=e,p=V()(e,ao),v=(0,f.iV)("joinActionAccessibilityText");let _=t;const y=(0,G.Xm)(i),b=(0,G.jb)(i,!0);y&&b&&(_=(0,g.WUZ)(v,b));const C=a?qr:o||y||ar,S=a?void 0:d,T=a&&!!m;return c.createElement(c.Fragment,null,c.createElement(Nr,{"aria-label":n,"aria-disabled":a,className:T?We:void 0,"data-tip":T||void 0,icon:C,onClick:S,telemetryProps:u},_,T&&c.createElement(vo,null,m)),s&&c.createElement(Tr,null,(e=>c.createElement(Jr,E()({hasAddOns:r,onResult:t=>{e.closeDialog(),h(t)},productId:i,showModal:s,experience:Cn.Purchase,scenario:Sn.BuyNow},p)))))},fo=(e,t,n,r,o,a)=>{let i=!e||!t||!n||!r||!r.product||!r.sku||!r.availability;return i?a.warn(`${o} button requested without valid values:\nproductId: ${e}\nskuId: ${t}\navailabilityId: ${n}\nhasProductSummaryInfo: ${!!r}\nhasProduct: ${!!(null===r||void 0===r?void 0:r.product)}\nhasSku: ${!!(null===r||void 0===r?void 0:r.sku)}\nhasAvailability: ${!!(null===r||void 0===r?void 0:r.availability)}`):(i=!r.availability.price,i&&a.warn(`${o} button requested without valid price.`)),!i},vo=e=>{let{children:t}=e;return c.createElement("div",{className:je},c.Children.map(t,((e,t)=>c.createElement("span",{key:t},e))))};var _o=n(38725);const yo=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M1792 1728q0 40-15 75t-41 61-61 41-75 15q-40 0-75-15t-61-41-41-61-15-75q0-31 11-64H885q11 33 11 64 0 40-15 75t-41 61-61 41-75 15q-40 0-75-15t-61-41-41-61-15-75q0-55 29-102t80-71L189 256H0V128h281l85 256h1682l-298 896H665l85 256h850q40 0 75 15t61 41 41 61 15 75zm-1024 0q0-26-19-45t-45-19q-26 0-45 19t-19 45q0 26 19 45t45 19q26 0 45-19t19-45zm832 64q26 0 45-19t19-45q0-26-19-45t-45-19q-26 0-45 19t-19 45q0 26 19 45t45 19z"}))},bo=["actionAccessibilityLabel","actionLabel","currentComponentRef","navigationAccessibilityLabel","navigationHref","navigationLabel","processingAccessibilityLabel","showSpinner","state","actionIcon","navigationIcon","onClick","buttonId","experienceButtonType","telemetryProps"],Eo=e=>{const t=(0,c.useRef)(null),[n,r]=(0,c.useState)(!1);(0,c.useEffect)((()=>{var o,a;n&&(e.showSpinner?null===(o=t.current)||void 0===o||o.focus():(null===(a=t.current)||void 0===a||a.focus(),r(!1)))}),[e.state,e.showSpinner,n]);let o=e.onClick;e.actionOverride&&(o=()=>e.actionOverride());const a=()=>{r(!0),o()};switch(e.experienceButtonType){case Bn.Ug.Desktop:return c.createElement(Co,E()(E()({},e),{},{onClick:a,currentComponentRef:t}));case Bn.Ug.CondensedDesktop:return c.createElement(So,E()(E()({},e),{},{onClick:a,currentComponentRef:t}));case Bn.Ug.Mobile:return c.createElement(To,E()(E()({},e),{},{onClick:a,currentComponentRef:t}));case Bn.Ug.Overflow:return c.createElement(Io,E()(E()({},e),{},{onClick:a,currentComponentRef:t}));default:return null}},Co=e=>{const{actionAccessibilityLabel:t,currentComponentRef:n,buttonType:r=u.L$.Primary,navigationAccessibilityLabel:o,navigationHref:a,processingAccessibilityLabel:i,showSpinner:l,state:d,telemetryProps:h,actionIcon:m,navigationIcon:p,onClick:g}=e;return c.createElement("div",null,l?c.createElement(ce,{accessibilityLabel:i,buttonType:r,height:4,ref:n,width:4}):d?c.createElement(Je.$,E()({as:"a","aria-label":o,buttonType:r,className:s()([hr,dr]),href:a,icon:p,ref:n,title:o},(0,S.iZ)(h))):c.createElement(Je.$,E()({as:"button","aria-label":t,buttonType:r,className:s()([hr,dr]),onClick:g,icon:m,ref:n,title:t},(0,S.iZ)(h))))},So=e=>{const{actionAccessibilityLabel:t,actionLabel:n,currentComponentRef:r,buttonType:o=u.L$.Primary,navigationAccessibilityLabel:a,navigationHref:i,navigationLabel:d,onClick:h,processingAccessibilityLabel:m,showSpinner:p,state:g,telemetryProps:f}=e;return c.createElement("div",null,p?c.createElement(ce,{accessibilityLabel:m,buttonType:o,className:s()([ir,dr,P.uo]),height:3,ref:r,sizingText:n.toLocaleUpperCase(),width:3}):g?c.createElement(l.k,E()({as:"a","aria-label":a,buttonType:o,className:s()([ir,dr,P.uo]),href:i,ref:r},(0,S.iZ)(f)),d.toLocaleUpperCase()):c.createElement(l.k,E()({as:"button","aria-label":t,buttonType:o,className:s()([ir,dr,P.uo]),onClick:h,ref:r},(0,S.iZ)(f)),n.toLocaleUpperCase()))},To=e=>{const{actionAccessibilityLabel:t,actionLabel:n,currentComponentRef:r,buttonType:o=u.L$.Primary,navigationAccessibilityLabel:a,navigationHref:i,navigationLabel:s,processingAccessibilityLabel:d,showSpinner:h,state:m,telemetryProps:p,onClick:g}=e;return c.createElement(c.Fragment,null,h?c.createElement(le,{accessibilityLabel:d,buttonType:o,ref:r}):m?c.createElement(l.k,E()({as:"a","aria-label":a,buttonType:o,className:mr,href:i,ref:r},(0,S.iZ)(p)),s.toLocaleUpperCase()):c.createElement(l.k,E()({as:"button","aria-label":t,buttonType:o,className:mr,onClick:g,ref:r},(0,S.iZ)(p)),n.toUpperCase()))},Io=e=>{const{actionAccessibilityLabel:t,actionLabel:n,currentComponentRef:r,navigationAccessibilityLabel:o,navigationHref:a,navigationLabel:i,processingAccessibilityLabel:s,showSpinner:l,state:u,actionIcon:d,navigationIcon:h,onClick:m,buttonId:p,experienceButtonType:g,telemetryProps:f}=e,v=V()(e,bo);return c.createElement(c.Fragment,null,l?c.createElement(Lr,{"aria-label":s,ref:r}):u?c.createElement(Or,E()({"aria-label":o,href:a,icon:h,ref:r,telemetryProps:f},v),i):c.createElement(Nr,E()({"aria-label":t,icon:d,onClick:m,ref:r,telemetryProps:f},v),n))};var wo=n(32943),Ao=n(81525);const ko=["baseProductId","buttonType","cloudPlayButtonAccessibilityLabel","cloudPlayButtonText","nonCatalogUpsellProductId","playLink","upsellProductId","telemetryProps"],Po=e=>{let{baseProductId:t,buttonType:n,cloudServiceUpsells:r,experienceButtonType:o,productSummaryInfo:a,slotNumber:i,upsellProductId:s}=e;var l,u,d;const h=(0,S.EW)(),m=(0,Ao.o)(null!==t&&void 0!==t?t:"",null===(l=a.product)||void 0===l?void 0:l.title),[p,v]=(0,f.QF)("cloudPlayButtonAccessibilityLabelFormat","cloudPlayButtonText"),_=(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:v,id:"CloudPlayButton",slotNumber:i},h);let y,b=m;const C=null===r||void 0===r?void 0:r[0];s||(0,g.Ypc)(C.ServiceId,G.Kf.xcloud)||(b=C.ServicePlayLink,y=C.ServiceId);const T={buttonId:"CloudPlayButton",buttonType:n,behavior:S.cg.OTHER,cloudPlayButtonAccessibilityLabel:(0,g.WUZ)(p,null!==(d=null===(u=a.product)||void 0===u?void 0:u.title)&&void 0!==d?d:""),cloudPlayButtonText:v,playLink:b,telemetryProps:_};switch(o){case Bn.Ug.Desktop:return c.createElement(xo,E()(E()({},T),{},{baseProductId:t,upsellProductId:null!==s&&void 0!==s?s:null===C||void 0===C?void 0:C.UpsellProductId,nonCatalogUpsellProductId:y}));case Bn.Ug.Mobile:return c.createElement(Ro,E()({},T));case Bn.Ug.Overflow:return c.createElement(No,E()({},T));default:return null}},xo=e=>{const{baseProductId:t,buttonType:n=u.L$.Primary,cloudPlayButtonAccessibilityLabel:r,cloudPlayButtonText:o,nonCatalogUpsellProductId:a,playLink:i,upsellProductId:s,telemetryProps:l}=e,d=V()(e,ko),h=(0,v.useSelector)((e=>(0,Pt.tR)(e,t))),{affordingText:m,upsellGlyph:p}=(0,G.vT)({nonCatalogUpsellProductId:a,upsellProductId:s,productEntitlement:(0,ct.getDataOrPrevious)(h)||void 0}),f=(0,g.kgH)(s)===G.OP;return c.createElement(_r,E()({accessibilityLabel:r,buttonType:n,href:i,productGlyph:p,usesUbisoftSVG:f,subtitle:m,title:o.toLocaleUpperCase(),telemetryProps:l},d))},Ro=e=>{const{buttonType:t=u.L$.Primary,cloudPlayButtonAccessibilityLabel:n,cloudPlayButtonText:r,playLink:o,telemetryProps:a}=e;return c.createElement(l.k,E()({as:"a","aria-label":n,buttonType:t,className:mr,href:o},(0,S.iZ)(a)),r.toLocaleUpperCase())},No=e=>c.createElement(Or,{"aria-label":e.cloudPlayButtonAccessibilityLabel,href:e.playLink,icon:wo.Z,telemetryProps:e.telemetryProps},e.cloudPlayButtonText);var Oo=n(27256);const Lo=n.p+"static/media/NvidiaGFNLogoSquare.44ab2593.png",Mo=n.p+"static/media/xCloudLogoSquare.be0ea47b.png";const Do=e=>{let{cloudServiceUpsells:t,contentRef:n,show:r=!1,onHide:o}=e;const[a,i]=(0,f.QF)("backCallToAction","learnMoreText"),s=(0,v.useSelector)(g.gzb),d=(0,v.useSelector)(g.KdS);if(!(null===t||void 0===t?void 0:t.length))return null;const h=s===g.Q2A.Dark?"#201F24":"#ffffff";return c.createElement(x.u_,{show:r,onHide:o,closeable:!0,className:"AvailableCloudStreamingServicesModal-module__modalContainer___HpCS9"},c.createElement(x.u_.Header,null,c.createElement(Uo,null)),c.createElement(x.u_.Body,{className:"AvailableCloudStreamingServicesModal-module__modalBody___QuZF0"},c.createElement(Oo.t8,null,c.createElement("div",E()({className:"AvailableCloudStreamingServicesModal-module__contentContainer___pPm7T"},(0,S.iZ)({id:"AvailableCloudStreamingServicesModal"})),c.createElement(Xe,{className:"AvailableCloudStreamingServicesModal-module__scrollContainer___fYQob",gradientColorOverride:h},c.createElement("ul",{ref:n,className:"AvailableCloudStreamingServicesModal-module__linkList___+lmQJ"},t.map(((e,t)=>{const n=Fo[e.ServiceId.toLowerCase()];return c.createElement("li",{key:e.ServiceId},c.createElement(n,{link:e.ServicePlayLink,slotNumber:t}))})))),c.createElement("div",{className:"AvailableCloudStreamingServicesModal-module__buttonContainer___24hN6"},c.createElement(l.k,E()({as:"button",buttonType:u.L$.Primary,onClick:o},(0,S.iZ)({behavior:S.cg.NAVIGATIONFORWARD,contentType:S.zc.Button,id:"backButton"})),a.toLocaleUpperCase()),c.createElement(l.k,E()({as:"a",buttonType:u.L$.Primary,href:`https://support.xbox.com/${d}/help/games-apps/cloud-gaming/cloud-gaming-on-third-party-services`},(0,S.iZ)({behavior:S.cg.NAVIGATIONFORWARD,contentType:S.zc.Button,id:"learnMoreButton"})),i.toLocaleUpperCase()))))))},Uo=()=>{const e=(0,f.UD)("chooseStreamingPlatformCTA");return c.createElement("h2",{className:s()(P.a2,"AvailableCloudStreamingServicesModal-module__modalHeaderText___Bg+oM")},e)},Bo=e=>{let{link:t,imageUrl:n,isExternalLink:r,message:o,title:i,telemetryProps:h}=e;const m=(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentType:S.zc.Button},h);return c.createElement(l.k,E()({as:"a",href:t,buttonType:u.L$.Primary,className:"AvailableCloudStreamingServicesModal-module__upsellLink___xc9oV"},(0,S.iZ)(m)),c.createElement("img",{src:n,alt:o}),c.createElement("div",{className:"AvailableCloudStreamingServicesModal-module__linkTextContainer___IpHdX"},c.createElement("span",{className:s()("AvailableCloudStreamingServicesModal-module__fontWeightAdjustment___2Y4Mt",P.gC)},i),c.createElement("span",{className:s()("AvailableCloudStreamingServicesModal-module__opacityAdjustment___imSMU",P.Km)},o)),r&&c.createElement(d.JO,{icon:a.Z,iconSize:d.Jh.XXSmall,className:"AvailableCloudStreamingServicesModal-module__linkIcon___zsUWp"}))},Fo={[G.Kf.xcloud]:e=>{let{link:t,slotNumber:n}=e;const[r,o]=(0,f.QF)("xCloudServiceUpsellMessage","xCloudServiceUpsellTitle"),a={id:"XCloudServiceUpsellLink",contentName:o,slotNumber:n};return c.createElement(Bo,{link:t,imageUrl:Mo,message:r,title:o,telemetryProps:a})},[G.Kf.geforcenow]:e=>{let{link:t,slotNumber:n}=e;const[r,o,a]=(0,f.QF)("geforceNowServiceUpsellMessageLong","geforceNowServiceUpsellMessageShort","geforceNowServiceUpsellTitle"),i=(0,x.EX)()>x.JD.XS?r:o,s={id:"GeForceNowServiceUpsellLink",contentName:a,slotNumber:n};return c.createElement(Bo,{link:t,imageUrl:Lo,isExternalLink:!0,message:i,title:a,telemetryProps:s})}},Ho=["buttonType","title"],qo=e=>{const t=Xo(e),[n,r]=(0,c.useState)(!1),o=(0,c.useRef)(null),a=(0,c.useRef)(null),i=(0,Y.mG)(n,(()=>{r(!1)}),o,a);if(!t)return null;let s;switch(e.experienceButtonType){case Bn.Ug.Desktop:s=Go;break;case Bn.Ug.Mobile:s=zo;break;case Bn.Ug.Overflow:s=$o;break;default:return null}return c.createElement(c.Fragment,null,c.createElement(s,E()(E()({},t),{},{buttonRef:o,buttonType:e.buttonType,onClick:()=>{r(!0)}})),c.createElement(Do,{contentRef:a,onHide:i,cloudServiceUpsells:t.cloudServiceUpsells,show:n}))},Go=e=>{const{buttonType:t=u.L$.Primary,title:n}=e,r=V()(e,Ho);return c.createElement(vr,E()({buttonType:t,title:n.toLocaleUpperCase()},r))},zo=e=>{const{accessibilityLabel:t,buttonType:n=u.L$.Primary,buttonRef:r,onClick:o,telemetryProps:a,title:i}=e;return c.createElement(l.k,E()({as:"button","aria-label":t,buttonType:n,className:mr,onClick:o,ref:r},(0,S.iZ)(a)),i.toLocaleUpperCase())},$o=e=>{let{accessibilityLabel:t,buttonRef:n,onClick:r,telemetryProps:o,title:a}=e;return c.createElement(Nr,{"aria-label":t,onClick:r,icon:wo.Z,telemetryProps:o,ref:n},a)},Xo=e=>{let{baseProductId:t,cloudServiceUpsells:n,slotNumber:r}=e;var o;const a=(0,S.EW)(),[i,s]=(0,f.QF)("cloudPlayButtonAccessibilityLabelFormat","cloudPlayButtonText"),c=(0,f.UD)("cloudAvailableServicesText",{Services:(null===n||void 0===n?void 0:n.length)||0}),l=(0,v.useSelector)((e=>(0,Pt.RY)(e,t))),u=(0,S._d)({behavior:S.cg.SHOW,contentName:s,id:"MultiCloudPlayButton",slotNumber:r},a);return{accessibilityLabel:(0,g.WUZ)(i,(null===(o=l.product)||void 0===o?void 0:o.title)||""),subtitle:c,telemetryProps:u,title:s,cloudServiceUpsells:n}};const Vo=e=>{const{listItemAccessibilityFormat:t,preferSkuValues:n,productIdentifiers:r,telemetryProps:o}=e,a=(0,v.useSelector)(g.Xnf).origin,i=(0,v.useSelector)(g.Yzi),s=(0,v.useSelector)((e=>(0,Pt.h$)(e,r))).filter((e=>!!e.product)).filter((e=>!!e.sku));return(null===s||void 0===s?void 0:s.length)?(s.sort(((e,t)=>{const n=e.availability,r=t.availability;return n&&r?n.price.msrp-r.price.msrp:!n&&r?1:n&&!r?-1:0})),c.createElement("ul",{className:"ProductList-module__productList___NJ+7V"},s.map(((e,r)=>{var d,h,m;const{product:p,sku:f,availability:v}=e,_=p.productId,y=p.title,b=r+1,C=t?(0,g.WUZ)(t,n?f.skuTitle:y,b.toString(),s.length.toString()):n?f.skuTitle:y,I=(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:y,id:"ProductListItem",productName:y,productId:_,slotNumber:r,skuId:f.skuId},E()({},o));return c.createElement("li",{key:`ProductListItem_${_}_${f.skuId}`,className:"ProductList-module__productListItem___aq9Xs"},c.createElement(l.k,E()({as:"a","aria-label":C,buttonType:u.L$.Tertiary,href:(0,T.Ok)(a,i,_,y,f.skuId)},(0,S.iZ)(I)),c.createElement(x.Ee,{width:50,height:50,src:n?null===(d=(0,G.GK)(p,f))||void 0===d?void 0:d.url:null===(m=null===(h=p.images)||void 0===h?void 0:h.boxArt)||void 0===m?void 0:m.url,alt:n?f.skuTitle:y}),c.createElement("div",null,c.createElement("div",{className:P.uo},n?f.skuTitle:y),c.createElement("div",{className:P.S7},c.createElement(G.VO,{hasAddOns:p.hasAddOns,satisfyingPassId:p.optimalSatisfyingPassId,productPrice:null===v||void 0===v?void 0:v.price,listedPriceClassName:"ProductList-module__listedPrice___RF-qv"})))))})))):null},Wo=["buttonAccessibilityLabel","buttonId","buttonType","subTitle","telemetryProps","title"],jo=e=>{const{buttonAccessibilityLabel:t,buttonId:n,buttonType:r=u.L$.Primary,subTitle:o,telemetryProps:a,title:i}=e,l=V()(e,Wo);let d="DropDownProductListButton-module__oneLineDropDownListButton___CJZI3";return o&&(d="DropDownProductListButton-module__twoLineDropDownListButton___DCYH5"),c.createElement(ae,null,c.createElement(ae.Button,{accessibilityLabel:t,buttonId:n,buttonType:r,className:s()([d,dr]),telemetryProps:a,showArrow:!0},c.createElement("div",{className:"DropDownProductListButton-module__dropDownListButtonTitleContainer___NJ8s0"},c.createElement("div",{className:P.uo},i),o&&c.createElement("div",{className:s()(P.S7,"DropDownProductListButton-module__dropDownProductListSubtitle___xuHs5")},o))),c.createElement(ae.Flyout,null,c.createElement(Vo,E()(E()({},l),{},{telemetryProps:a}))))};const Ko=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M1936 256q23 0 43 9t36 24 24 35 9 44v1184q0 23-9 43t-24 36-35 24-44 9H112q-23 0-43-9t-36-24-24-35-9-44V368q0-23 9-43t24-36 35-24 44-9h1824zm-16 128H640v139q33-11 64-11 40 0 75 15t61 41 41 61 15 75q0 31-11 64h1035V384zM384 704q0 26 19 45t45 19h64v-64q0-26-19-45t-45-19q-26 0-45 19t-19 45zm320 64q26 0 45-19t19-45q0-26-19-45t-45-19q-26 0-45 19t-19 45v64h64zM128 384v384h139q-11-33-11-64 0-40 15-75t41-61 61-41 75-15q31 0 64 11V384H128zm0 1152h384V987l-147 146-90-90 146-147H128v640zm1792 0V896H731l146 147-90 90-147-146v549h1280z"}))};const Zo=e=>{const{accessibilityLabel:t,availabilityId:n,buttonType:r=u.L$.Primary,productId:o,showModal:a,skuId:i,enableReactGiftFlow:l,telemetryProps:d,hideModal:h,onClick:m}=e,p=(0,c.useRef)(null),g=(0,c.useRef)(null),f=(0,Y.mG)(a,h,p,g);return c.createElement(c.Fragment,null,c.createElement(Je.$,E()({as:"button","aria-label":t,buttonType:r,className:s()([hr,dr]),onClick:m,icon:Ko,ref:p,title:t},(0,S.iZ)(d))),l?c.createElement(Jr,{contentRef:g,hasAddOns:!1,onResult:f,showModal:a,productId:o,skuId:i,availabilityId:n,experience:Cn.Purchase,scenario:Sn.Gift}):c.createElement(ea,{productId:o,skuId:i,availabilityId:n,contentRef:g,showModal:a,onComplete:f}))},Yo=e=>{const{accessibilityLabel:t,actionOverride:n,availabilityId:r,buttonType:o=u.L$.Primary,enableReactGiftFlow:a,hideModal:i,onClick:d,productId:h,showModal:m,skuId:p,telemetryProps:g}=e,v=(0,c.useRef)(null),_=(0,c.useRef)(null),y=(0,f.iV)("giftActionText"),b=(0,Y.mG)(m,i,v,_);return c.createElement(c.Fragment,null,c.createElement(l.k,E()({as:"button","aria-label":t,buttonType:o,className:s()([ir,dr,P.uo]),onClick:null!==n&&void 0!==n?n:d,ref:v},(0,S.iZ)(g)),y.toLocaleUpperCase()),a?c.createElement(Jr,{contentRef:_,hasAddOns:!1,onResult:b,showModal:m,productId:h,skuId:p,availabilityId:r,experience:Cn.Purchase,scenario:Sn.Gift}):c.createElement(ea,{productId:h,skuId:p,availabilityId:r,contentRef:_,showModal:m,onComplete:b}))},Qo=e=>{const{accessibilityLabel:t,availabilityId:n,buttonType:r=u.L$.Primary,productId:o,showModal:a,skuId:i,enableReactGiftFlow:s,telemetryProps:d,hideModal:h,onClick:m}=e,p=(0,f.iV)("giftActionText"),g=(0,c.useRef)(null),v=(0,c.useRef)(null),_=(0,Y.mG)(a,h,g,v);return c.createElement(c.Fragment,null,c.createElement(l.k,E()({as:"button","aria-label":t,buttonType:r,className:mr,onClick:m,ref:g},(0,S.iZ)(d)),p.toLocaleUpperCase()),s?c.createElement(Jr,{contentRef:v,hasAddOns:!1,onResult:_,showModal:a,productId:o,skuId:i,availabilityId:n,experience:Cn.Purchase,scenario:Sn.Gift}):c.createElement(ea,{productId:o,skuId:i,availabilityId:n,contentRef:v,showModal:a,onComplete:_}))},Jo=e=>{const{accessibilityLabel:t,actionOverride:n,availabilityId:r,productId:o,showModal:a,skuId:i,enableReactGiftFlow:s,telemetryProps:l,hideModal:u,onClick:d}=e,h=(0,f.iV)("giftActionText"),m=(0,c.useRef)(null);return c.createElement(c.Fragment,null,c.createElement(Nr,{"aria-label":t,onClick:n||d,icon:Ko,telemetryProps:l},h),c.createElement(Tr,null,(e=>{const t=()=>{e.closeDialog(),u()};return c.createElement(c.Fragment,null,s?c.createElement(Jr,{contentRef:m,hasAddOns:!1,onResult:t,showModal:a,productId:o,skuId:i,availabilityId:r,experience:Cn.Purchase,scenario:Sn.Gift}):c.createElement(ea,{productId:o,skuId:i,availabilityId:r,showModal:a,onComplete:t}))})))},ea=e=>{const t=(0,f.iV)("giftActionText");return c.createElement(c.Fragment,null,e.showModal&&c.createElement(x.u_,{show:e.showModal,className:"GiftButton-module__widthOverride___GwTlJ",ariaLabel:t},c.createElement(A,{productId:e.productId,skuId:e.skuId,availabilityId:e.availabilityId,onComplete:e.onComplete})))};var ta=n(66962);const na="#1b1c1e";var ra;!function(e){e[e.DefaultXbox=0]="DefaultXbox",e[e.XboxSeriesX=1]="XboxSeriesX",e[e.XboxSeriesS=2]="XboxSeriesS",e[e.XboxOne=3]="XboxOne",e[e.XboxOneS=4]="XboxOneS",e[e.XboxOneSDigital=5]="XboxOneSDigital",e[e.XboxOneX=6]="XboxOneX",e[e.PC=7]="PC"}(ra||(ra={}));const oa=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M36.98 8.067a.5.5 0 01.42-.037l.08.037 26.305 15.182.069.057.039.043.031.045a.5.5 0 01.074.22l.002.046v9.15a.5.5 0 01-.178.382l-.072.051-18.252 10.539-.058.041-18.42 10.63-2.57 1.48a.5.5 0 01-.42.037l-.08-.037-23.7-13.68a.5.5 0 01-.242-.345L0 41.82V29.7c0-.092.025-.185.075-.265l.044-.06.037-.039.058-.046.036-.023 36.73-21.2zM1 30.566v10.965l23.2 13.391 2.07-1.192v-3.72l-2.31-1.34v-1.73l2.31 1.337v-3.119L1 30.566zm43.668 9.396L27.27 50.009v3.144l17.418-10.058-.02-3.133zm-.032-4.83L27.27 45.158v3.118l17.386-10.04-.02-3.104zM18.87 19.677L1.5 29.7l25.269 14.592 17.36-10.024L18.87 19.677zm44.129 4.849L45.631 34.557l.053 7.963 17.315-9.999v-7.995zM37.23 9.077L19.867 19.099l25.261 14.592L62.499 23.66 37.23 9.077zm22.33 20.601c.388-.674 1.022-1.037 1.414-.81.392.226.395.956.005 1.63-.389.675-1.023 1.038-1.415.811-.392-.226-.394-.956-.005-1.63z"}))};const aa=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M36.98 9.097a.5.5 0 01.42-.037l.08.037 26.303 15.18.057.046.053.056.031.045a.5.5 0 01.074.22l.002.046v6.96a.5.5 0 01-.178.382l-.072.051-2.701 1.558.001 1.039-34.28 19.79L1.36 39.8l-.001-1.037-1.109-.64a.5.5 0 01-.242-.345L0 37.69v-6.95a.5.5 0 01.075-.265l.043-.06.045-.045.052-.04.035-.023L18.6 19.71l.02-.013 18.36-10.6zM1 31.606v5.795l25.27 14.583v-5.795L1 31.606zm43.63 8.032l-17.36 10.03v2.315l17.36-10.02v-2.325zm0-3.475L27.27 46.188v2.325l17.36-10.029v-2.321zM18.871 20.708L1.5 30.739l25.27 14.583 17.358-10.024-25.257-14.59zM63 25.555L45.63 35.588v5.798L63 31.36v-5.805zm-.501-.865L37.23 10.107 19.87 20.131l25.258 14.59L62.499 24.69zm-3 4.97c.389-.674 1.023-1.037 1.415-.81.392.226.394.956.005 1.63-.39.675-1.023 1.038-1.415.811-.392-.226-.395-.956-.005-1.63z"}))};const ia=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M36.98 9.097a.5.5 0 01.42-.037l.08.037 26.303 15.18.057.046.053.056.031.045a.5.5 0 01.074.22l.002.046v6.96a.5.5 0 01-.178.382l-.072.051-2.701 1.558.001 1.039-34.28 19.79L1.36 39.8l-.001-1.037-1.109-.64a.5.5 0 01-.242-.345L0 37.69v-6.95a.5.5 0 01.075-.265l.043-.06.045-.045.052-.04.035-.023L18.6 19.71l.02-.013 18.36-10.6zM1 31.606v5.795l25.27 14.583v-5.795L1 31.606zm43.63 4.557L27.27 46.188v5.795l17.36-10.02v-5.8zM18.871 20.708L1.5 30.739l25.27 14.583 17.358-10.024-25.257-14.59zM63 25.555L45.63 35.588v5.798L63 31.36v-5.805zm-.501-.865L37.23 10.107 19.87 20.131l25.258 14.59L62.499 24.69zm-3 4.97c.389-.674 1.023-1.037 1.415-.81.392.226.394.956.005 1.63-.39.675-1.023 1.038-1.415.811-.392-.226-.395-.956-.005-1.63z"}))};const sa=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M36.98 8.517a.5.5 0 01.42-.037l.08.037 26.283 15.178.06.042.059.059.042.058a.5.5 0 01.074.217l.002.049v9.72a.5.5 0 01-.178.382l-.072.051-33.04 19.08a.494.494 0 01-.425.035l-.076-.036-2.143-1.244-1.085.625-.07.027-.082.017-.097.002-.08-.012-.045-.014a.499.499 0 01-.087-.04l.067.032-.029-.012L.25 37.543a.5.5 0 01-.242-.345L0 37.11v-6.95l.007-.084a.498.498 0 01.068-.181l.043-.06.045-.045.052-.04.035-.023 36.73-21.21zm26.019 25.034v-1.615l-32.04 18.501v1.617l32.04-18.503zM29.96 51.014l-.895.517.895.52v-1.037zM1 31.026v5.795l25.27 14.593v-5.796L1 31.026zm61.999-.245v-5.795L27.27 45.617v5.796l2.868-1.655.072-.051L63 30.781zM37.229 9.527L1.5 30.159l25.27 14.583L62.5 24.119 37.229 9.527zm22.33 19.521c.39-.674 1.023-1.038 1.416-.811.392.226.394.957.005 1.631-.39.674-1.023 1.037-1.415.811-.393-.226-.395-.957-.006-1.631z"}))};const ca=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M25.48.067A.5.5 0 0125.9.03l.08.037L48.046 12.81l.068.056.039.043.031.045c.05.081.076.174.076.266v44.8a.5.5 0 01-.178.382l-.072.051-9.49 5.48a.495.495 0 01-.265.067.487.487 0 01-.178-.027l-.087-.04-22-12.72a.5.5 0 01-.242-.345l-.008-.088V5.99a.496.496 0 01.172-.388l.078-.055 9.49-5.48zm-8.741 6.798v43.626l21 12.142V18.988l-21-12.123zm30.521 7.22l-8.49 4.903v43.645l8.49-4.902V14.085zm-26.2 2.253c3.583-2.069 9.163 1.152 12.563 7.042 3.4 5.89 3.4 12.332-.184 14.401-3.584 2.07-9.163-1.152-12.564-7.041-3.4-5.89-3.4-12.333.184-14.402zm11.697 7.542c-3.16-5.475-8.22-8.395-11.198-6.676-2.978 1.72-2.978 7.561.182 13.036 3.161 5.474 8.22 8.395 11.198 6.675 2.978-1.72 2.979-7.56-.182-13.035zm7.81-3.595c.39-.674 1.024-1.037 1.416-.81.392.226.395.956.005 1.63-.39.675-1.023 1.038-1.415.812-.392-.227-.394-.957-.005-1.632zM25.73 1.077L17.24 5.979l21.03 12.143 8.489-4.902-21.03-12.143z"}))};const la=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M31.75.067a.5.5 0 01.42-.037l.08.037 17.555 10.132.069.057.039.043.031.045a.5.5 0 01.074.22l.002.046v42.78a.5.5 0 01-.178.382l-.072.051-14.6 8.42-2.957 1.71-.054.021-.08.02-.097.006-.06-.006-.082-.02-.075-.033L14.23 53.823a.5.5 0 01-.242-.345l-.008-.088V10.61l.007-.084a.498.498 0 01.068-.181l.044-.06.044-.045.052-.04.035-.023L31.75.067zM14.98 11.476v41.625l16.52 9.533V21.018l-16.52-9.542zM49.02 53.1V11.475L32.5 21.018v41.614l2.17-1.255L49.02 53.1zM34.257 22.88c.39-.675 1.023-1.038 1.415-.811.393.226.395.956.005 1.63-.389.675-1.022 1.038-1.415.812-.392-.227-.394-.957-.005-1.631zM32 1.077L15.479 10.61 32 20.152l16.52-9.542L32 1.077z"}))};const ua=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M0 29.74a.5.5 0 01.075-.265l.043-.06.045-.045.052-.04.035-.023 36.73-21.21a.5.5 0 01.42-.037l.08.037 26.305 15.182.069.057.039.043.031.045a.5.5 0 01.074.22l.002.046v9.96a.5.5 0 01-.178.382l-.072.051-36.745 21.208-.072.032-.105.024-.095.002-.078-.012-.069-.022-.066-.032L.25 40.123a.5.5 0 01-.242-.345L0 39.69v-9.95zm62.999 3.621v-8.805L27.27 45.188v8.795l35.729-20.622zm-62-2.756V39.4l25.27 14.583v-8.795L.999 30.605zm36.23-21.498L1.5 29.739l25.27 14.583L62.499 23.69 37.229 9.107z"}))};var da=n(81895),ha=n(62638),ma=n(1489),pa="DeviceItem-module__iconDevice___qM-eC",ga="DeviceItem-module__itemContainer___LUQza",fa="DeviceItem-module__title___z1IA+";const va=e=>{const{hasSufficientFreeSpace:t,isChecked:n,deviceType:r=ra.DefaultXbox,deviceName:o,devicePowerStatus:a,deviceFreeStorage:i,usedStorageSpacePercentage:l,className:u,onClick:h}=e,m=()=>{t&&(null===h||void 0===h||h(!n))};return c.createElement("div",{role:"checkbox","aria-checked":n?"true":"false",onClick:m,onKeyDown:e=>{((0,g.Ypc)(e.key,"spacebar")||(0,g.Ypc)(e.key," ")||(0,g.Ypc)(e.key,"enter"))&&(m(),e.stopPropagation(),e.preventDefault())},tabIndex:t?0:-1,className:s()([ga,"DeviceItem-module__itemContainerFocusStates___RIefB",u])},c.createElement("div",{className:"DeviceItem-module__iconContainer___kr1By"},(e=>{switch(e){case ra.XboxOne:return c.createElement(d.JO,{iconSize:d.Jh.Custom,className:pa,icon:oa});case ra.XboxOneS:return c.createElement(d.JO,{iconSize:d.Jh.Custom,className:pa,icon:aa});case ra.XboxOneSDigital:return c.createElement(d.JO,{iconSize:d.Jh.Custom,className:pa,icon:ia});case ra.XboxOneX:return c.createElement(d.JO,{iconSize:d.Jh.Custom,className:pa,icon:sa});case ra.XboxSeriesS:return c.createElement(d.JO,{iconSize:d.Jh.Custom,className:pa,icon:ca});case ra.XboxSeriesX:return c.createElement(d.JO,{iconSize:d.Jh.Custom,className:pa,icon:la});case ra.PC:return c.createElement(d.JO,{iconSize:d.Jh.Custom,className:pa,icon:x.Gr});case ra.DefaultXbox:default:return c.createElement(d.JO,{iconSize:d.Jh.Custom,className:pa,icon:ua})}})(r)),c.createElement("div",{className:"DeviceItem-module__infoContainer___jUQEC"},c.createElement("div",{className:fa},o),a&&c.createElement("div",{className:"DeviceItem-module__subtitle___wJkrQ"},a),void 0!==l&&c.createElement("div",{className:"DeviceItem-module__storageComponents___rhlcd"},c.createElement("div",{className:"DeviceItem-module__availableSpaceMeter___ysdnM"},c.createElement("div",{className:s()("DeviceItem-module__availableSpaceMeterValue___jyxtv",t?void 0:"DeviceItem-module__error___9gepr"),style:{width:`${l}%`}})),c.createElement("div",{className:fa},!t&&c.createElement(d.JO,{iconSize:d.Jh.Custom,className:"DeviceItem-module__iconWarning___ArYA7",icon:da.Z}),i))),c.createElement(d.JO,{iconSize:d.Jh.Custom,className:"DeviceItem-module__checkbox___M2qVf",icon:n?ha.Z:ma.Z}),!t&&c.createElement("div",{className:"DeviceItem-module__alertStrip___wdn7P"}))},_a=e=>{var t;const{device:n,isChecked:r,isPc:o,requiredSpace:a,className:i,onClick:s}=e,l={deviceName:n.name,deviceType:ra.PC,isChecked:r,hasSufficientFreeSpace:!0},[u,d,h,m]=(0,f.QF)("installScreenConsoleStateOn","installScreenConsoleStateOff","installScreenConsoleStateUnknown","installScreenFreeStorageTemplate");let p,v;if(!o){l.deviceType=(e=>{switch(e){case Bn.ky.XboxSeriesS:return ra.XboxSeriesS;case Bn.ky.XboxSeriesX:case Bn.ky.XboxSeriesXDevKit:return ra.XboxSeriesX;case Bn.ky.XboxOne:return ra.XboxOne;case Bn.ky.XboxOneS:return ra.XboxOneS;case Bn.ky.XboxOneSDigital:return ra.XboxOneSDigital;case Bn.ky.XboxOneX:case Bn.ky.XboxOneXDevKit:return ra.XboxOneX;default:return}})(n.consoleType);const e=null===(t=n.storage)||void 0===t?void 0:t.filter((e=>e.isDefault))[0];switch(p=(null===e||void 0===e?void 0:e.freeSpaceBytes)||0,v=(null===e||void 0===e?void 0:e.totalSpaceBytes)||0,l.hasSufficientFreeSpace=a<=p,l.usedStorageSpacePercentage=((e,t)=>Math.ceil((t-e)/t*100))(p,v),n.state.powerState){case Bn.Y$.On:case Bn.Y$.ConnectedStandby:l.devicePowerStatus=u;break;case Bn.Y$.Off:l.devicePowerStatus=d;break;default:l.devicePowerStatus=h}}const _=(0,Y.WV)(p,1024,0)||"",y=(0,Y.WV)(v,1024,0)||"";return l.deviceFreeStorage=_&&y?(0,g.WUZ)(m,_,y):"",c.createElement(va,E()({className:i,onClick:s},l))},ya=e=>c.createElement("div",{className:s()([ga,e.className])});var ba="InstallScreen-module__bodyText2___cmbvC",Ea="InstallScreen-module__contentContainer___Dzlkm",Ca="InstallScreen-module__contentTitleMargin___txpE0",Sa="InstallScreen-module__deviceItemMargin___c8nu+",Ta="InstallScreen-module__deviceList___oZG0s",Ia="InstallScreen-module__subTitle___qU0xx",wa="InstallScreen-module__tab___+Npdi";const Aa=e=>{const{firstParagraphText:t,headingText:n,secondParagraphText:r}=e;return c.createElement("div",{className:Ca},c.createElement("div",{className:s()(P.F$,Ia)},n),c.createElement("div",{className:s()(P.RO,ba)},t),c.createElement("div",{className:s()(P.RO,ba)},r))},ka=e=>{const{devices:t,devicesArePcs:n,maxInstallSize:r,selectedDeviceId:o,setSelectedDeviceId:a}=e,{installScreenEmptyConsoleTabHeading:i,installScreenEmptyConsoleUpsellText:l,installScreenEmptyConsoleInstructionsText:u,installScreenReadyToInstall:d}=(0,f.y_)("installScreenEmptyConsoleTabHeading","installScreenEmptyConsoleUpsellText","installScreenEmptyConsoleInstructionsText","installScreenReadyToInstall");return 0===t.length?c.createElement(Aa,{firstParagraphText:l,headingText:i,secondParagraphText:u}):c.createElement(c.Fragment,null,c.createElement("div",{className:s()(P.Gg,"InstallScreen-module__readyMessageMargin___pTAud")},d),c.createElement(Xe,{className:Ta,gradientColorOverride:na},t.map((e=>c.createElement(_a,{key:e.id,className:Sa,device:e,isChecked:o===e.id,isPc:n,requiredSpace:r||0,onClick:t=>{a(t?e.id:"")}})))))};const Pa=()=>{const{remoteConsoleLoadErrorHeading:e,reloadPageRequestMessage:t}=(0,f.y_)("remoteConsoleLoadErrorHeading","reloadPageRequestMessage");return c.createElement(c.Fragment,null,c.createElement("div",{className:s()(Ea,Ca)},c.createElement("div",null,c.createElement("div",{className:"InstallErrorScreen-module__warningSign___OqVjo"},"\u26a0"),c.createElement("div",{className:s()(P.F$,Ia)},e)),c.createElement("div",{className:s()(P.RO,ba)},t)))},xa=()=>{const e=(0,f.iV)("loadingText");return c.createElement("div",null,c.createElement("div",{className:s()(P.Gg,Ca)},e),c.createElement(Xe,{className:Ta,gradientColorOverride:na},c.createElement(ya,{className:Sa}),c.createElement(ya,{className:Sa}),c.createElement(ya,{className:Sa})))};var Ra,Na=n(55240),Oa="InstallScreenButtons-module__shimmerAddons___QQWaC";!function(e){e[e.Install=0]="Install",e[e.Launch=1]="Launch",e[e.Reload=2]="Reload",e[e.LearnMore=3]="LearnMore"}(Ra||(Ra={}));const La=e=>{const{devicesArePcs:t,primaryButtonState:n,productId:r,selectedDeviceId:o,onCancelClicked:a,onInstallClicked:i}=e,s=(0,v.useDispatch)(),{installScreenCancelButtonText:d,installScreenInstallButtonText:h,installScreenLaunchButtonText:m,learnMoreText:p,reloadPageButtonText:_}=(0,f.y_)("installScreenCancelButtonText","installScreenInstallButtonText","installScreenLaunchButtonText","learnMoreText","reloadPageButtonText");let y,b,E,C;switch(n){case Ra.Install:y=!o,b=()=>{s(Na.w.queueInstall.start(o,[r],t)),null===i||void 0===i||i()},E=h;break;case Ra.Launch:y=!(0,g.lXB)(),b=()=>{window.location.href=`msxbox://game/?productId=${r}`,null===i||void 0===i||i()},E=m;break;case Ra.LearnMore:y=!1,C=T.n_,E=p;break;case Ra.Reload:default:y=!1,b=()=>{"undefined"!==typeof location&&location.reload()},E=_}return c.createElement("div",{className:"InstallScreenButtons-module__buttonContainer___wa-9b"},c.createElement(l.k,{as:"button",buttonType:u.L$.Primary,onClick:a},d),C?c.createElement(l.k,{as:"a","aria-label":E,buttonType:u.L$.Brand,href:C,target:"_blank"},E.toLocaleUpperCase()):c.createElement(l.k,{as:"button",disabled:y,buttonType:u.L$.Brand,onClick:b},E.toLocaleUpperCase()))},Ma=()=>c.createElement("div",{className:"InstallScreenButtons-module__loadingPanel___q8RDT"},c.createElement("div",{className:s()(nt.f8,Oa,"InstallScreenButtons-module__shimmerBackground1___LHUZF")}),c.createElement("div",{className:s()(nt.f8,Oa,"InstallScreenButtons-module__shimmerBackground2___YNYl4")})),Da=["children","className","contentRef","productId","onCancelClicked","onInstallClicked"],Ua=(e,t)=>{var n;return!!(null===(n=null===e||void 0===e?void 0:e.availableOn)||void 0===n?void 0:n.filter((e=>e.toLowerCase().includes(t))).length)},Ba=e=>{const t=(0,v.useDispatch)(),[n,r]=(0,c.useState)(""),[o,a]=(0,c.useState)(0),i=(0,v.useSelector)((e=>(0,Pt.D)(e))),l=(0,v.useSelector)((e=>(0,Pt.Hj)(e))),u=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableRemoteInstallToPc))),{contentRef:d,productId:h,onCancelClicked:m,onInstallClicked:p}=e,{installScreenConsoleTabText:_,installScreenPcTabText:y,installScreenPcTabHeading:b,installScreenPcAppUpsellText:E,installScreenPcAppRequiresText:C}=(0,f.y_)("installScreenConsoleTabText","installScreenPcTabText","installScreenPcTabHeading","installScreenPcAppUpsellText","installScreenPcAppRequiresText");(0,c.useEffect)((()=>{t(Pt.wx.fetchDevices.start())}),[]);const S=(0,v.useSelector)((e=>(0,Pt.th)(e,h))),T=(0,Y.WV)((null===S||void 0===S?void 0:S.maxInstallSize)||0,1024,2)||"",I=S?(0,G.GK)(S):void 0,w=Ua(S,"pc"),A=Ua(S,"xbox"),k=w&&A&&(0,g.lXB)();(0,c.useEffect)((()=>{(!k&&A||0===o)&&((0,ct.isError)(l)?O(Ra.Reload):(0,ct.isContent)(l)&&(0===l.data.length?O(Ra.LearnMore):O(Ra.Install)))}),[l,o,k,A]),(0,c.useEffect)((()=>{(!k&&w||1===o)&&(u?(0,ct.isError)(i)?O(Ra.Reload):(0,ct.isContent)(i)&&(0===i.data.length?O(Ra.LearnMore):O(Ra.Install)):O(Ra.Launch))}),[i,o,k,w,u]);const R=A||u?Ra.Install:Ra.Launch,[N,O]=(0,c.useState)(R),L=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u||!t?(0,ct.lceSelect)(e,{content:()=>c.createElement(La,{devicesArePcs:t,onCancelClicked:m,onInstallClicked:p,primaryButtonState:N,productId:h,selectedDeviceId:n}),isFetching:()=>c.createElement(Ma,null)}):c.createElement(La,{devicesArePcs:t,onCancelClicked:m,onInstallClicked:p,primaryButtonState:N,productId:h,selectedDeviceId:n})},M=c.createElement(c.Fragment,null,c.createElement("div",{className:Ea},(0,ct.lceSelect)(l,{default:()=>c.createElement(c.Fragment,null),content:e=>{let{data:t}=e;return c.createElement(ka,{devices:t,maxInstallSize:null===S||void 0===S?void 0:S.maxInstallSize,selectedDeviceId:n,setSelectedDeviceId:r})},error:()=>c.createElement(Pa,null),isFetching:()=>c.createElement(xa,null)})),L(l)),D=c.createElement(c.Fragment,null,c.createElement("div",{className:Ea},u?(0,ct.lceSelect)(i,{default:()=>c.createElement(c.Fragment,null),content:e=>{let{data:t}=e;return c.createElement(ka,{devices:t,devicesArePcs:!0,maxInstallSize:null===S||void 0===S?void 0:S.maxInstallSize,selectedDeviceId:n,setSelectedDeviceId:r})},error:()=>c.createElement(Pa,null),isFetching:()=>c.createElement(xa,null)}):c.createElement(Aa,{firstParagraphText:E,headingText:b,secondParagraphText:C})),L(i,!0));return c.createElement("div",{className:"InstallScreen-module__container___MXKqq",ref:d},c.createElement("div",{className:"InstallScreen-module__backgroundImageContainer___nOCO2"},c.createElement(x.Ee,{className:"InstallScreen-module__backgroundImage___chH6m",src:null===I||void 0===I?void 0:I.url,width:270,height:270,fluid:!0})),c.createElement("div",{className:"InstallScreen-module__backgroundOverlay___wDs1A"}),c.createElement("div",{className:"InstallScreen-module__productContainer___hrUA4"},c.createElement("div",{className:"InstallScreen-module__boxArt___AXg4O"},c.createElement(x.Ee,{className:"shadow",width:136,height:136,src:null===I||void 0===I?void 0:I.url,alt:null===I||void 0===I?void 0:I.caption,fluid:!0})),c.createElement("div",{className:"InstallScreen-module__gameDetailsContainer___qMQ+F"},c.createElement("div",{className:s()(P.hO,"InstallScreen-module__productTitle___ysrdw")},null===S||void 0===S?void 0:S.title),c.createElement("div",{className:P.Gg},T))),k?c.createElement(bt,{onSelectedIndexChanged:e=>{a(e)},className:"InstallScreen-module__tabContainer___VYgvu"},c.createElement(yt,{className:wa,key:"Console",title:_},M),c.createElement(yt,{className:wa,key:"PC",title:y},D)):c.createElement("div",{className:"InstallScreen-module__nonTabbedDisplay___AnG4H"},c.createElement(c.Fragment,null,A?M:D)))},Fa=e=>{const{children:t,className:n,contentRef:r,productId:o,onCancelClicked:a,onInstallClicked:i}=e,s=V()(e,Da),l=(0,f.iV)("installButtonText");return c.createElement(x.u_,E()(E()({className:"InstallScreen-module__modal___yYBN1"},s),{},{ariaLabel:l}),c.createElement(Ba,{contentRef:r,productId:o,onCancelClicked:a,onInstallClicked:i}))};const Ha=e=>{var t,n,r,o;const{onRetryClicked:a,onCancelClicked:i,installOperation:d}=e,[h,m,p,v,_]=(0,f.QF)("installErrorDetailsHeading","installErrorDetailsMessage","installRetryButtonText","cancelButtonText","errorCodeTemplate"),y=(null===(t=d.error)||void 0===t?void 0:t.errorCode)||(null===(o=null===(r=null===(n=d.error)||void 0===n?void 0:n.originalError)||void 0===r?void 0:r.response)||void 0===o?void 0:o.status);return c.createElement("div",{className:"InstallErrorDialog-module__contentContainer___SrfDw"},c.createElement("div",{className:P.Gg},h),c.createElement("div",{className:P.RO},m),y&&c.createElement("div",{className:s()(P.RO,"InstallErrorDialog-module__errorMessageOpacity___yP91k")},(0,g.WUZ)(_,y)),c.createElement("div",{className:"InstallErrorDialog-module__buttonRow___sO5Xc"},c.createElement(l.k,{as:"button",buttonType:u.L$.Primary,onClick:a},p),c.createElement(l.k,{as:"button",buttonType:u.L$.Primary,onClick:i},v)))};var qa="InstallInfoBanner-module__container___3up4S";const Ga=(e,t)=>c.createElement("span",{className:P.S7},e," ",c.createElement("span",{className:"InstallInfoBanner-module__fadedCaption___FVtGQ"},t)),za=e=>{const{productId:t}=e,[n,r]=(0,c.useState)(!1),o=(0,v.useSelector)((e=>(0,Pt.ik)(e,t))),a=(0,v.useSelector)((e=>(0,Pt.Me)(e,(null===o||void 0===o?void 0:o.deviceId)||""))),{installStatusErrorMessage:i,installStatusPendingCaption:l,installStatusSuccessCaption:h}=(0,f.y_)("installStatusErrorMessage","installStatusPendingCaption","installStatusSuccessCaption");if(!o)return null;const m=()=>r(!1);switch(o.operationStatus){case Bn.oo.Pending:return c.createElement("div",{className:qa},c.createElement(se,null),Ga(l,a));case Bn.oo.ConsoleError:case Bn.oo.Error:case Bn.oo.TimedOut:{const e={behavior:S.cg.EXPAND,contentName:i,id:"InstallInfoBannerErrorButton"};return c.createElement(c.Fragment,null,c.createElement(ae,null,c.createElement(ae.Button,{accessibilityLabel:i,buttonType:u.L$.Primary,className:s()(qa,"InstallInfoBanner-module__actionableContainer___uZc9s"),telemetryProps:e},Ga(i),c.createElement(d.JO,{iconSize:d.Jh.XXSmall,icon:et.Z})),c.createElement(ae.Flyout,null,c.createElement(ne,null,(e=>c.createElement(Ha,{onRetryClicked:()=>{r(!0),e.closeFlyout()},onCancelClicked:e.closeFlyout,installOperation:o}))))),c.createElement(Fa,{onCancelClicked:m,onInstallClicked:m,onHide:m,productId:t,show:n,closeable:!0}))}case Bn.oo.Succeeded:return c.createElement("div",{className:qa},Ga(h,a));default:return null}};var $a=n(68174),Xa="InstallButton-module__opaque___eX5ct";const Va=["baseProductId","buttonTitle","buttonRef","buttonType","upsellProductId","openModal","isTrial","telemetryProps"],Wa=e=>{let{baseProductId:t,buttonTitle:n,buttonRef:r,buttonType:o=u.L$.Primary,upsellProductId:a,openModal:i,isTrial:s,telemetryProps:l}=e,d=V()(e,Va);const h=(0,v.useSelector)((e=>(0,Pt.tR)(e,t))),{affordingText:m,upsellGlyph:p}=(0,G.vT)({upsellProductId:a,isTrial:s,productEntitlement:(0,ct.getDataOrPrevious)(h)||void 0}),f=(0,g.kgH)(a)===G.OP;return c.createElement(vr,E()({accessibilityLabel:n,buttonRef:r,buttonType:o,onClick:i,productGlyph:p,usesUbisoftSVG:f,subtitle:m,telemetryProps:l,title:n.toLocaleUpperCase()},d))},ja=e=>{let{buttonTitle:t,buttonRef:n,buttonType:r=u.L$.Primary,telemetryProps:o,openModal:a}=e;return c.createElement(l.k,E()({as:"button",buttonType:r,className:mr,onClick:a,ref:n},(0,S.iZ)(o)),t.toLocaleUpperCase())},Ka=e=>{let{openModal:t,installOperation:n,telemetryProps:r}=e;const o=(0,v.useDispatch)(),{installStatusErrorTitle:a,installStatusErrorSubtitle:i,installErrorButtonAccessibilityLabel:l}=(0,f.y_)("installStatusErrorTitle","installStatusErrorSubtitle","installErrorButtonAccessibilityLabel"),d=()=>{t(),o(Na.w.clearOperationStatus(n))},h=E()(E()({},r),{},{contentName:a,id:"InstallErrorButton"});return c.createElement(ae,null,c.createElement(ae.Button,{accessibilityLabel:l,buttonType:u.L$.Primary,className:lr,telemetryProps:h},c.createElement("div",{className:P.uo},a),c.createElement("div",{className:s()(P.S7,Xa)},i)),c.createElement(ae.Flyout,null,c.createElement(ne,null,(e=>c.createElement(Ha,{onRetryClicked:d,onCancelClicked:e.closeFlyout,installOperation:n})))))},Za=e=>{let{baseProductId:t}=e;const{installStatusPendingTitle:n}=(0,f.y_)("installStatusPendingTitle"),r=(0,v.useSelector)((e=>(0,$a.ik)(e,t))),o=(0,v.useSelector)((e=>(0,$a.Me)(e,(null===r||void 0===r?void 0:r.deviceId)||"")));return c.createElement(l.k,{as:"button",buttonType:u.L$.Primary,className:pr,disabled:!0},c.createElement("div",{className:"InstallButton-module__progressContainer___JhBBL"},c.createElement(se,null),c.createElement("div",{className:P.uo},n)),c.createElement("div",{className:s()(P.S7,Xa)},o))},Ya=e=>{let{baseProductId:t}=e;const{installStatusSuccessTitle:n}=(0,f.y_)("installStatusSuccessTitle"),r=(0,v.useSelector)((e=>(0,$a.ik)(e,t))),o=(0,v.useSelector)((e=>(0,$a.Me)(e,(null===r||void 0===r?void 0:r.deviceId)||"")));return c.createElement(l.k,{as:"button",buttonType:u.L$.Primary,className:pr,disabled:!0},c.createElement("div",{className:P.uo},n),c.createElement("div",{className:s()(P.S7,Xa)},o))},Qa=e=>{let{baseProductId:t,buttonTitle:n,showModal:r,telemetryProps:o,hideModal:a,openModal:i}=e;return c.createElement(c.Fragment,null,c.createElement(Nr,{onClick:i,icon:ta.Z,telemetryProps:o},n),r&&c.createElement(Tr,null,(e=>{const n=()=>{e.closeDialog(),a()};return c.createElement(Fa,{"aria-labelledby":"title",onCancelClicked:n,onInstallClicked:n,onHide:n,productId:t,show:r,closeable:!0})})))};const Ja=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M512 1152v-128h640v128H512zm989 130l317 318-317 318-91-91 163-163H256V256h1536v1136l-128-128V384H384v1152h1189l-163-163 91-91zm-93-514v128H512V768h896zM512 512h768v128H512V512z"}))};const ei=e=>{const t=(0,f.iV)("sorryForTheInconvenience"),n=(0,f.iV)("externallyManagedSubscription",e.subscriptionName);return c.createElement("div",{className:"ExternallyManagedSubscriptionScreen-module__content___Gp353"},c.createElement("h3",{className:s()(P.vM,"ExternallyManagedSubscriptionScreen-module__modalTitle___O9YrF")},t),c.createElement("p",{className:"ExternallyManagedSubscriptionScreen-module__modalContent___iTQ0p"},n))},ti=e=>{const t=(0,f.iV)("closeButtonText"),{showModal:n,onComplete:r,subscriptionName:o,buttonType:a,overrideButtonClassName:i}=e;return c.createElement(x.u_,{className:"ExternallyManagedModal-module__externallyManagedModalContainer___UsB0s",closeable:!0,show:n,onHide:r},c.createElement(ei,{subscriptionName:o}),c.createElement(l.k,{as:"button",buttonType:a,"aria-label":t,onClick:r,className:null!==i&&void 0!==i?i:""},c.createElement("div",{className:P.uo},t.toLocaleUpperCase())))},ni=["buttonLabel","buttonType","onClick","isExternallyManaged","telemetryProps"],ri=["buttonLabel","buttonType","isExternallyManaged","telemetryProps","onClick"],oi=["buttonLabel","isExternallyManaged","telemetryProps","onClick"],ai=e=>{let t="";switch(e.experienceButtonType){case Bn.Ug.CondensedDesktop:t=ir;case Bn.Ug.Desktop:return c.createElement(ii,E()(E()({},e),{},{overrideClassName:t}));case Bn.Ug.Mobile:return c.createElement(si,E()({},e));case Bn.Ug.Overflow:return c.createElement(ci,E()({},e));default:return null}},ii=e=>{const{buttonLabel:t,buttonType:n=u.L$.Primary,onClick:r,isExternallyManaged:o,telemetryProps:a}=e,i=V()(e,ni),s=(0,c.useRef)(null);return o?c.createElement(vr,E()({accessibilityLabel:t,buttonType:n,onClick:r,buttonRef:s,telemetryProps:a,title:t.toLocaleUpperCase()},i)):c.createElement(_r,E()({accessibilityLabel:t,buttonType:n,href:T.B6,subtitle:"",target:"_blank",telemetryProps:a,title:t.toLocaleUpperCase()},i))},si=e=>{const{buttonLabel:t,buttonType:n=u.L$.Primary,isExternallyManaged:r,telemetryProps:o,onClick:a}=e,i=V()(e,ri);return r?c.createElement(l.k,E()({as:"button","aria-label":t,buttonType:n,className:mr,onClick:a},(0,S.iZ)(o)),t.toLocaleUpperCase()):c.createElement(l.k,E()(E()({as:"a","aria-label":t,buttonType:n,className:mr,href:T.B6,target:"_blank"},(0,S.iZ)(o)),i),t.toLocaleUpperCase())},ci=e=>{const{buttonLabel:t,isExternallyManaged:n,telemetryProps:r,onClick:o}=e,a=V()(e,oi);return n?c.createElement(Nr,E()({"aria-label":t,icon:Ja,onClick:o,telemetryProps:r},a),t.toLocaleUpperCase()):c.createElement(Or,E()({"aria-label":t,href:T.B6,icon:Ja,target:"_blank",telemetryProps:r},a),t.toLocaleUpperCase())},li=e=>c.createElement(l.k,{as:"button","aria-disabled":!0,buttonType:u.L$.Tertiary,className:sr},e.actionText.toLocaleUpperCase()),ui=e=>c.createElement(l.k,{as:"button","aria-disabled":!0,buttonType:u.L$.Tertiary,className:cr},e.actionText.toLocaleUpperCase()),di=e=>c.createElement(Nr,{"aria-disabled":!0,icon:qr,telemetryProps:{}},e.actionText);const hi=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M1536 256h384v384h-128V475l-456 456-91-91 456-456h-165V256zm0 1280v-512l128-128v768H0V512h1280l-128 128H128v896h1408z"}))},mi=e=>{const{actionOverride:t,buttonType:n=u.L$.Primary,buttonLabel:r,storeLink:o,telemetryProps:a}=e;return t?c.createElement(l.k,E()({as:"button","aria-label":r,buttonType:n,className:s()([ir,dr,P.uo]),onClick:()=>t()},(0,S.iZ)(a)),r.toLocaleUpperCase()):c.createElement(l.k,E()({as:"a","aria-label":r,buttonType:n,className:s()([ir,dr,P.uo]),href:o,target:"_blank"},(0,S.iZ)(a)),r.toLocaleUpperCase())},pi=e=>{const{actionOverride:t,buttonType:n=u.L$.Primary,buttonLabel:r,storeLink:o,telemetryProps:a}=e;return t?c.createElement(l.k,E()({as:"button","aria-label":r,buttonType:n,className:s()([mr,dr]),onClick:()=>t()},(0,S.iZ)(a)),r.toLocaleUpperCase()):c.createElement(l.k,E()({as:"a","aria-label":r,buttonType:n,className:s()([mr,dr]),href:o,target:"_blank"},(0,S.iZ)(a)),r.toLocaleUpperCase())},gi=e=>{let{actionOverride:t,buttonLabel:n,storeLink:r,telemetryProps:o}=e;return t?c.createElement(Nr,{icon:hi,onClick:()=>t(),telemetryProps:o},n):c.createElement(Or,{href:r,icon:hi,target:"_blank",telemetryProps:o},n)};const fi=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M384 640V384h256v256H384zM128 896V128h768v768H128zm128-640v512h512V256H256zm128 1408v-256h256v256H384zm-256 256v-768h768v768H128zm128-640v512h512v-512H256zm1408-896v256h-256V384h256zm-512-256h768v768h-768V128zm640 640V256h-512v512h512zm-640 768h128v128h-128v-128zm256-256h-128v128h-128v-256h256v128zm256-128v128h-128v-128h128zm-128 128v256h-256v-128h128v-128h128zm-256 384h256v128h-128v128h-256v-128h128v-128zm256 256v-128h256v128h-256zm384-128h-128v-256h128v256zm-128-512v-128h128v256h-128v128h-128v-256h128zm-256 384v-128h128v128h-128z"}))};var vi=n(20536);const _i=async e=>{const t=await e.acquireTokenSilently(C.Q7.MDollar);return t?(0,C.Wg)(t):null},yi=[mn,"XEWeb","XENative","XETest"],bi=e=>{const{productId:t="",skuId:n,availabilityId:r,trackingParams:o,setIsLoading:a,orderDetails:i,onCloseButtonClick:s,clientType:l,offerId:u,themeOverride:d,scenario:h}=e;(0,S.Li)("ContextualStoreRedeem",S.uZ.Overlay,{productInfo:{id:t,sku:n}});const m=()=>{a(!1)},p=(0,C.Tv)(),f=(0,v.useSelector)(g.gzb),_=(0,c.useRef)(null),y=(0,v.useSelector)(g.yWe),b=(0,S.Qc)(),E=(0,v.useSelector)(C.t_),[T,I]=(0,c.useState)(!1);return(0,c.useEffect)((()=>{b.logAppAction({action:xn.RedeemStarted})}),[]),(0,c.useEffect)((()=>{const e=(0,vi.makeWindowListener)({done:e=>{const o=e.orderId,a=e.orderLineItems&&e.orderLineItems.length>0?e.orderLineItems[0]:e.orderInfo,c=(null===a||void 0===a?void 0:a.productId)||t,l=(null===a||void 0===a?void 0:a.skuId)||n,u=(null===a||void 0===a?void 0:a.availabilityId)||r;switch(e.status){case"cancelXButton":b.logAppAction({action:xn.RedeemCanceled}),s();break;case"cancel":b.logAppAction({action:xn.RedeemCanceled}),i.onCancel(c,l,u,o);break;case"success":b.logAppAction({action:xn.RedeemSuccessful}),i.onSuccess(c,l,u,o);break;case"error":{const t=e,n=En.PurchaseError;b.logAppAction({action:xn.RedeemFailed}),i.onError(c,n,l,u,o,{name:t.errorInfo.code,message:t.errorInfo.message});break}}},openUrl:e=>{i.onOpenUrl?i.onOpenUrl(e.url):window.open(e.url)}});return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]),(0,c.useEffect)((()=>{var e;T||(a(!1),async function(e,t,n,r,o,a,i,s,c,l){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:mn,d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:Tn.Redeem,h=arguments.length>12?arguments[12]:void 0;const m=e=>{s(!1),c(e)};if(!e)return void m(new Error("Failed to load frame."));if(d===Tn.BuddyPass&&!i)return void m(new Error("No ProductId provided for Buddy Pass scenario."));let p;try{p=n?(0,C.Wg)(n):await _i(t)}catch(v){return void m(v)}if(!p)return void m(new Error("Unable to get token silently."));const f=["sc_xboxgamepad","sc_xboxspinner","sc_xboxclosebutton","sc_xboxuiexp","sc_disabledefaultstyles"];d===Tn.BuddyPass&&f.push("sc_buddypass");await(0,vi.invokeRedeemNowInFrame)(e,{authToken:"",locale:r.localeWithScript,market:r.market,cV:o,layout:"Modal",clientType:u,cssOverride:"XboxCom2NewUI",xToken:p,productId:i,skuId:l,theme:a===g.Q2A.Dark?"dark":"light",campaignOptions:{flights:f},scenario:d,offerId:h,suppressRedeemThankYouPage:!0})||m(),s(!0)}(_.current,p,E,y,null!==(e=null===o||void 0===o?void 0:o.cV)&&void 0!==e?e:b.cv().get(),null!==d&&void 0!==d?d:f,t,m,(()=>{b.logAppAction({action:xn.RedeemFailed}),i&&i.onError(t,En.PurchaseError,n,r)}),n,(e=>!!e&&yi.includes(e))(l)?l:mn,h,u),I(!0))}),[T]),c.createElement("iframe",{key:"redeem-sdk-iframe",title:"Redeem Frame",name:"redeem-sdk-hosted-iframe",ref:_,className:"ContextualStoreRedeem-module__redeemFrameNewUi___p2HwD"})};var Ei=n(30434);var Ci=n(16454),Si="ThankYouPage-module__actionContainer___YBSpg",Ti="ThankYouPage-module__contentContainer___qsj94",Ii="ThankYouPage-module__fontBold___Zqif6",wi="ThankYouPage-module__heroButton___JyuUt",Ai="ThankYouPage-module__imageContainer___AYQH7",ki="ThankYouPage-module__marginTop1___dmTdI",Pi="ThankYouPage-module__marginTop2___X1SGq",xi="ThankYouPage-module__productImage___H9mHZ",Ri="ThankYouPage-module__subscriptionRow___s5pxV",Ni="ThankYouPage-module__thankYou___2NMnQ";const Oi=e=>{const{isPreorder:t,className:n,contentClassName:r,mainMessageClassName:o,secondaryMessageClassName:a}=e,[i,l,u,d]=(0,f.QF)("fincastleThankYouPrimaryMessage","fincastleThankYouSecondaryMessage","fincastleThankYouPrimaryMessagePreOrder","fincastleThankYouSecondaryMessagePreOrder");return c.createElement("div",{className:n},c.createElement("div",{className:s()("CardPoints-module__contentContainer___qDR8Y",r)},c.createElement("p",{className:o},t?u:i),c.createElement("p",{className:a},t?d:l)))},Li=e=>{const{productId:t,skuId:n,referringProductId:r,scenario:o,setIsLoading:a,onClose:i,onError:u,xboxCardUsedForPurchase:d}=e;(0,S.Li)("ContextualStoreThankYou",S.uZ.Overlay,{productInfo:{id:t,sku:n}});const[h,m,p,_,y,b,E,T,I,w,A,k,R,N,O]=(0,f.QF)("closeButtonText","successText","successTextAccessibilityTemplate","successGamePassTextAccessibilityTemplate","giftProductThankYouTitle","giftProductRecipientGettingSoon","giftProductTrackOrderAtText","giftAccountsLinkText","productThankYouText","productAvailableToYouText","subscriptionThankYouText","gamerPicAltText","downloadXboxAppText","gamePassUltimateLogoAltText","preorderProductAvailableUponReleaseText"),L=(0,v.useDispatch)(),M=(0,v.useSelector)((e=>(0,Ci.zF)(e,t,n))),D=Nn(g.vCX.EnableBuyNowXboxUiExp),U=(0,v.useSelector)(C.bG),B=(0,c.useRef)(null);if((0,c.useEffect)((()=>{var e;null===(e=B.current)||void 0===e||e.focus()}),[]),(0,c.useEffect)((()=>{a(!1),L(ln.I.getProductDetailById.start(t,u))}),[t]),(0,W.useBackHandler)((0,c.useCallback)((()=>(i(),!1)),[i])),!M)return null;const F=M.product,H=M.sku,q=(0,G.wF)(F,H),z=(0,G.SP)(F,H),$=(0,G.Ie)(F,H),X=(0,G.Xx)(F,H),V=(0,g.WUZ)(p,X),j=(0,g.WUZ)(_,X),K=o===Sn.Gift,Z=t===G.Os,Y=t===G.Cv,Q=null===U||void 0===U?void 0:U.gamerTag,J=null===U||void 0===U?void 0:U.gamerPicUrl,ee=null===H||void 0===H?void 0:H.isPreorder,te=!K&&(F.productFamily===G.fO.Subscription||F.productFamily===G.fO.Passes),ne=te?"ThankYouPage-module__gamepassBg___qNLdm":"ThankYouPage-module__productBg___IlsyC",re=new URL(g.vPf),oe=new URLSearchParams(re.search);r&&oe.append("productId",r),re.search=oe.toString();const ae=()=>d?s()(Si,ee?"ThankYouPage-module__actionContainerPreOrderXboxCard___4Mdb9":"ThankYouPage-module__actionContainerXboxCard___NVpw-"):Si,ie=()=>c.createElement(Oi,{className:"ThankYouPage-module__cardPoints___D3CFZ",contentClassName:"ThankYouPage-module__cardPointsContentContainer___0DC5T",mainMessageClassName:"ThankYouPage-module__cardPointsMainMsg___3PMqI",secondaryMessageClassName:"ThankYouPage-module__cardPointsSecondaryMsg___xODkM",isPreorder:!!ee});return c.createElement("div",{className:s()(ne,"ThankYouPage-module__rootContainer___td6I6",D?"ThankYouPage-module__enableBuyNowXboxUiExp___ZLR2r":void 0,te?"ThankYouPage-module__subscriptionRootContainer___yeBhh":void 0,d?"ThankYouPage-module__xboxCardRootContainer___Qvfqh":void 0,ee?"ThankYouPage-module__preOrderContainer___pMJca":void 0)},D&&!te&&c.createElement("div",{className:"ThankYouPage-module__heroContainer___qXtlg"},c.createElement(x.Ee,{className:"ThankYouPage-module__heroImage___e+RSq",src:null===q||void 0===q?void 0:q.url,width:600,height:640,alt:null===q||void 0===q?void 0:q.caption,hideShadow:!0,fluid:!0}),c.createElement("div",{className:"ThankYouPage-module__heroLinearGradient___EozWi"})),te&&c.createElement(c.Fragment,null,c.createElement("div",{className:Ai},U&&c.createElement(x.X2,{className:s()("ThankYouPage-module__gamerPicRow___veH2x",Ri)},c.createElement(Ei.pp,{className:"ThankYouPage-module__gamerPic___GWq6X",src:J,"aria-label":k,size:Ei.nh.Large})),Z&&c.createElement(x.Ee,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAAAcCAYAAABWFFBUAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAcaADAAQAAAABAAAAHAAAAAAF5gC+AAAKpklEQVRoBe1aW4yVSRGeK3PjJpCAuAwzYwRdFyWwIRPHVdQHCcZEYWMgAbNBHjQ+YEg0JhAeDDzIg4kSHkQgyAsJCTdxIbBkYVFcBpaLCSG7sDOzMkBGCHfmeuac4/fV6a+3T5//zGG9wcNUUqe6q6qrq7q6q/sfKC/7GMo/bpaF7YA92nwBViAb+ZCtcgwljTTESH+0+5xXgAkM0dxhEpXACraz2WzKJKM/L+QKPH369PVx48YdgnNMZoZOMnEEnb7KXHf090Vdgd7eXh48HT47gGE5ZULV9zHgZPaiMyxGeXn5OLSV/DTkTyUDrYK8gf0S42wIdPrRGLJO6Z9q2K7HmD6o+moB3lj0ufkykD1JMON9cjKoZR8n6Jn9BH7KzelFmHMMOnWegQZ0BkAGQ94IbcUyYvyYpxY2akI7AwMDjNXiBfX3I7NJJpXHM8IQdu/e/V3wW4DNpIODg9ck7+vruwTeZ52s+eDBg69Ltm/fvu+Lz3GY/APJRM+fP/8zpzMTtBE4IwHJn3nmzJk3OO706dNvoE9fDLEz28mHXx+CRz+bgLI3c926da2UC6B/MdKjbtOJEydWSCekXV1dv4WcczUBTffw4cM+Tulevnz5l5Bzfs1dNJaTJ0/aXO3t7T+GflM0hvESm7q7u38n+6JXr179IWTjgUywnUidqHIw2FYfzRxkMhnKPMCY77u273slNNy4RJn0nI7mzHJYApJPjCGJR53QTnbTpk3/HBoa6tLg+/fvv+faeXqSx/TAgQNvOp73bcWKFRfT6fSdUDdai9C2Hwd98okhiBfqmTxcaw0YHh7mevHQ+bXVAkrHC8SoqKjgJGkgS2oaR9w74dqUmbympobUoKqqik5xjI3LcfN/XRKpx3EskUSWVyH7Nt75URbbDf2BrvkBGtoafvz48bvgGeBknUND8/l5qqur6UceoHpcXbt2bQeYw1OmTBmeNWsWdVKPHj1K3bt373iecq6jWOhz0Vg0l4tFvshnxVzgD6dwSWSefK5KJtFNKKc4QQxeFibRtb0sWmyz0dra+mvstveBHcB/LFmyhDvMFraxsXEYvG7gR8BO6G7nIBe4D1h2HdV8gxcvXpwtW7dv3z7DsYDszp0720FTKGmzQHmHEYfGjBnDxcwDlDOeQrOJa6Vxz549splCWdMJtTFz5879FfxULB+tWbOG5c5vEsg+VCxtbW1/5KAgFtPDptkNnRvALuD1GTNm/MSMl/iJk1igHu38YS0aFaNTmqqvr2fABrW1tVwU9oU5Qf4vazofCYbjx4/nKbfd7BbVy8C3R5fbVKFtiDzYgqOXamlp0YIPHTp06B1qoKxe27Vr1z0258yZ8zL1HA6HGxA8Qnbv3r1/AjWdBQsWvAqbX1QfJfWvqCT3qeggLxbYYxw6mfS3Bqh4LJaEte1H8nqF0PdVD+2iUDKJbtHkEGkMcjRTWVnpJw0SbGPD5McG1MdO9P64UitRTJXsjMqsU/B8bKgvg8fFS2/YsKEnlUp9gIfYWfSZ6PTYsWMpLxoXdC+vX7++m7pEfJu1NTQ0zHdj0rdu3WJZPYZ+IuCh5WOBgi99CcreZyR+JeJpAX4e+CX6kKBfwAonKhCS4RLDiYSxHvmELCZW+1nG5UYFv/39/Syn9Knc1f5AmmtGyfXzuU3i+/ClCa/ISRhlmwwb5C8PHz78G/rppqamLDYnEyL9bLgBOdPNmzcPU9ch9Rfi5HyTMoDZvHbt2pFct/DXJdFigTRxnYNY6Iew0FgJTqLxcAx2H7/DQmD9NsCx564m2GJAl09fA7zeRtp9UsujCFxJrEAS2S6AZ7DLeS0ulMBWZyDz5MmTd3GP2aMGL86XkXR+71JX6FSNZHbs2KEkZo4cOfIZxHoX+PD48eOfhgbjzaxevfodJCLpm7Ms2JD0JXGdXRLjdQqTGcvMufjHanPMDPvTp09/Kejze+w6duUr5KHdBWIJZH/ChAmNpP8uuNNnAQe7NMlcseCUEP75sBwl8DUMZsnL9PT0/H3lypWdNIZH01dIAYmLy7K7efPmHsh5EjOLFy9mWdUYNA3SV65cGcTmeAtxLxVTFOVbyeP6JM4jXVGM2YfT/i31QRM3ciC3ZknjeGy0QFOLlsVO3IzS9B6wff/+/b+BjKXFEol7iLoxUEbkpd0XIF+FnxhKJFf2zF/cMQsdIzt//vz38Y1ovuI+bHN8n3QNJMWrlA8aJtDuT1CLD5SgeGgr3dnZmVhSg4qhtbPB4U8Qi3T4iOK6DGKdhoDPtEYlkzh16tRlePrXu8mzS5cuvV5XV/cd4PdWrVrFnc1gyjZu3DgBO3+Z0wsJg87gtflt3FOzeWEDXz127NgvQqX/YtsSgwXi63nO9u3bJzvbWnzeb1/FAlGP8dsCQleJSm3ZsuXP4NspBM3im/AHwGV3795dDrocawK2JTOD78i3YYt/mvyPAX4tR5l/CdgMf2bjdZy0ngXzlEwijE3dtm3bzzFSu0U7lLuGOzUzceLEMnwXrcfkn9IMbpdpjO1ap2/fRDgluk81JPwrj5VDLyhs0K7QpC4p4lUoSYsWLfo6FJSs8nPnzn0Bfk5xJsk31KnAXXZ669at/HSgz9kLFy7MnjRp0g7gH/DBv40U1YjXCefKnjp1qh8l9W20k0D+kBaDYjraVMXGeX7JJFJz8uTJP0Vwe48ePfo5JgxgScHdUnb27NlX7ty58yZK1GoKBMGdoAA4hokjppI+rt1CalETfQvuTenJPqcmj/dIpUtiGfxd6Hi8/yubm5u/Bso/WHOc8UArVP5u3LjBUiqoQIzfUEd02rRpr6HNeczHjo6Oo5KJxn6KH9IEnTCWvNd+OC5ucxCRDlUD6xAcP4ZHgl5Mfh0KtbiEm0H5EZsEA7CVwa7P21FaXPA5Z95YyPhXfa8PHZVxbx86vCdYDQygw7+McDEhsvHi0zbnoO6AMXM//OBmrKZP/wAg5bRRizZ1ueHKKAOhnfgByCpkr3SORbsCuvTDA/glY4Ey7768P2XKgLNbCbt5a3Tp0qUfzZs37yD06Cd9SMfO+QWUsQTagOTNTeDHrFo4EPO4MAU8MSDL++cd8UMaBxXIICpMOuRMpP3zWKDLptdHw4vQzkuGF+Q3uAmIReOBnZKxYHhNODftCYrxJQ+plYOQMdp+sVfAPcB42PyBC08imZkHDx78Hn9jrMIdwXvCJ5mDsTsS6zTvMh5/PQ64DLE+x5LvyoQ9YsIxzjmVMKqarmyzr/llizyCbMb8nDT3K/uhj5JTFvND/WJ+huNCHdqlLPRH8tBX6Wgu6Usnjh1/Vcrgzu6E+bwkso4QmSwmlPcFazCR5YKlSLVGA0UhMpANUTItYY7G+pRLV5S8kfQoFyTpSTYSlU+cMwTxyZMs5oV+Uk8+SE/ycLxk1CdIJ9fL/YZ2iulzHGX6KrDvSPR5H9rXgU4ilfR6ZELZp0KYRHSNT5oECkCy2CnxYxqOSxoTyjk2SSe2+b/oh34U86GUTij/JLFwPuaHieSjitQeX6D+vyyi7ZXsxYM+k8hJ44nBGoX/8wowiUok88IkipeXJCWMJ5Go5ImCNQrPcQWUNJ5Aovr+/8soUcXoc/R9dGq3AkwaoYAqaTlx7jeJF8pH289/BZRI8+RffoacsJshFlcAAAAASUVORK5CYII=",width:113,height:28,className:s()(ki,"ThankYouPage-module__gamePassUtlimateImage___qAm7y"),alt:N})),c.createElement("div",{className:s()(Ti)},c.createElement(x.X2,{className:s()(Ri,ki)},c.createElement("p",{className:"ThankYouPage-module__thanksForJoining___igWv1"},A)),U&&c.createElement(x.X2,{className:s()(Ri)},c.createElement("p",{className:"ThankYouPage-module__gamerTag___OsTkH"},`${Q}!`)),d&&ie(),c.createElement("div",{className:ae()},(Z||Y)&&(0,g.tdh)()?c.createElement(l.k,{as:"a",ref:B,"aria-label":j,className:s()(wi,Pi),href:re.toString(),target:"_blank"},R):c.createElement(vn.K,{as:"button",ref:B,"aria-label":V,className:s()(wi,Pi),onClick:i},h)))),!te&&c.createElement(c.Fragment,null,c.createElement("div",{className:Ai},D?c.createElement(x.Ee,{src:null===z||void 0===z?void 0:z.url,className:s()(xi,ki,"ThankYouPage-module__productImageUiExp___OPoUU"),alt:null===z||void 0===z?void 0:z.caption,width:152,height:228,fluid:!0}):c.createElement(x.Ee,{src:null===$||void 0===$?void 0:$.url,className:s()(xi,ki),alt:null===$||void 0===$?void 0:$.caption,width:108,height:108,fluid:!0})),c.createElement("div",{className:s()(Ti)},c.createElement("div",{className:"ThankYouPage-module__tyTextContainer___nXZuA"},K?c.createElement("p",{className:s()(P.a2,"ThankYouPage-module__giftTitle___uxVBS")},y):c.createElement("p",{className:"ThankYouPage-module__success___jnCaK"},m),c.createElement("p",{className:s()(Ni,Ii)},I),c.createElement("p",{className:Ni},K?b:ee?O:w)),d&&ie(),c.createElement("div",{className:K?"ThankYouPage-module__giftActionContainer___Wm87V":ae()},c.createElement(vn.K,{as:"button",ref:B,"aria-label":V,className:s()(wi,d?ki:Pi,Ii,D?"ThankYouPage-module__uiExpHeroButton___UocfF":void 0),onClick:i},h),K&&c.createElement(x.X2,{id:"TrackOrderContainer",className:s()("ThankYouPage-module__trackOrderContainer___vIXiC")},c.createElement("p",{className:s()(P.gC,"ThankYouPage-module__trackOrderMessage___tIN-b")},(0,g.vvg)(E,c.createElement("a",{"aria-labelledby":"TrackOrderContainer",className:s()(nt.Xs,P.gC),href:g.vXL,target:"_blank",rel:"noopener noreferrer"},T))))))))};const Mi=e=>({productId:e||"",status:En.Canceled}),Di=e=>{let{contentRef:t,showModal:n,onClose:r}=e;const o=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableBuyNowXboxUiExp))),[a,i]=(0,c.useState)(!0),[s,l]=(0,c.useState)(!1),[u,d]=(0,c.useState)(Mi()),h={onCancel:(e,t,n,o)=>{d({productId:e||"",orderId:o||"",status:En.Canceled,skuId:t,availabilityId:n}),r(u)},onError:(e,t,n,o,a,i)=>{d({productId:e,orderId:a||"",status:t,skuId:n,availabilityId:o,error:i}),r(u)},onSuccess:(e,t,n,r)=>{l(!0),i(!1),d({status:En.Purchased,productId:e||"",availabilityId:n,skuId:t,orderId:r})}};return c.createElement(c.Fragment,null,c.createElement(x.u_,{show:n,fullscreenOnMobile:o},c.createElement(x.u_.Body,{className:(0,x.W0)("padding","all",0)},c.createElement(yn,{value:{activateStoreExperiments:!0}},c.createElement("div",{ref:t,className:"RedeemCodeModal-module__modalContainer___4E9L+"},s?c.createElement(Li,{productId:u.productId,skuId:u.skuId,scenario:Sn.BuyNow,setIsLoading:i,onError:e=>{r(E()({error:e},u))},onClose:()=>{l(!1),d(Mi()),r(u),window.location.reload()},xboxCardUsedForPurchase:!1}):c.createElement(bi,{setIsLoading:i,onCloseButtonClick:()=>r(u),clientType:"XboxCom",themeOverride:g.Q2A.Dark,scenario:Tn.Redeem,orderDetails:h}))),a&&c.createElement("div",{className:"RedeemCodeModal-module__progressContainer___PTa75"},c.createElement(x.X2,{className:"RedeemCodeModal-module__progressIconAlignment___lkjyG"},c.createElement(x.dj,null))))))},Ui=e=>{const[t,n]=(0,c.useState)(!1),r=(0,f.iV)("redeemACodeButtonLabel"),o=(0,S.EW)(),a=(0,v.useSelector)(C.yB),i=(0,g.$wQ)(),s=(0,S._d)({behavior:S.cg.SHOW,contentName:r,id:"RedeemCodeModalButton",slotNumber:e.slotNumber},o),l={buttonId:"RedeemCodeModalButton",buttonType:e.buttonType,redeemCodeLabel:r,slotNumber:e.slotNumber,telemetryProps:s,onClick:()=>{if(a)e.actionOverride?e.actionOverride():n(!0);else{const e=new URL(window.location.toString()),t=i(e.toString());window.location.assign(t)}}};let u;switch(e.experienceButtonType){case Bn.Ug.Desktop:u=c.createElement(Bi,E()({},l));break;case Bn.Ug.CondensedDesktop:u=c.createElement(Fi,E()({},l));break;case Bn.Ug.Mobile:u=c.createElement(Hi,E()({},l));break;case Bn.Ug.Overflow:u=c.createElement(qi,E()({},l))}return u?c.createElement(c.Fragment,null,u,c.createElement(Di,{onClose:()=>n(!1),showModal:t})):null},Bi=e=>{const{buttonType:t=u.L$.Primary,redeemCodeLabel:n,telemetryProps:r,onClick:o}=e;return c.createElement(Je.$,E()(E()({as:"button","aria-label":n,buttonType:t,className:s()([hr,dr]),icon:fi,title:n},(0,S.iZ)(r)),{},{onClick:o}))},Fi=e=>{const{buttonType:t=u.L$.Primary,redeemCodeLabel:n,telemetryProps:r,onClick:o}=e;return c.createElement(l.k,E()(E()({as:"button","aria-label":n,buttonType:t,className:s()([ir,dr,P.uo])},(0,S.iZ)(r)),{},{onClick:o}),n.toLocaleUpperCase())},Hi=e=>{const{buttonType:t=u.L$.Primary,redeemCodeLabel:n,telemetryProps:r,onClick:o}=e;return c.createElement(l.k,E()(E()({as:"button","aria-label":n,buttonType:t,className:mr},(0,S.iZ)(r)),{},{onClick:o}),n.toLocaleUpperCase())},qi=e=>c.createElement(Nr,{icon:fi,onClick:e.onClick,telemetryProps:e.telemetryProps},e.redeemCodeLabel),Gi="https://redeem.microsoft.com",zi="_blank",$i=e=>{const t=(0,f.iV)("redeemACodeButtonLabel"),n=(0,S.EW)(),r=(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:t,id:"RedeemCodeHrefButton",slotNumber:e.slotNumber},n),o={buttonId:"RedeemCodeHrefButton",buttonType:e.buttonType,redeemCodeLabel:t,slotNumber:e.slotNumber,telemetryProps:r};switch(e.experienceButtonType){case Bn.Ug.Desktop:return c.createElement(Xi,E()({},o));case Bn.Ug.CondensedDesktop:return c.createElement(Vi,E()({},o));case Bn.Ug.Mobile:return c.createElement(Wi,E()({},o));case Bn.Ug.Overflow:return c.createElement(ji,E()({},o));default:return null}},Xi=e=>{const{buttonType:t=u.L$.Primary,redeemCodeLabel:n,telemetryProps:r}=e;return c.createElement(Je.$,E()({as:"a","aria-label":n,buttonType:t,className:s()([hr,dr]),href:Gi,icon:fi,target:zi,title:n},(0,S.iZ)(r)))},Vi=e=>{const{buttonType:t=u.L$.Primary,redeemCodeLabel:n,telemetryProps:r}=e;return c.createElement(l.k,E()({as:"a","aria-label":n,buttonType:t,className:s()([ir,dr,P.uo]),href:Gi,target:zi},(0,S.iZ)(r)),n.toLocaleUpperCase())},Wi=e=>{const{buttonType:t=u.L$.Primary,redeemCodeLabel:n,telemetryProps:r}=e;return c.createElement(l.k,E()({as:"a","aria-label":n,buttonType:t,className:mr,href:Gi,target:zi},(0,S.iZ)(r)),n.toLocaleUpperCase())},ji=e=>c.createElement(Or,{href:Gi,icon:fi,target:zi,telemetryProps:e.telemetryProps},e.redeemCodeLabel);const Ki=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M0 384h2048v128H0V384zm0 1152v-128h2048v128H0zm0-512V897h2048v127H0z"}))};const Zi=["onComplete","showModal","title"],Yi=e=>{const{actionOverride:t,buttonType:n=u.L$.Primary,telemetryProps:r,title:o}=e;return t?c.createElement(l.k,E()({as:"button","aria-label":o,buttonType:n,className:s()([ir,dr,P.uo]),onClick:()=>t()},(0,S.iZ)(r)),o.toLocaleUpperCase()):c.createElement(jo,E()(E()({},e),{},{buttonAccessibilityLabel:o,preferSkuValues:!0,telemetryProps:r,title:o.toLocaleUpperCase()}))},Qi=e=>{const{actionOverride:t,buttonType:n=u.L$.Primary,listItemAccessibilityFormat:r,productIdentifiers:o,telemetryProps:a,title:i}=e,[s,d]=(0,c.useState)(!1),h=(0,c.useRef)(null),m=(0,c.useRef)(null),p=(0,Y.mG)(s,(()=>d(!1)),h,m);return c.createElement(c.Fragment,null,c.createElement(l.k,E()({as:"button","aria-label":i,buttonType:n,className:mr,onClick:t?()=>t():()=>d(!0),ref:h},(0,S.iZ)(a)),i.toLocaleUpperCase()),c.createElement(es,{listItemAccessibilityFormat:r,contentRef:m,onComplete:p,productIdentifiers:o,showModal:s,telemetryProps:a,title:i}))},Ji=e=>{const{actionOverride:t,listItemAccessibilityFormat:n,productIdentifiers:r,telemetryProps:o,title:a}=e,[i,s]=(0,c.useState)(!1);return c.createElement(c.Fragment,null,c.createElement(Nr,{"aria-label":a,onClick:t?()=>t():()=>s(!0),icon:Ki,telemetryProps:o},a),c.createElement(Tr,null,(e=>c.createElement(es,{listItemAccessibilityFormat:n,onComplete:()=>{e.closeDialog(),s(!1)},productIdentifiers:r,showModal:i,telemetryProps:o,title:a}))))},es=e=>{const{onComplete:t,showModal:n,title:r}=e,o=V()(e,Zi);return c.createElement(c.Fragment,null,n&&c.createElement(x.u_,{className:"SkuSelectorButton-module__modal___oaP9J",closeable:!0,onHide:t,show:n},c.createElement("h6",{className:P.S7},r),c.createElement(Vo,E()(E()({},o),{},{preferSkuValues:!0}))))};const ts=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M1887 1856q0 40-15 75t-41 61-61 41-75 15H354q-40 0-75-15t-61-41-41-61-15-75q0-27 6-51t21-47l569-991v-1q10-14 10-34V128H640V0h768v128h-128v604q0 20 10 34v1l569 991q14 23 21 47t7 51zM538 1408h972l-331-577q-27-46-27-99V128H896v604q0 53-27 99l-331 577z"}))},ns=["buttonRef","onClick"],rs=e=>{const t=os(e),n=(e=>{let{actionArguments:t}=e;const n=(0,c.useRef)(null),r=(0,c.useRef)(null),[o,a]=(0,c.useState)(!1),{[T.Uh.ProductId]:i,[T.Uh.SkuId]:s,[T.Uh.AvailabilityId]:l}=t,u=(0,v.useSelector)(C.yB),d=(0,g.$wQ)(),h=(0,g.IzA)(),m=(0,Y.mG)(o,(e=>{(null===e||void 0===e?void 0:e.status)===En.Purchased?window.location.reload():a(!1)}),n,r);return{productId:i,skuId:s,availabilityId:l,showModal:o,buttonRef:n,contentRef:r,onClick:()=>{if(u)a(!0);else{const e=(0,g.kgH)(i)===G.Cv?h(window.location.href):d(window.location.href);window.location.assign(e)}},onResult:m}})(e),{buttonRef:r,onClick:o}=n,a=V()(n,ns);if(!t)return null;const i=e.actionOverride?()=>e.actionOverride(e.actionArguments):o,{buttonType:s,experienceButtonType:l}=e;let u;switch(l){case Bn.Ug.Desktop:u=as;break;case Bn.Ug.CondensedDesktop:u=is;break;case Bn.Ug.Mobile:u=ss;break;case Bn.Ug.Overflow:u=cs;break;default:return null}return c.createElement(c.Fragment,null,c.createElement(u,E()(E()({},t),{},{buttonType:s,buttonRef:r,onClick:i})),c.createElement(Jr,E()({hasAddOns:t.hasAddOns,experience:Cn.Purchase},a)))},os=e=>{let{actionArguments:t,slotNumber:n,experienceButtonType:r}=e;var o;const a=(0,S.Fj)(),i=(0,S.EW)(),{[T.Uh.ProductId]:s,[T.Uh.AffirmationProductId]:c}=t,[l,u,d,h,m]=(0,f.QF)("getActionText","getActionAccessibilityText","freeTrial","freeTrialUpsellFormat","commaSeparatorTemplate"),p=(0,v.useSelector)((e=>(0,Pt.RY)(e,s)));if(!p||!p.product)return a.warn(`Trial upsell button requested without valid values:\nbaseProductId: ${s}\nhasProductSummaryInfo: ${!!p}\nhasProduct: ${!!(null===p||void 0===p?void 0:p.product)}`),null;const _=c===G.OP;let y,b,E,C;c?(y=(0,G.KJ)(c),b=(0,G.jb)(c,!0),E=(0,g.WUZ)(h,r===Bn.Ug.Desktop&&y||r===Bn.Ug.Desktop&&_?"":b),C=(0,g.WUZ)(m,(0,g.WUZ)(u,p.product.title),(0,g.WUZ)(h,b))):(y=void 0,b="",E=d,C=(0,g.WUZ)(m,(0,g.WUZ)(u,p.product.title),E));const I=r!==Bn.Ug.Desktop?E:l,w=(0,S._d)({behavior:S.cg.PURCHASE,contentName:I,id:"TrialGetButton",slotNumber:n},i);return{accessibilityLabel:C,affirmationProductGlyph:y,hasAddOns:null===(o=p.product)||void 0===o?void 0:o.hasAddOns,subtitle:E,isUbisoftPlusAffirmation:_,telemetryProps:w,title:I}},as=e=>{let{title:t,subtitle:n,accessibilityLabel:r,affirmationProductGlyph:o,telemetryProps:a,isUbisoftPlusAffirmation:i,buttonType:s=u.L$.Primary,buttonRef:l,onClick:d}=e;return c.createElement(vr,{buttonRef:l,accessibilityLabel:r,buttonType:s,onClick:d,productGlyph:o,usesUbisoftSVG:i,subtitle:n,title:t.toLocaleUpperCase(),telemetryProps:a})},is=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,buttonRef:a,onClick:i}=e;return c.createElement(l.k,E()({as:"button","aria-label":n,className:s()(ir,P.uo),ref:a,buttonType:o,onClick:i},(0,S.iZ)(r)),t.toLocaleUpperCase())},ss=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,buttonRef:a,onClick:i}=e;const s=t.toLocaleUpperCase();return c.createElement(l.k,E()({as:"button",ref:a,"aria-label":n,buttonType:o,className:mr,onClick:i},(0,S.iZ)(r)),s)},cs=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,onClick:o}=e;return c.createElement(Nr,{"aria-label":n,onClick:o,icon:ts,telemetryProps:r},t)},ls=e=>{const t=us(e);if(!t)return null;const{buttonType:n,experienceButtonType:r}=e;let o;switch(r){case Bn.Ug.Desktop:o=ds;break;case Bn.Ug.CondensedDesktop:o=hs;break;case Bn.Ug.Mobile:o=ms;break;case Bn.Ug.Overflow:o=ps;break;default:return null}return c.createElement(o,E()(E()({},t),{},{buttonType:n}))},us=e=>{let{actionArguments:t,upsellProductId:n,slotNumber:r,experienceButtonType:o}=e;const a=(0,S.Fj)(),i=(0,S.EW)(),{[T.Uh.ProductId]:s}=t,[c,l,u]=(0,f.QF)("upsellGetFormat","freeTrialUpsellFormat","inclusionUpsellButtonAccessibilityLabelFormat"),d=(0,v.useSelector)((e=>(0,Pt.RY)(e,s))),h=(0,G.jb)(n,!0),m=(0,T.GP)(n,s),p=(0,g.kgH)(n)===G.OP;if(!n||!h||!d||!d.product)return a.warn(`Trial upsell button requested without valid values:\nupsellProductId: ${n}\nupsellProductTitle: ${h}\nbaseProductId: ${s}\nhasProductSummaryInfo: ${!!d}\nhasProduct: ${!!(null===d||void 0===d?void 0:d.product)}`),null;const _=(0,G.KJ)(n),y=(0,g.WUZ)(l,o===Bn.Ug.Desktop&&(_||p)?"":h),b=o===Bn.Ug.Mobile||o===Bn.Ug.Overflow?y:(0,g.WUZ)(c,h);return{title:b,subtitle:y,accessibilityLabel:(0,g.WUZ)(u,h,d.product.title),isUbisoftPlusUpsell:p,upsellProductGlyph:_,upsellProductLink:m,telemetryProps:(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:b,id:"TrialUpsellButton",slotNumber:r},i)}},ds=e=>{let{title:t,subtitle:n,accessibilityLabel:r,isUbisoftPlusUpsell:o,upsellProductGlyph:a,upsellProductLink:i,telemetryProps:s,buttonType:l=u.L$.Primary}=e;return c.createElement(_r,{accessibilityLabel:r,buttonType:l,href:i,productGlyph:a,usesUbisoftSVG:o,subtitle:n,title:t.toLocaleUpperCase(),telemetryProps:s})},hs=e=>{let{accessibilityLabel:t,buttonType:n=u.L$.Primary,telemetryProps:r,title:o,upsellProductLink:a}=e;return c.createElement(l.k,E()({as:"a","aria-label":t,buttonType:n,className:s()(ir,P.uo),href:a},(0,S.iZ)(r)),o.toLocaleUpperCase())},ms=e=>{let{title:t,accessibilityLabel:n,upsellProductLink:r,telemetryProps:o,buttonType:a=u.L$.Primary}=e;const i=t.toLocaleUpperCase();return c.createElement(l.k,E()({as:"a","aria-label":n,buttonType:a,className:mr,href:r},(0,S.iZ)(o)),i)},ps=e=>{let{title:t,accessibilityLabel:n,upsellProductLink:r,telemetryProps:o}=e;return c.createElement(Or,{"aria-label":n,href:r,icon:ts,telemetryProps:o},t)},gs=["actionArguments"];n(82488),n(30390),n(95682),n(21045),n(17244),n(42068),n(75519),n(39432),n(73574),n(33619),n(53862),n(26881),n(35359),n(98208),n(13608),n(75676),n(5993),n(74456);var fs=n(82279);const vs=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M1664 896v128h-640v640H896v-640H256V896h640V256h128v640h640z"}))},_s=[G.Wy,G.Cv,G.Os,G.kE,G.OP,G.yd,G.Lm,G.pD,G.rQ],ys=e=>e.filter((e=>_s.includes(e))).map(((e,t)=>c.createElement(Wt,{key:`subscriptionEditionCard-${e}`,productId:e,slotNumber:t}))),bs=e=>{let{productId:t,channelId:n}=e;var r;const o=(null===(r=(0,v.useSelector)((e=>(0,Pt.V4)(e,n))))||void 0===r?void 0:r.products.map((e=>e.productId)))||[],a=(0,v.useSelector)((e=>(0,Pt.I9)(e,t))),i=(0,f.UD)(a?"comingSoonToTheseSubscriptions":"includedInTheseSubscriptions"),s=ys(o);return(null===o||void 0===o?void 0:o.length)?c.createElement(x.EM,null,c.createElement(ft,{items:s,title:i})):null};n(52856),n(57610);const Es=e=>{let{contentRef:t,passProducts:n,show:r=!1,onHide:o}=e;if(!(null===n||void 0===n?void 0:n.length))return null;const a=n.some((e=>e.isComingSoon));return c.createElement(x.u_,{show:r,onHide:o,closeable:!0,className:"IncludedInSubscriptions-module__modalContainer___1fcM6"},c.createElement(x.u_.Header,null,c.createElement(Cs,{isComingSoon:a})),c.createElement(x.u_.Body,null,c.createElement(Oo.t8,null,c.createElement(Ss,{passProducts:n,contentRef:t}))))},Cs=e=>{let{isComingSoon:t}=e;const n=(0,f.UD)(t?"comingSoonToTheseSubscriptions":"includedInTheseSubscriptions");return c.createElement("h2",{className:s()(P.hO,"IncludedInSubscriptions-module__modalHeaderText___YccIQ")},n)},Ss=e=>{let{passProducts:t,contentRef:n}=e;const r=t.map((e=>e.passProductId)),o=ys(r);return c.createElement("ul",{className:"IncludedInSubscriptions-module__channelWrapper___7zrNb",ref:n},o.map(((e,t)=>c.createElement("li",{key:t},e))))},Ts=["actionArguments","logger"],Is=["baseProductTitle","buttonTitle","buttonType","telemetryProps","upsellLink","upsellProductGlyph","upsellProductTitle","upsellUsesUbisoftLogo"],ws=["baseProductTitle","buttonTitle","buttonType","telemetryProps","saleDiscount","upsellLink","upsellProductGlyph","upsellProductTitle","upsellUsesUbisoftLogo"],As=e=>{var t;const n=e.actionArguments[T.Uh.UpsellProductId],r=!!(null===(t=e.actionArguments[T.Uh.UpsellProductIdsComingSoonList])||void 0===t?void 0:t.trim()),o=(0,S.Fj)(),a=(0,f.iV)("upsellGetFormat"),i=(0,S.EW)(),s=(0,G.jb)(n,!0),l=e.actionArguments[T.Uh.ProductId],u=(0,T.GP)(n,l);if(!n||!s)return o.warn(`Upsell button requested without valid values:\nupsellProductId: ${n}\nupsellProductTitle: ${s}`),null;const d=(0,g.WUZ)(a,s),h={buttonId:r?"ComingSoonUpsellButton":"UpsellButton",buttonTitle:d,telemetryProps:(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:d,id:r?"ComingSoonUpsellButton":"UpsellButton",slotNumber:e.slotNumber},i),upsellProductId:n,upsellLink:u,upsellProductTitle:s};switch(e.experienceButtonType){case Bn.Ug.Desktop:return c.createElement(ks,E()(E()({},h),{},{actionArguments:e.actionArguments,buttonType:e.buttonType,logger:o}));case Bn.Ug.CondensedDesktop:return c.createElement(Rs,E()(E()({},h),{},{buttonType:e.buttonType}));case Bn.Ug.Mobile:return c.createElement(Ns,E()(E()({},h),{},{buttonType:e.buttonType}));case Bn.Ug.Overflow:return c.createElement(Os,E()({},h));default:return null}},ks=e=>{var t;const{actionArguments:n,logger:r}=e,o=V()(e,Ts),[a,i,s]=[n[T.Uh.ProductId],n[T.Uh.SkuId],n[T.Uh.AvailabilityId]],l=!!(null===(t=e.actionArguments[T.Uh.UpsellProductIdsComingSoonList])||void 0===t?void 0:t.trim()),u=(0,v.useSelector)(g.yWe),d=(0,v.useSelector)((e=>(0,Pt.RY)(e,a,i,s))),h=(0,G.KJ)(e.upsellProductId),m=(0,g.kgH)(e.upsellProductId)===G.OP;if(!d||!d.product)return r.warn(`Upsell button requested without valid values:\nbaseProductId: ${a}\nbaseSkuId: ${i}\nbaseAvailabilityId: ${s}\nhasProductSummaryInfo: ${!!d}\nhasProduct: ${!!(null===d||void 0===d?void 0:d.product)}`),null;if(a&&i&&s){const t=d.availability;if(t&&t.price.listPrice<t.price.msrp){const n=(0,g.xGv)(t.price.msrp-t.price.listPrice,t.price.currency,u);return c.createElement(xs,E()({baseProductTitle:d.product.title,experienceButtonType:e.experienceButtonType,saleDiscount:n,upsellProductGlyph:h,upsellUsesUbisoftLogo:m,isComingSoonUpsell:l},o))}return r.warn(`Sale Upsell button requested with invalid availability:\nhasAvailability: ${!!t}\nlistPrice: ${null===t||void 0===t?void 0:t.price.listPrice}\nmsrp: ${null===t||void 0===t?void 0:t.price.msrp}`),null}return c.createElement(Ps,E()({baseProductTitle:d.product.title,experienceButtonType:e.experienceButtonType,upsellProductGlyph:h,upsellUsesUbisoftLogo:m,isComingSoonUpsell:l},o))},Ps=e=>{const[t,n]=(0,f.QF)(e.isComingSoonUpsell?"upsellComingSoonToFormat":"upsellIncludedWithFormat",e.isComingSoonUpsell?"inclusionUpsellComingSoonButtonAccessibilityLabelFormat":"inclusionUpsellButtonAccessibilityLabelFormat"),{baseProductTitle:r,buttonTitle:o,buttonType:a=u.L$.Primary,telemetryProps:i,upsellLink:s,upsellProductGlyph:l,upsellProductTitle:d,upsellUsesUbisoftLogo:h}=e,m=V()(e,Is);return c.createElement(_r,E()({accessibilityLabel:(0,g.WUZ)(n,d,r),buttonType:a,href:s,productGlyph:l,usesUbisoftSVG:h,subtitle:(0,g.WUZ)(t,l||h?"":d),telemetryProps:i,title:o.toLocaleUpperCase()},m))},xs=e=>{const[t,n]=(0,f.QF)("upsellSaveWithFormat","saleUpsellButtonAccessibilityLabelFormat"),{baseProductTitle:r,buttonTitle:o,buttonType:a=u.L$.Primary,telemetryProps:i,saleDiscount:s,upsellLink:l,upsellProductGlyph:d,upsellProductTitle:h,upsellUsesUbisoftLogo:m}=e,p=V()(e,ws);return c.createElement(_r,E()({accessibilityLabel:(0,g.WUZ)(n,h,s,r),buttonType:a,href:l,productGlyph:d,usesUbisoftSVG:m,subtitle:(0,g.WUZ)(t,s,d||m?"":h),telemetryProps:i,title:o.toLocaleUpperCase()},p))},Rs=e=>{const{buttonTitle:t,buttonType:n=u.L$.Primary,telemetryProps:r,upsellLink:o}=e;return c.createElement(l.k,E()({as:"a",buttonType:n,className:s()(ir,P.uo),href:o},(0,S.iZ)(r)),t.toLocaleUpperCase())},Ns=e=>{const{buttonTitle:t,buttonType:n=u.L$.Primary,telemetryProps:r,upsellLink:o}=e;return c.createElement(l.k,E()({as:"a",buttonType:n,className:mr,href:o},(0,S.iZ)(r)),t.toLocaleUpperCase())},Os=e=>{const t=(0,G.Xm)(e.upsellProductId)||vs;return c.createElement(Or,{href:e.upsellLink,icon:t,telemetryProps:e.telemetryProps},e.buttonTitle)},Ls=e=>{const t=Ms(e),[n,r]=(0,c.useState)(!1),o=(0,c.useRef)(null),a=(0,c.useRef)(null),i=(0,Y.mG)(n,(()=>{r(!1)}),o,a);if(!t)return null;if(1===t.upsellPasses.length)return c.createElement(As,E()(E()({},e),{},{actionArguments:E()(E()({},e.actionArguments),{},{[T.Uh.UpsellProductId]:t.upsellPasses[0].passProductId,[T.Uh.UpsellProductIdsComingSoonList]:t.upsellPasses[0].isComingSoon?t.upsellPasses[0].passProductId:""})}));const{buttonType:s,experienceButtonType:l}=e;let u;switch(l){case Bn.Ug.Desktop:u=Ds;break;case Bn.Ug.CondensedDesktop:u=Us;break;case Bn.Ug.Mobile:u=Bs;break;case Bn.Ug.Overflow:u=Fs;break;default:return null}return c.createElement(c.Fragment,null,c.createElement(u,E()(E()({},t),{},{buttonRef:o,buttonType:s,onClick:()=>{r(!0)}})),c.createElement(Es,{contentRef:a,onHide:i,passProducts:t.upsellPasses,show:n}))},Ms=e=>{let{actionArguments:t,slotNumber:n}=e;const r=(0,S.Fj)(),o=(0,S.EW)(),{[T.Uh.ProductId]:a,[T.Uh.UpsellProductIdsList]:i,[T.Uh.UpsellProductIdsComingSoonList]:s}=t,c=i.split(";").filter((e=>0!==e.length)).map(((e,t)=>({passProductId:e,isComingSoon:!1}))),l=s.split(";").filter((e=>0!==e.length)).map(((e,t)=>({passProductId:e,isComingSoon:!0}))),u=l.length>0,d=[...new Set([...l,...c])],[h,m,p,_,y,b,E,C]=(0,f.QF)("multiUpsellGet","multiUpsellIncludedIn","multiUpsellGetButtonAccessibilityLabelFormat","upsellGetFormat","upsellIncludedWithFormat","upsellComingSoonToFormat","inclusionUpsellButtonAccessibilityLabelFormat","inclusionUpsellComingSoonButtonAccessibilityLabelFormat"),I=(0,v.useSelector)((e=>(0,Pt.RY)(e,a)));if(!I||!I.product)return r.warn(`Multi upsell button requested without valid values:\nbaseProductId: ${a}\nhasProductSummaryInfo: ${!!I}\nhasProduct: ${!!(null===I||void 0===I?void 0:I.product)}`),null;let w,A,k,P,R;d.every((e=>G.gS.includes(e.passProductId)))?(w=(0,g.WUZ)(_,G.IC),A=(0,g.WUZ)(u?b:y,""),k=(0,g.WUZ)(u?C:E,G.IC,I.product.title),P=x.E0.XboxGamepassInline,R=fs.Z):(w=h,A=m,k=(0,g.WUZ)(p,I.product.title),P=void 0,R=void 0);return{accessibilityLabel:k,subtitle:A,telemetryProps:(0,S._d)({behavior:S.cg.SHOW,contentName:w,id:"MultiUpsellButton",slotNumber:n},o),title:w,upsellPasses:d,upsellProductGlyph:P,upsellProductIcon:R}},Ds=e=>{let{title:t,subtitle:n,accessibilityLabel:r,upsellProductGlyph:o,telemetryProps:a,buttonType:i=u.L$.Primary,buttonRef:s,onClick:l}=e;return c.createElement(vr,{buttonRef:s,accessibilityLabel:r,buttonType:i,onClick:l,productGlyph:o,subtitle:n,title:t.toLocaleUpperCase(),telemetryProps:a})},Us=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,buttonRef:a,onClick:i}=e;return c.createElement(l.k,E()({as:"button","aria-label":n,className:s()(ir,P.uo),ref:a,buttonType:o,onClick:i},(0,S.iZ)(r)),t.toLocaleUpperCase())},Bs=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,buttonRef:a,onClick:i}=e;return c.createElement(l.k,E()({as:"button",ref:a,"aria-label":n,buttonType:o,className:mr,onClick:i},(0,S.iZ)(r)),t.toLocaleUpperCase())},Fs=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,onClick:o,upsellProductIcon:a}=e;return c.createElement(Nr,{"aria-label":n,onClick:o,icon:a||vs,telemetryProps:r},t)},Hs=["actionArguments"];const qs=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?c.createElement("title",{id:n},t):null,c.createElement("path",{d:"M1024 564q-35-35-69-71t-69-71-72-64-79-53-89-36-102-13q-87 0-162 32t-132 89-89 132-33 163q0 84 31 159t91 135l774 774v181l-865-864Q82 981 41 881T0 672q0-75 19-144t55-130 85-110 110-85 130-55 145-20q84 0 149 19t119 52 105 81 107 103q56-56 106-103t105-80 120-53 149-19q112 0 211 43t173 116 117 173 43 212q0 109-41 208t-118 177l-97 97V972q62-61 94-136t33-164q0-88-32-163t-88-130-132-87-163-32q-85 0-150 27t-121 71-105 98-104 108zm640 588v384h384v128h-384v384h-128v-384h-384v-128h384v-384h128z"}))};var Gs=n(65447);const zs={[Bn.Zr.Acquisition]:e=>{var t;const{[T.Uh.ProductId]:n,[T.Uh.SkuId]:r,[T.Uh.AvailabilityId]:o,[T.Uh.IsUpgrade]:a,[T.Uh.IsDisabled]:i,[T.Uh.DisabledReason]:s}=e.actionArguments,l=(0,S.Fj)(),u=(0,v.useSelector)((e=>(0,Pt.RY)(e,n,r,o))),d=(0,v.useSelector)(C.yB),h=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableEditionUpgradeOffer)));let m=null;if(fo(n,r,o,u,"Acquisition",l)){const l=u.availability.price,p=u.sku.recurrencePolicySummary,g=u.product.title,f={availabilityId:o,buttonType:e.buttonType,endDateUtcString:u.availability.endDateUtc,experienceButtonType:e.experienceButtonType,hasAddOns:u.product.hasAddOns,isDisabled:(0,Y.mU)(i)&&d,disabledReason:s,actionOverride:e.actionOverride?()=>e.actionOverride(e.actionArguments):void 0,price:l,productId:n,productSummaryInfo:u,recurrencePolicySummary:p,skuId:r,slotNumber:e.slotNumber,title:g},v=h&&(null===(t=null===l||void 0===l?void 0:l.xPriceOfferInfo)||void 0===t?void 0:t.xPriceOfferSubType)===G.US.UpgradedDifferentialOffer;m=u.sku.isPreorder?c.createElement(uo,E()({},f)):0===l.listPrice?c.createElement(co,E()({},f)):(0,Y.mU)(a)||v?c.createElement(so,E()({},f)):(0,G.hz)(p)&&(null===p||void 0===p?void 0:p.isRecurring)?c.createElement(lo,E()({},f)):c.createElement(io,E()({},f))}return m},[Bn.Zr.AccountLink]:e=>{const t=Mr(e);if(!t)return null;const{buttonType:n,experienceButtonType:r}=e;let o;switch(r){case Bn.Ug.Desktop:o=Dr;break;case Bn.Ug.CondensedDesktop:o=Ur;break;case Bn.Ug.Mobile:o=Br;break;case Bn.Ug.Overflow:o=Fr;break;default:return null}return c.createElement(o,E()(E()({},t),{},{buttonType:n}))},[Bn.Zr.BuyToOwn]:e=>{const[t,n,r,o]=[e.actionArguments[T.Uh.ProductId],e.actionArguments[T.Uh.SkuId],e.actionArguments[T.Uh.AvailabilityId],e.slotNumber],a=(0,S.Fj)(),i=(0,v.useSelector)((e=>(0,Pt.RY)(e,t,n,r))),[s,l]=(0,f.QF)("buyToOwnActionText","buyToOwnActionAccessibilityText");let u=null;if(fo(t,n,r,i,"BuyToOwn",a)){const{product:a,sku:d,availability:h}=E()({},i),m={productId:t,skuId:n,availabilityId:r,buttonType:e.buttonType,endDateUtcString:h.endDateUtc,experienceButtonType:e.experienceButtonType,hasAddOns:i.product.hasAddOns,price:h.price,recurrencePolicySummary:d.recurrencePolicySummary,slotNumber:o,title:a.title,productSummaryInfo:i,actionOverride:e.actionOverride?()=>e.actionOverride(e.actionArguments):void 0};u=i.sku.isPreorder?c.createElement(uo,E()({},m)):c.createElement(ho,E()({actionAccessibilityLabelFormat:l,actionText:s,buttonId:"BuyToOwnButton"},m))}return u},[Bn.Zr.Cart]:e=>{const[t,n,r]=[e.actionArguments[T.Uh.ProductId],e.actionArguments[T.Uh.SkuId],e.actionArguments[T.Uh.AvailabilityId]],o=(0,v.useDispatch)(),a=(0,v.useSelector)((e=>(0,Pt.GK)(e,t,n,r))),[i,s,l,u,d,h]=(0,f.QF)("actionErrorMessage","addToCartButtonAccessibilityLabelFormat","addToCartProcessingButtonAccessibilityLabelFormat","addToCartActionText","openCartButtonAccessibilityLabel","reloadPageRequestMessage"),m=(0,S.EW)(),[p,_]=(0,c.useState)(),[y,b]=(0,c.useState)(h),[C,I]=(0,c.useState)(!1),[w,A]=(0,c.useState)(!1),k=(0,v.useSelector)((e=>(0,Pt.RY)(e,t,n,r)));if(!k||!k.product||!t||!n||!r)return null;const P=(0,g.WUZ)(s,k.product.title),R=(0,g.WUZ)(l,k.product.title),N={productId:t,skuId:n,availabilityId:r,quantity:1},O=e=>{var t;A(!1),I(!0),e.reasons.length>0&&(_(null===(t=e.reasons[0].code)||void 0===t?void 0:t.toString()),b(e.displayMessage&&!e.displayMessage.isDefault?e.displayMessage.shortDescription:h))},L=()=>{A(!1)};let M={behavior:S.cg.ADDTOCART,contentName:P};a&&(M={behavior:S.cg.VIEWCART,contentName:d});const D=(0,S._d)(E()({id:"CartButton",slotNumber:e.slotNumber},M),m);return c.createElement(c.Fragment,null,c.createElement(Eo,{actionAccessibilityLabel:P,actionIcon:_o.Z,actionLabel:u,buttonId:"CartButton",buttonType:e.buttonType,experienceButtonType:e.experienceButtonType,navigationAccessibilityLabel:d,navigationHref:"/cart",navigationIcon:yo,navigationLabel:d,onClick:()=>{A(!0),o(Pt.SA.addToCart.start({items:[N]},L,O))},processingAccessibilityLabel:R,showSpinner:w,slotNumber:e.slotNumber,state:a,telemetryProps:D}),C&&c.createElement(x.u_,{className:ur,closeable:!0,onHide:()=>I(!1),show:C,ariaLabel:i},c.createElement(qe,{errorCode:p,errorMessage:i,userRequestMessage:y})))},[Bn.Zr.CloudPlay]:e=>{const{[T.Uh.ProductId]:t,[T.Uh.UpsellProductId]:n,[T.Uh.CloudServiceUpsells]:r}=e.actionArguments,o=(0,c.useContext)(to),a=(0,S.Fj)(),i=(0,v.useSelector)((e=>(0,Pt.RY)(e,t))),s=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableMultiCloudPlayButton))),l=r?JSON.parse(r):void 0,u=1===(null===l||void 0===l?void 0:l.length)&&(0,g.Ypc)(l[0].ServiceId,G.Kf.geforcenow);if(!t||!i.product||!n&&!l||u&&!s)return a.warn(`Cloud play button requested without valid values:\nbaseProductId: ${t}\nhasProductSummaryInfo: ${!!i}\nhasProduct: ${!!(null===i||void 0===i?void 0:i.product)}\ncloudServiceUpsellObjects: ${l}\nupsellsOnlyHasNvidia: ${u}`),null;let d;return d=s&&l&&l.length>1&&o!==Bn.vm.ContextualStore?qo:Po,c.createElement(d,E()(E()({},e),{},{baseProductId:t,cloudServiceUpsells:l,productSummaryInfo:i,upsellProductId:n}))},[Bn.Zr.EditionSelector]:e=>{const t=e.actionArguments[T.Uh.ProductId],n=(e.actionArguments[T.Uh.EditionIdsList]||"").split(";").filter((e=>0!==e.length)).map((e=>({productId:e,skuId:"",availabilityId:""}))),[r]=(0,f.QF)("editionSelectorButtonText"),o=(0,S.EW)(),a=(0,v.useSelector)((e=>(0,Pt.zF)(e,t)));if(!a||e.experienceButtonType!==Bn.Ug.Desktop)return null;const i=(0,S._d)({behavior:S.cg.SHOW,contentName:r,id:"EditionSelectorButton",slotNumber:e.slotNumber},o);return c.createElement(jo,{buttonAccessibilityLabel:r,buttonId:e.buttonId,buttonType:e.buttonType,productIdentifiers:n,subTitle:a.product.title,telemetryProps:i,title:r.toLocaleUpperCase()})},[Bn.Zr.Extend]:e=>{var t;const[n,r,o]=[e.actionArguments[T.Uh.ProductId],e.actionArguments[T.Uh.SkuId],e.actionArguments[T.Uh.AvailabilityId]],a=(0,S.Fj)(),i=(0,v.useSelector)((e=>(0,Pt.RY)(e,n,r,o))),[s,l]=(0,f.QF)("extendActionText","extendActionAccessibilityLabelFormat");let u=null;if(fo(n,r,o,i,"Extend",a)){const a=i.availability,d=e.actionOverride?()=>e.actionOverride(e.actionArguments):void 0;u=c.createElement(ho,{actionText:s,actionAccessibilityLabelFormat:l,availabilityId:o,behavior:S.cg.RENEWSUBSCRIPTION,buttonType:e.buttonType,buttonId:"ExtendButton",endDateUtcString:a.endDateUtc,experienceButtonType:e.experienceButtonType,hasAddOns:i.product.hasAddOns,iconOverride:Hr,price:a.price,productId:n,productSummaryInfo:i,recurrencePolicySummary:null===(t=i.sku)||void 0===t?void 0:t.recurrencePolicySummary,slotNumber:e.slotNumber,skuId:r,title:i.product.title,actionOverride:d})}return u},[Bn.Zr.Gift]:e=>{const[t,n]=(0,c.useState)(!1),[r,o,a]=[e.actionArguments[T.Uh.ProductId],e.actionArguments[T.Uh.SkuId],e.actionArguments[T.Uh.AvailabilityId]],i=(0,f.iV)("giftActionAccessibilityLabelFormat"),s=(0,v.useSelector)((e=>(0,Pt.RY)(e,r))),l=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableReactGiftFlow))),u=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnablePurchaseLaunchOnLogin))),d=(0,S.EW)(),h=(0,v.useSelector)(C.yB),m=(0,g.$wQ)(),p=(0,g.IzA)();if(!s||!s.product||!r)return null;const _=(0,g.WUZ)(i,s.product.title),y=u?Vr(window.location.href,r,{skuId:o,availabilityId:a,experience:Sn.Gift}):(0,Gr.j)(),b=(0,S._d)({behavior:S.cg.INTENTTOBUY,id:"GiftButton",contentName:_,slotNumber:e.slotNumber},d),I={accessibilityLabel:_,availabilityId:a,buttonId:"GiftButton",buttonType:e.buttonType,productId:r,slotNumber:e.slotNumber,showModal:t,skuId:o,enableReactGiftFlow:l,telemetryProps:b,hideModal:()=>n(!1),onClick:()=>{if(e.actionOverride)e.actionOverride();else if(h)n(!0);else{const e=(0,g.kgH)(r)===G.Cv?p(y):m(y);window.location.assign(e)}}};switch(e.experienceButtonType){case Bn.Ug.Desktop:return c.createElement(Zo,E()({},I));case Bn.Ug.CondensedDesktop:return c.createElement(Yo,E()({},I));case Bn.Ug.Mobile:return c.createElement(Qo,E()({},I));case Bn.Ug.Overflow:return c.createElement(Jo,E()({},I));default:return null}},[Bn.Zr.Install]:e=>{let{actionArguments:t,slotNumber:n,buttonType:r,experienceButtonType:o}=e;const[a,i]=[t[T.Uh.ProductId],t[T.Uh.UpsellProductId]],s=(0,Y.mU)(t[T.Uh.IsTrial]),[l,u]=(0,c.useState)(!1),d=()=>u(!0),h=()=>u(!1),m=(0,v.useSelector)((e=>(0,Pt.RY)(e,a))),p=(0,v.useSelector)((e=>(0,$a.ik)(e,a))),g=(0,f.iV)("installButtonText"),_=(0,S.EW)(),y=(0,c.useRef)(null),b=(0,c.useRef)(null),C=(0,Y.mG)(l,h,y,b);if(!a||!m)return null;const I=(0,S._d)({behavior:S.cg.SHOW,contentName:g,id:"InstallButton",slotNumber:n},_),w={buttonId:"InstallButton",buttonTitle:g,slotNumber:n,telemetryProps:I,openModal:d},A=()=>c.createElement(Fa,{"aria-labelledby":"title",closeable:!0,contentRef:b,onCancelClicked:C,onHide:C,onInstallClicked:C,productId:a,show:l});switch(o){case Bn.Ug.Desktop:return c.createElement("div",null,(()=>{switch(null===p||void 0===p?void 0:p.operationStatus){case Bn.oo.Pending:return c.createElement(Za,{baseProductId:a});case Bn.oo.ConsoleError:case Bn.oo.Error:case Bn.oo.TimedOut:return c.createElement(Ka,{installOperation:p,openModal:d,telemetryProps:I});case Bn.oo.Succeeded:return c.createElement(Ya,{baseProductId:a});default:return c.createElement(Wa,E()(E()({},w),{},{baseProductId:a,buttonRef:y,buttonType:r,upsellProductId:i,isTrial:s}))}})(),A());case Bn.Ug.Mobile:return c.createElement(c.Fragment,null,c.createElement(ja,E()(E()({},w),{},{buttonRef:y,buttonType:r})),A());case Bn.Ug.Overflow:return c.createElement(Qa,E()(E()({},w),{},{baseProductId:a,hideModal:h,openModal:d,showModal:l}));default:return null}},[Bn.Zr.Manage]:e=>{var t,n;const[r,o]=(0,c.useState)(!1),a=(0,f.iV)("manageActionText"),i=e.actionArguments&&(0,Y.mU)(e.actionArguments.IsExternallyManagedPass),s=e.actionArguments&&(0,G.jb)(null!==(t=e.actionArguments.ProductId)&&void 0!==t?t:"",!1),l=(0,S.EW)(),d=(0,c.useRef)(null),h=(0,c.useRef)(null),m=(0,Y.mG)(r,(()=>o(!1)),d,h),p=(0,S._d)({behavior:i?S.cg.SHOW:S.cg.NAVIGATIONFORWARD,contentName:a,id:"ManageButton",slotNumber:e.slotNumber},l),g={behavior:S.cg.OTHER,buttonId:"ManageButton",buttonLabel:a,buttonType:e.buttonType,slotNumber:e.slotNumber,isExternallyManaged:i,onClick:()=>{o(!0)},experienceButtonType:e.experienceButtonType,telemetryProps:p},v={buttonType:null!==(n=e.buttonType)&&void 0!==n?n:u.L$.Primary,showModal:r,contentRef:h,subscriptionName:s,onComplete:m};return c.createElement(c.Fragment,null,c.createElement(ai,E()({},g)),c.createElement(ti,E()({},v)))},[Bn.Zr.NotSoldSeparately]:e=>{const t=(0,Y.mU)(e.actionArguments[T.Uh.IsBundleProduct]),{bundleNotAvailableActionText:n,notSoldSeparatelyActionText:r}=(0,f.y_)("bundleNotAvailableActionText","notSoldSeparatelyActionText"),o=t?n:r;switch(e.experienceButtonType){case Bn.Ug.Desktop:return c.createElement(li,{actionText:o});case Bn.Ug.Mobile:return c.createElement(ui,{actionText:o});case Bn.Ug.Overflow:return c.createElement(di,{actionText:o});default:return null}},[Bn.Zr.OpenInStore]:e=>{const t=(0,f.iV)("openInStoreButtonLabel"),{[T.Uh.ProductId]:n,[T.Uh.SkuId]:r,[T.Uh.AvailabilityId]:o}=e.actionArguments,a=(0,T.PH)(n,void 0,r,o),i=(0,S.EW)(),s=(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:t,id:"OpenInStoreButton",slotNumber:e.slotNumber},i),l={actionOverride:e.actionOverride,buttonId:"OpenInStoreButton",buttonLabel:t,buttonType:e.buttonType,slotNumber:e.slotNumber,storeLink:a,telemetryProps:s};switch(e.experienceButtonType){case Bn.Ug.CondensedDesktop:return c.createElement(mi,E()({},l));case Bn.Ug.Mobile:return c.createElement(pi,E()({},l));case Bn.Ug.Overflow:return c.createElement(gi,E()({},l));default:return null}},[Bn.Zr.RedeemACode]:e=>(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableRedeemCodeModal)))?c.createElement(Ui,E()({},e)):c.createElement($i,E()({},e)),[Bn.Zr.SkuSelector]:e=>{const{actionArguments:t,actionOverride:n,buttonType:r,experienceButtonType:o,slotNumber:a}=e,i=t[T.Uh.ProductId]||"",s=(t[T.Uh.SkuIdsList]||"").split(";").filter((e=>0!==e.length)).map((e=>({productId:i,skuId:e,availabilityId:""}))),[l,u,d]=(0,f.QF)("skuSelectorSubscriptionText","skuSelectorProductText","listItemAccessibilityLabelFormat"),h=(0,g._yM)(g.Hw9.SkuId,""),m=(0,S.EW)(),p=(0,v.useSelector)((e=>(0,Pt.zF)(e,i,h)));if(!(null===p||void 0===p?void 0:p.product)||!(null===p||void 0===p?void 0:p.sku))return null;const _=(0,g.Ypc)(p.product.productFamily,G.fO.Passes)?l:u,y={actionOverride:n,buttonType:r,listItemAccessibilityFormat:d,productIdentifiers:s,telemetryProps:(0,S._d)({behavior:S.cg.SHOW,contentName:_,id:"SkuSelectorButton",slotNumber:a},m),title:_};switch(o){case Bn.Ug.CondensedDesktop:return c.createElement(Yi,E()({},y));case Bn.Ug.Desktop:return c.createElement(jo,E()(E()({},y),{},{buttonAccessibilityLabel:_,subTitle:p.sku.skuTitle||p.product.title,preferSkuValues:!0,title:y.title.toLocaleUpperCase()}));case Bn.Ug.Mobile:return c.createElement(Qi,E()({},y));case Bn.Ug.Overflow:return c.createElement(Ji,E()({},y));default:return null}},[Bn.Zr.Trial]:e=>{let{actionArguments:t}=e,n=V()(e,gs);const{[T.Uh.UpsellProductId]:r}=t;return r?c.createElement(ls,E()(E()({},n),{},{actionArguments:t,upsellProductId:r})):c.createElement(rs,E()(E()({},n),{},{actionArguments:t}))},[Bn.Zr.Upsell]:e=>{let{actionArguments:t}=e,n=V()(e,Hs);const{[T.Uh.UpsellProductIdsList]:r,[T.Uh.UpsellProductIdsComingSoonList]:o}=t,a=(0,c.useContext)(to),i=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableMultiUpsellButton))),s=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableComingSoonUpsell))),l=E()(E()({},t),{},{[T.Uh.UpsellProductIdsList]:null!==r&&void 0!==r?r:"",[T.Uh.UpsellProductIdsComingSoonList]:s&&null!==o&&void 0!==o?o:""});let u;return u=i&&(r||s&&o)&&a!==Bn.vm.ContextualStore?Ls:As,c.createElement(u,E()(E()({},n),{},{actionArguments:l}))},[Bn.Zr.Wishlist]:e=>{var t;const[n,r]=[e.actionArguments[T.Uh.ProductId],e.actionArguments[T.Uh.SkuId]],o=(0,v.useDispatch)(),a=(0,v.useSelector)(C.yB),i=(0,S.EW)(),s=(0,g.$wQ)(),l=(0,g.IzA)(),u=(0,v.useSelector)((e=>(0,Pt.Z5)(e,T.Z0)));let d=(0,Y.mU)(e.actionArguments[T.Uh.IsOnWishlist]);u&&(d=!!(null===(t=u.products)||void 0===t?void 0:t.find((e=>e&&(0,g.kgH)(e.productId)===(0,g.kgH)(n)&&(0,g.kgH)(e.skuId)===(0,g.kgH)(r)))));const[h,m]=(0,c.useState)(),[p,_]=(0,c.useState)(!1),[y,b]=(0,c.useState)(!1),[E,I]=(0,c.useState)(d),[w,A,k,P,R,N]=(0,f.QF)("actionErrorMessage","addToWishListAccessibilityTemplate","addToWishListText","addToWishlistProcessingButtonAccessibilityLabelFormat","openWishlistButtonAccessibilityLabel","reloadPageRequestMessage"),O=(0,v.useSelector)((e=>(0,Pt.RY)(e,n,r)));if(!O||!O.product||!n||!r)return null;const L=(0,S._d)({behavior:E?S.cg.NAVIGATIONFORWARD:S.cg.ADDWISHLIST,contentName:E?R:k,id:"WishlistButton",slotNumber:e.slotNumber},i),M=(0,g.WUZ)(A,O.product.title),D=(0,g.WUZ)(P,O.product.title),U=e=>{b(!1),_(!0),e&&m(e.name)},B=()=>{I(!0),b(!1)};return c.createElement(c.Fragment,null,c.createElement(Eo,{actionAccessibilityLabel:M,actionIcon:qs,actionLabel:k,behavior:E?S.cg.OTHER:S.cg.ADDWISHLIST,buttonId:"WishlistButton",buttonType:e.buttonType,experienceButtonType:e.experienceButtonType,navigationAccessibilityLabel:R,navigationHref:"/wishlist",navigationIcon:Gs.Z,navigationLabel:R,onClick:()=>{if(a)b(!0),o(Pt.l.addWishListItem.start(B,U,T.Z0,n,r));else{const e=(0,g.kgH)(n)===G.Cv?l(window.location.href):s(window.location.href);window.location.assign(e)}},processingAccessibilityLabel:D,slotNumber:e.slotNumber,showSpinner:y,state:E,telemetryProps:L}),p&&c.createElement(x.u_,{className:ur,closeable:!0,show:p,onHide:()=>_(!1),ariaLabel:w},c.createElement(qe,{errorCode:h,errorMessage:w,userRequestMessage:N})))}},$s=(e,t,n,r,o)=>{let{actionType:a,actionArguments:i={}}=t;const s=zs[a];s&&e.push(c.createElement(s,{key:`${a}-index-${n}`,actionArguments:i,actionOverride:o,experienceButtonType:r,buttonType:0===n?u.L$.Brand:u.L$.Primary,slotNumber:n}))},Xs=(e,t,n,r,o)=>{const a=[],i=[],s=[];return e.forEach(((c,l)=>{const u=o&&o[c.actionType],d=u?()=>u(null===c||void 0===c?void 0:c.actionArguments):void 0;a.length+i.length<n||l===e.length-1&&0===s.length&&r?Bn.E2[c.actionType]<=Bn.E2.PrimaryActionPriorityCutoff?$s(a,c,l,t,d):$s(i,c,l,t,d):$s(s,c,s.length,Bn.Ug.Overflow,d)})),{primaryButtons:a,secondaryButtons:i,overflowChildren:s}},Vs=(e,t)=>(Bn.E2[e.actionType]||Number.MAX_SAFE_INTEGER)-(Bn.E2[t.actionType]||Number.MAX_SAFE_INTEGER);const Ws=e=>{const t=(0,f.iV)("actionPanelOverflowButtonAccessibilityLabel"),[n,r]=(0,c.useState)(Bn.Ug.CondensedDesktop),o=x.M9[x.JD.XS];(0,c.useEffect)((()=>{const e=window.matchMedia("(orientation: landscape)");e.matches&&window.innerHeight<=o&&r(Bn.Ug.Mobile),!e.matches&&window.innerWidth<=o&&r(Bn.Ug.Mobile)}),[o]);const{primaryButtons:a,secondaryButtons:i,overflowChildren:s}=Xs(e.actionsList,n,2,!1,e.productActionTypeToActionOverride),l=a.concat(i);return s.length>1&&l.push(c.createElement(Ar,{accessibilityLabel:t,containingElementRef:e.containingElementRef,experienceButtonType:n,slotNumber:l.length,key:"Action-Panel-Overflow-Button"},s)),c.createElement(c.Fragment,null,c.createElement("div",{className:"ContextualStoreActionPanelLayout-module__condensedDesktopProductActionsPanel___u-aMC"},l),c.createElement(js,{buttons:l}),c.createElement(Ks,{buttons:l}))},js=e=>{let{buttons:t}=e;return c.createElement("div",{className:"ContextualStoreActionPanelLayout-module__mobilePortraitProductActionsPanel___AsFJC"},c.createElement("div",null,t[1],t[2]),t[0])},Ks=e=>{let{buttons:t}=e;return c.createElement("div",{className:"ContextualStoreActionPanelLayout-module__mobileLandscapeProductActionsPanel___-QiXD"},c.createElement("div",null,t[0],t[1],t[2]))};var Zs="ProductActionsPanel-module__desktopProductActionsPanel___J1Jn3",Ys="ProductActionsPanel-module__orSeparator___isj1r";const Qs=e=>{(0,Y.FF)();const t=(0,x.EX)(),n=(0,f.iV)("actionPanelOverflowButtonAccessibilityLabel");let r=4,o=Bn.Ug.Desktop;switch(t){case x.JD.XXS:case x.JD.XS:case x.JD.SM:r=2,o=Bn.Ug.Mobile;break;case x.JD.MD:r=2;break;case x.JD.LG:r=3}const{primaryButtons:a,secondaryButtons:i,overflowChildren:s}=Xs(e.actionsList,o,r,o!==Bn.Ug.Mobile,e.productActionTypeToActionOverride),l=a.concat(i);let u;return t<=x.JD.SM?u=c.createElement("div",{className:"PDPActionPanelLayout-module__mobileProductActionsPanel___F8s4J"},l[0],l.length>1&&c.createElement("div",null,l[1],s.length>0&&c.createElement(Ar,{accessibilityLabel:n,experienceButtonType:o,slotNumber:2},s))):(a.length>1&&!ec(e.actionsList)&&l.splice(1,0,c.createElement(Js,{key:"OR"})),s.length>1&&l.push(c.createElement(Ar,{accessibilityLabel:n,containingElementRef:e.containingElementRef,experienceButtonType:o,slotNumber:l.length,key:"Action-Panel-Overflow-Button"},s)),u=c.createElement(W.FocusContainer,{className:Zs},l)),u},Js=()=>{const e=(0,f.iV)("orSeparatorText");return c.createElement("span",{className:Ys},e)},ec=e=>{const t=e.some((e=>e.actionType===Bn.Zr.AccountLink)),n=e.some((e=>{const t=e.actionArguments?e.actionArguments[T.Uh.IsDisabled]:"";return e.actionType===Bn.Zr.Acquisition&&(0,Y.mU)(t)}));return t&&n};const tc=e=>{(0,Y.FF)();const t=(0,x.EX)(),n=(0,f.iV)("actionPanelOverflowButtonAccessibilityLabel");let r=4;switch(t){case x.JD.XXS:r=1;break;case x.JD.XS:case x.JD.SM:case x.JD.MD:r=2;break;case x.JD.LG:r=3}const{primaryButtons:o,secondaryButtons:a,overflowChildren:i}=Xs(e.actionsList,Bn.Ug.Desktop,r,!1),l=t<=x.JD.SM,u=o.concat(a);return o.length>1&&t>x.JD.SM&&u.splice(1,0,c.createElement(nc,{key:"OR"})),i.length>1&&u.push(c.createElement(c.Fragment,null,l&&c.createElement("div",{className:"PDPPageBarActionPanelLayout-module__overflowSeparator___g01Hh"}),c.createElement(Ar,{accessibilityLabel:n,experienceButtonType:l?Bn.Ug.Mobile:Bn.Ug.Desktop,slotNumber:u.length,key:"Page-Bar-Action-Panel-Overflow-Button",overrideClassName:s()([Q,br])},i))),c.createElement(W.FocusContainer,{className:s()(l?"PDPPageBarActionPanelLayout-module__mobileProductActionsPanel___PmqB6":Zs,l?"PDPPageBarActionPanelLayout-module__stickyHeaderMobileText___eavIU":P.uo)},u)},nc=()=>{const e=(0,f.iV)("orSeparatorText");return c.createElement("span",{className:Ys},e)};const rc=e=>{var t;const[n,r,o,a,i,s,l]=(0,f.QF)("errorButtonText","errorButtonAccessibilityLabel","pleaseTryAgainMessage","actionFetchErrorMessage","reloadPageRequestMessage","reloadPageButtonText","cancelButtonText"),d=(0,S.EW)(),h=(0,S._d)({behavior:S.cg.SHOW,contentName:n,id:"ErrorButton",slotNumber:0},d),m=null===(t=e.error)||void 0===t?void 0:t.httpStatusCode,p=()=>{"undefined"!==typeof location&&location.reload()};return c.createElement(ae,null,c.createElement(ae.Button,{accessibilityLabel:r,buttonType:u.L$.Primary,className:lr,telemetryProps:h},c.createElement("div",{className:P.uo},n),c.createElement("div",{className:P.S7},o)),c.createElement(ae.Flyout,null,c.createElement(ne,null,(e=>c.createElement(qe,{className:"ErrorButton-module__flyoutContentContainer___-uOkR",errorCode:null===m||void 0===m?void 0:m.toString(),errorMessage:a,primaryButtonAction:p,primaryButtonText:s,secondaryButtonAction:e.closeFlyout,secondaryButtonText:l,userRequestMessage:i})))))};n(1951);var oc="LoadingButtonPanel-module__shimmerAddons___LfBS4",ac="LoadingButtonPanel-module__shimmerBackground1___9hgH0",ic="LoadingButtonPanel-module__smallLoadingButton___zFPmW";const sc=()=>{let e="LoadingButtonPanel-module__desktopLoadingButtonPanel___A6zGo";const t=[];switch((0,x.EX)()){default:case x.JD.XL:t.unshift(c.createElement("div",{key:"Desktop Loading_Button_5",className:s()(ic,nt.f8,oc,"LoadingButtonPanel-module__shimmerBackground5___ivz+n")}));case x.JD.LG:t.unshift(c.createElement("div",{key:"Desktop Loading_Button_4",className:s()(ic,nt.f8,oc,"LoadingButtonPanel-module__shimmerBackground4___di0xE")}));case x.JD.MD:t.unshift(c.createElement("div",{key:"Desktop Loading_Button_3",className:s()(ic,nt.f8,oc,"LoadingButtonPanel-module__shimmerBackground3___zcVff")})),t.unshift(c.createElement("div",{key:"Desktop Loading_Button_2",className:s()("LoadingButtonPanel-module__largeLoadingButton___ebOUG",nt.f8,oc,"LoadingButtonPanel-module__shimmerBackground2___L-v+N")})),t.unshift(c.createElement("div",{key:"Desktop Loading_Button_1",className:s()("LoadingButtonPanel-module__mediumLoadingButton___40Gcb",nt.f8,oc,ac)}));break;case x.JD.SM:case x.JD.XS:case x.JD.XXS:e="LoadingButtonPanel-module__mobileLoadingButtonPanel___EIz1q",t.push(c.createElement("div",{key:"Mobile Loading_Button_1",className:s()(nt.f8,oc,ac)})),t.push(c.createElement("div",{key:"Mobile Loading_Button_2",className:s()(nt.f8,oc,"LoadingButtonPanel-module__mobileShimmerBackground___behtU")}))}return c.createElement("div",{className:e},t)},cc=c.memo((e=>{const t=e.productId,n=(0,v.useSelector)((e=>(0,Pt.FJ)(e,t))),r=()=>c.createElement(uc,null);return c.createElement(to.Provider,{value:e.actionPanelContext},c.createElement(ht,{key:`PAP_${t}_${e.selectedSkuId}}`,lceState:n,content:t=>c.createElement(lc,E()({productActions:t.data.productActions,skuActions:t.data.skuActionsBySkuId},e)),error:e=>c.createElement(rc,{error:e.error}),defaultRender:r,isFetching:()=>c.createElement(sc,null),isNotRequested:r}))}),((e,t)=>(0,g.kgH)(e.productId)===(0,g.kgH)(t.productId)&&(0,g.kgH)(e.selectedSkuId||"")===(0,g.kgH)(t.selectedSkuId||""))),lc=e=>{const t=(0,x.EX)(),{containingElementRef:n,hideOpenInStore:r,selectedSkuId:o,contentTelemetry:a,productActions:i,skuActions:s,productId:l,productActionTypeToActionOverride:u}=e,d=[i];o&&d.push(s[(0,g.kgH)(o)]);const h=((e,t,n)=>{const r={};return e.filter((e=>!!e)).forEach((e=>{e.filter((e=>!!e)).forEach((e=>{e.actionType===Bn.Zr.EditionSelector&&t<=x.JD.SM||e.actionType===Bn.Zr.OpenInStore&&n||(r[e.actionType]=e)}))})),Object.values(r)})(d,t,r);h.sort(Vs);const m={actionsList:h,containingElementRef:n,productActionTypeToActionOverride:u};let p,f;switch((0,c.useContext)(to)){case Bn.vm.ContextualStore:p=Ws,f="ContextualStore-ProductActionsPanel";break;case Bn.vm.PDPPageBar:p=tc,f="PDPPageBar-ProductActionsPanel";break;case Bn.vm.PDP:default:p=Qs,f="ProductActionsPanel"}const v=(0,S._d)({areaName:f,contentType:S.zc.Button,productId:l,skuId:o},a);return c.createElement(S.OR.Provider,{value:v},c.createElement(p,E()({},m)))},uc=()=>{let e;switch((0,x.EX)()){case x.JD.XXS:case x.JD.XS:case x.JD.SM:e="ProductActionsPanel-module__mobileProductActionsPanelPlaceholder___VTlrI";break;case x.JD.MD:case x.JD.LG:default:e=Zs}return c.createElement("div",{className:e})};var dc="TargetedOfferHeadline-module__offerBadgeText___k15V1";const hc=e=>{var t,n,r;const{productId:o,skuId:a,isXPriceStorewideOffer:i}=e,l=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableDealXPriceText))),[u,d,h,m]=(0,f.QF)("productCardJustForYouFooterMessage","targetedOfferPromoMessageFormat","productCardDealForYouFooterMessage","upgradeOfferBadge"),p=(0,v.useSelector)((e=>(0,Pt.zF)(e,o,a))),_=null===p||void 0===p?void 0:p.availability,y=null===(t=null===_||void 0===_?void 0:_.price)||void 0===t?void 0:t.eligibilityInfo,b=null===_||void 0===_?void 0:_.price,E=(null===(n=null===b||void 0===b?void 0:b.xPriceOfferInfo)||void 0===n?void 0:n.xPriceOfferSubType)===G.US.UpgradedDifferentialOffer,C=E||(null===y||void 0===y?void 0:y.type)===G.sL.XPrice,S=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableEditionUpgradeOffer)))&&E;if(!C||!b)return null;const T=(0,G.Z6)(b.msrp,b.listPrice),I=(0,g.WUZ)(d,T.toString(),null!==(r=null===y||void 0===y?void 0:y.affirmationMessage)&&void 0!==r?r:"");return c.createElement("div",{className:"TargetedOfferHeadline-module__offerBadge___hdx-5"},S?c.createElement("div",{className:s()(P.lO,dc,"TargetedOfferHeadline-module__upgradeOfferBadge___bx7gs")},m):!i&&c.createElement("div",{className:s()(P.lO,dc,"TargetedOfferHeadline-module__justForYouBadgeText___gBX2j")},l?h:u),c.createElement("div",{className:"TargetedOfferHeadline-module__promoMessage___xyITh"},I))};const mc=e=>{var t,n,r;const{productId:o,skuId:a,availabilityId:i,onGoBack:l,onPurchaseAction:u,onGiftAction:d,onRedeemAction:h,setIsLoading:m,onError:p,onOpenStoreUrl:_,onShowSkuPicker:b,hideShowInStore:E}=e,[C,S,I]=(0,f.QF)("skuProductTitleTemplate","publishedByTemplate","upgradeOfferRemarkText"),w=(0,c.useRef)(null),A=(0,v.useSelector)(g.NDL),k=(0,T.PH)(o,void 0,a,i),R=(0,v.useSelector)((e=>(0,Pt.mr)(e,o,a,i)));(0,W.useBackHandler)((0,c.useCallback)((()=>(l(),!0)),[l])),(0,c.useEffect)((()=>{R&&(m(!1),R.sku&&R.availability||p(new Error("Missing sku or availability information")))}),[p,R,m]);const N=null===R||void 0===R?void 0:R.product,O=null===R||void 0===R?void 0:R.sku,L=null===R||void 0===R?void 0:R.availability,M=null===(t=null===R||void 0===R?void 0:R.availability)||void 0===t?void 0:t.price,D=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableEditionUpgradeOffer)))&&(null===(n=null===M||void 0===M?void 0:M.xPriceOfferInfo)||void 0===n?void 0:n.xPriceOfferSubType)===G.US.UpgradedDifferentialOffer;if(!N||!O||!L)return null;const U=!!(null===(r=null===M||void 0===M?void 0:M.xPriceOfferInfo)||void 0===r?void 0:r.isXPriceStorewideOffer),B=O.skuTitle&&O.skuTitle!==N.title?(0,g.WUZ)(C,N.title,O.skuTitle):N.title,F=N.publisherName?(0,g.WUZ)(S,N.publisherName):"",H=(0,G.SP)(N,O),q=(0,G.wF)(N,O),z=(0,G.nk)(N,O),$=(0,g.Ypc)(N.productFamily,G.fO.Passes)||(0,g.Ypc)(N.productFamily,G.fO.Subscription),X={[Bn.Zr.Acquisition]:u,[Bn.Zr.BuyToOwn]:u,[Bn.Zr.Extend]:u,[Bn.Zr.OpenInStore]:()=>_(k),[Bn.Zr.SkuSelector]:b,[Bn.Zr.Trial]:u};d&&(X[Bn.Zr.Gift]=d),h&&(X[Bn.Zr.RedeemACode]=h);const V=!!N.contentRating&&!!N.legalNotices;return c.createElement("div",{className:"DesktopMiniProductDetailsPage-module__miniPdpContainer___2wqKo",ref:w},c.createElement("div",{className:"DesktopMiniProductDetailsPage-module__heroContainer___uIgks"},c.createElement(x.Ee,{className:"DesktopMiniProductDetailsPage-module__heroImage___ug064",src:null===q||void 0===q?void 0:q.url,width:608,height:714,alt:(null===q||void 0===q?void 0:q.caption)||B,hideShadow:!0,fluid:!0}),c.createElement("div",{className:"DesktopMiniProductDetailsPage-module__heroLinearGradient___DcNWn"})),c.createElement("div",{className:"DesktopMiniProductDetailsPage-module__informationContainer___Ur19o"},c.createElement("div",{className:"DesktopMiniProductDetailsPage-module__identityContainer___AOkmQ"},c.createElement(x.Ee,{height:144,width:96,src:null===H||void 0===H?void 0:H.url,alt:(null===H||void 0===H?void 0:H.caption)||B,className:"DesktopMiniProductDetailsPage-module__boxArtImage___MqLkW"}),c.createElement("div",{className:"DesktopMiniProductDetailsPage-module__identityInformationContainer___fJNGD"},c.createElement("h1",{className:s()(P.a2,"DesktopMiniProductDetailsPage-module__titleFontAdjustments___ExUih")},B),c.createElement("h3",{className:s()(P.gC,"DesktopMiniProductDetailsPage-module__subtitleTextAdjustments___C68Mg")},F),c.createElement(G.HR,{hasAddOns:N.hasAddOns,productInfo:R,productPrice:M,recurrencePolicySummary:O.recurrencePolicySummary,isPass:$,className:P.hO,historicalLowestListPrice:O.historicalLowestListPrice,discountDetailClassName:P.gC,hideDiscountMessage:D}),(D||!U)&&c.createElement("div",{className:"DesktopMiniProductDetailsPage-module__badgeWrapper___S3faN"},c.createElement(hc,{productId:o,isXPriceStorewideOffer:U})))),c.createElement(Xe,{className:"DesktopMiniProductDetailsPage-module__scrollableDescriptorsContainer___ANdBn",gradientColorOverride:A.theme===g.Q2A.Dark?dn:hn},c.createElement("div",{className:"DesktopMiniProductDetailsPage-module__descriptorsContainer___jHE5l"},c.createElement(or,{productId:o,itemClassName:"DesktopMiniProductDetailsPage-module__playableOnItemOverride___KZQ+6",titleClassName:s()(P.RO,"DesktopMiniProductDetailsPage-module__playableOnTitle___lbh2d"),className:"DesktopMiniProductDetailsPage-module__playableOnContainer___AFmRm"}),c.createElement("div",{className:s()(P.RO,"DesktopMiniProductDetailsPage-module__description___D71J3")},z))),c.createElement("div",{className:"DesktopMiniProductDetailsPage-module__actionPanelContainer___Bcbma"},c.createElement(cc,{actionPanelContext:Bn.vm.ContextualStore,containingElementRef:w,hideOpenInStore:E,productActionTypeToActionOverride:X,productId:o,selectedSkuId:a})),D&&c.createElement("p",{className:s()(P.$c,"DesktopMiniProductDetailsPage-module__upgradeOfferRemarkText___wT+Tc")},I),c.createElement("div",{className:s()("DesktopMiniProductDetailsPage-module__legalContainer___TJalL",V?"DesktopMiniProductDetailsPage-module__legalItemsWidthAdjustment___C1F2p":"")},c.createElement(y,{productId:o,className:"DesktopMiniProductDetailsPage-module__rating___KetXe"}),V&&c.createElement("div",{className:"DesktopMiniProductDetailsPage-module__dividingLine___g+EAG"}),c.createElement("div",null,c.createElement(Hn,{productId:o,className:P.Km})))))};var pc=(0,c.memo)((function(e){var t=e.icon,n=e.className,o=e.label,a=e.iconClassName,i=e.iconStyle,l=e.labelClassName,u=e.labelStyle,d=(0,r.__rest)(e,["icon","className","label","iconClassName","iconStyle","labelClassName","labelStyle"]);return c.createElement("div",(0,r.__assign)({className:s()("IconText-module__container___9pn0K",n)},d),c.createElement(t,{className:s()("IconText-module__icon___2lSCQ",a),style:i}),c.createElement("div",{className:s()("IconText-module__label___SkTCC",l),style:u},o))})),gc=n(79517),fc="SkuPickerButton-module__ellipseOnOverflow___eiTTG",vc="SkuPickerButton-module__noBottomMargin___nYQTb";const _c=e=>{var t,n,r,o;const{className:a,productId:i,skuId:l,availabilityId:d,onClick:h}=e,m=(0,v.useSelector)(g.yWe),p=(0,v.useSelector)((e=>(0,Ci.mr)(e,i,l,d))),_=(0,f.iV)("plusSignDelimiterStringTemplate"),y=null===(t=null===p||void 0===p?void 0:p.sku)||void 0===t?void 0:t.skuTitle,b=null===(n=null===p||void 0===p?void 0:p.availability)||void 0===n?void 0:n.promotionalDuration,E=null===(r=null===p||void 0===p?void 0:p.availability)||void 0===r?void 0:r.price,C=(0,G.Xz)(b),S=E&&(0,g.xGv)(E.listPrice,E.currency,m),T=y&&C?(0,g.WUZ)(_,y,C):y;return c.createElement(j.Z,{as:"button",className:a,icon:et.Z,buttonType:u.L$.Secondary,overlayMode:u.gT.Solid,onClick:h},c.createElement(x.X2,{className:(0,x.Nl)("width",100)},!!T&&c.createElement(x.sg,{xs:9},c.createElement("p",{className:s()(vc,fc)},T)),E&&c.createElement(x.sg,{xs:3,className:"SkuPickerButton-module__priceInfo___WpcBt"},c.createElement("p",{className:s()(vc,fc)},`${S}${(null===(o=null===p||void 0===p?void 0:p.product)||void 0===o?void 0:o.hasAddOns)?"+":""}`))))};var yc="ContextualStoreProductDetailsPage-module__marginBottom1___vx0XP",bc="ContextualStoreProductDetailsPage-module__marginTop1___fzkzL",Ec="ContextualStoreProductDetailsPage-module__multipleButtonRow___YefIf",Cc="ContextualStoreProductDetailsPage-module__paddingLeft0___gaLHu",Sc="ContextualStoreProductDetailsPage-module__paddingRight0___gAqxV",Tc="ContextualStoreProductDetailsPage-module__seeInStoreButtonContent___JfSNJ",Ic="ContextualStoreProductDetailsPage-module__skuPicker___Y81pW",wc="ContextualStoreProductDetailsPage-module__skuPickerContainer___-xrrl",Ac="ContextualStoreProductDetailsPage-module__uiExpActionButton___5lfV2",kc="ContextualStoreProductDetailsPage-module__upShiftContainers___1bo+v",Pc="ContextualStoreProductDetailsPage-module__width100___Rn+5k";const xc=e=>{var t,n,r,o,a,i;const{productId:l,skuId:u,availabilityId:d,hideShowInStore:h,trackingParams:m,xStoreScenario:p,itemType:_,clientType:b,onPurchaseAction:E,onError:C,setIsLoading:S,onShowSkuPicker:I,onGoBack:w,onOpenStoreUrl:A}=e,[k,R,N,O,L,M,D,U,B,F,H]=(0,f.QF)("buyActionText","buyActionAccessibilityTextWithPrice","nextActionText","getActionText","getActionAccessibilityTextWithPrice","selectOfferText","seeInStoreButtonText","buyInStoreButtonText","subscriptionRecurrenceLegalNotice","dlcRequiresGameLegalNotice","closeButtonText"),q=(0,v.useSelector)((e=>(0,Pt.mr)(e,l,u,d))),z=(0,v.useSelector)(g.Xnf).userAgent,[$,X]=(0,c.useState)(!1),V=(0,v.useSelector)((e=>(0,Pt.NP)(e,l))),j=Nn(g.vCX.EnableBuyNowXboxUiExp),K=(0,v.useSelector)(g.Yzi),Z=(0,v.useSelector)(g.Xnf).origin;(0,c.useEffect)((()=>{q&&(S(!1),q.sku&&q.availability||C(new Error("Missing sku or availability information")))}),[C,q,S]),(0,W.useBackHandler)((0,c.useCallback)((()=>(w(),!0)),[w]));const Y=null===q||void 0===q?void 0:q.sku,Q=null===q||void 0===q?void 0:q.availability,J=null===(t=null===q||void 0===q?void 0:q.availability)||void 0===t?void 0:t.price,ee=(0,G.OD)(J),te=(0,f.iV)("skuProductTitleTemplate",null!==(r=null===(n=null===q||void 0===q?void 0:q.product)||void 0===n?void 0:n.title)&&void 0!==r?r:"",null!==(a=null===(o=null===q||void 0===q?void 0:q.sku)||void 0===o?void 0:o.skuTitle)&&void 0!==a?a:"");if(!q||!Y)return null;const ne=q.product,re=V.length>1,oe=(null===Y||void 0===Y?void 0:Y.skuTitle)&&(null===Y||void 0===Y?void 0:Y.skuTitle)!==ne.title?te:ne.title,ae=ne.publisherName,ie=J&&J.listPrice<=0,se=ne.productFamily===G.fO.Subscription||ne.productFamily===G.fO.Passes,ce=(0,G.nQ)(ne.productKind),le=ie?O:se?N:k,ue=ee&&(0,g.WUZ)(ie?L:se?N:R,oe,ee.lowestPrice||""),de=(0,G.wF)(ne,Y),he=(0,G.SP)(ne,Y),me=j&&he?he:(0,G.Ie)(ne,Y),pe=(0,G.nk)(ne,Y),ge={productId:l,skuId:u,availabilityId:d},fe=()=>{const e=(0,T.Ok)(Z,K,l,oe,u,d);A?A(e):window.open(e,"_blank")},ve=(null===(i=Y.recurrencePolicySummary)||void 0===i?void 0:i.isRecurring)?B:void 0,_e=(0,un.hA)(z);return c.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__rootContainer___LKLDG")},c.createElement("div",{className:"ContextualStoreProductDetailsPage-module__heroContainer___bI3Qf"},c.createElement(x.Ee,{className:s()(Pc,"ContextualStoreProductDetailsPage-module__heroImage___6vJQV"),src:null===de||void 0===de?void 0:de.url,width:480,height:270,hideShadow:!0,fluid:!0,alt:(null===de||void 0===de?void 0:de.caption)||oe}),c.createElement("div",{className:"ContextualStoreProductDetailsPage-module__heroLinearGradient___TaUmc"})),c.createElement(x.W2,{className:"ContextualStoreProductDetailsPage-module__body___LV6g1"},c.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__justifyContentCenter___oyHc8","ContextualStoreProductDetailsPage-module__displayFlex___cTCTp",kc)},c.createElement(x.Ee,{className:s()("shadow","ContextualStoreProductDetailsPage-module__portraitProductImage___+4ts6"),width:96,height:144,src:null===he||void 0===he?void 0:he.url,fluid:!0,alt:(null===de||void 0===de?void 0:de.caption)||oe}),c.createElement("div",{className:"ContextualStoreProductDetailsPage-module__productItem___V63iN"},c.createElement("div",{className:"ContextualStoreProductDetailsPage-module__landscapeProductImageContainer___aRkqe"},c.createElement(x.Ee,{src:null===me||void 0===me?void 0:me.url,className:"ContextualStoreProductDetailsPage-module__landscapeProductImage___EF3wD",width:96,height:96,fluid:!0,alt:(null===de||void 0===de?void 0:de.caption)||oe})),c.createElement("div",{className:"ContextualStoreProductDetailsPage-module__info___Rz2G1"},c.createElement("h2",{className:s()(P.cN,"ContextualStoreProductDetailsPage-module__landscapeTitle___faUoV")},oe),J&&Q&&c.createElement(G.HR,{className:s()("ContextualStoreProductDetailsPage-module__priceDetails___Vy-Ax",P.S7),hasAddOns:ne.hasAddOns,isPass:se,productInfo:q,productPrice:J,recurrencePolicySummary:Y.recurrencePolicySummary}),!!ve&&c.createElement("div",{className:P.RO},c.createElement("span",null,ve)),ce&&c.createElement("span",{className:s()("ContextualStoreProductDetailsPage-module__dlcMessage___Y7p8n",P.S7)},F)))),c.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__portraitHeader___bDcBi",kc)},c.createElement("h2",{className:s()(P.cN,"ContextualStoreProductDetailsPage-module__portraitTitle___WgGK6")},oe),c.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__productSubtitle___Q97sz",P.Km)},c.createElement("p",{className:"ContextualStoreProductDetailsPage-module__marginBottom0___ZPgNJ"},ae))),c.createElement(W.GamepadScrollable,{className:s()("ContextualStoreProductDetailsPage-module__productInfoContainer___dMhhj",kc,{"ContextualStoreProductDetailsPage-module__productInfoContainerFocused___CdVX1":$}),maxScrollPixels:155,onFocus:()=>X(!0),onBlur:()=>X(!1)},c.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__skuInfoContainer___w8l2m")},!se&&c.createElement(y,{productId:l,className:"ContextualStoreProductDetailsPage-module__ageRatingInfo___ahA2t"}),c.createElement("div",{className:"ContextualStoreProductDetailsPage-module__portraitPrice___4Mxfs"},J&&Q&&c.createElement(G.HR,{className:P.S7,hasAddOns:ne.hasAddOns,isPass:se,productInfo:q,productPrice:J,recurrencePolicySummary:Y.recurrencePolicySummary})),!!ve&&c.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__portraitLegalMessages___VguOH",P.RO)},c.createElement("span",null,ve)),re&&!_e&&c.createElement("div",{className:s()(wc)},c.createElement("p",{className:s()(P.S7,yc)},M),c.createElement(_c,{className:s()(Ic),productId:l,skuId:ge.skuId,availabilityId:ge.availabilityId,onClick:I})),!se&&c.createElement(rr,{productId:l,className:"ContextualStoreProductDetailsPage-module__playableOnContainer___bQTzM",itemClassName:"ContextualStoreProductDetailsPage-module__playableOnItem___5NF94",titleClassName:s()(P.F$,"ContextualStoreProductDetailsPage-module__playableOnTitle___0Z2tD")})),c.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__descriptionContainer___rmst4")},c.createElement("span",{className:s()("ContextualStoreProductDetailsPage-module__description___lwQS7",P.RO)},pe))),c.createElement("div",{className:s()(kc,"ContextualStoreProductDetailsPage-module__multipleButtonContainer___DN-ZY")},_e?c.createElement(Rc,{showSkuPickerButton:re,locSelectOfferText:M,locale:K,title:te,productId:l,selectedPSA:ge,onShowSkuPicker:I,openPdpInNewWindow:fe,buyInStoreButtonText:U,closeButtonText:H,trackingParams:m,xStoreScenario:p,itemType:_,clientType:b}):c.createElement(Nc,{hideShowInStore:h,openPdpInNewWindow:fe,seeInStoreButtonText:D,locPrimaryActionAccessibilityText:ue,handleOnPurchaseAction:()=>{S(!0),E()},locPrimaryActionText:le,enableBuyNowXboxUiExp:j}))))},Rc=e=>{let{showSkuPickerButton:t,locSelectOfferText:n,locale:r,title:o,productId:a,selectedPSA:i,onShowSkuPicker:l,openPdpInNewWindow:d,buyInStoreButtonText:h,closeButtonText:m,trackingParams:p,xStoreScenario:g,itemType:f,clientType:v}=e;const _=(0,T.Tf)(void 0,r,i.productId,o,i.skuId,i.availabilityId||"",void 0,null===p||void 0===p?void 0:p.callerApplicationId,null===p||void 0===p?void 0:p.campaignId,g,f,v);return c.createElement(c.Fragment,null,c.createElement(x.X2,{className:Ec},t&&c.createElement(x.sg,{xs:6,className:s()(Cc,Sc)},c.createElement("div",{className:s()(wc)},c.createElement("p",{className:s()(P.S7,yc)},n),c.createElement(_c,{className:s()(Ic),productId:a,skuId:i.skuId,onClick:l}))),c.createElement(x.sg,{xs:6,className:s()(Cc,"ContextualStoreProductDetailsPage-module__storeLinkButtonContainer___gabNQ")},c.createElement(j.Z,{as:"a",icon:fi,className:s()("ContextualStoreProductDetailsPage-module__storeLinkButton___CPriI"),buttonType:u.L$.Brand,onClick:d,href:_,target:"_blank","data-autofocus":!0},c.createElement("div",{className:Tc},c.createElement("span",null,h.toLocaleUpperCase())))),c.createElement(x.sg,{xs:6,className:s()(Cc,"ContextualStoreProductDetailsPage-module__bButtonContainer___b0XAx")},c.createElement(pc,{icon:gc.Z,label:m,className:"ContextualStoreProductDetailsPage-module__bButtonIcon___6npbL"}))))},Nc=e=>{let{hideShowInStore:t,openPdpInNewWindow:n,seeInStoreButtonText:r,locPrimaryActionAccessibilityText:o,handleOnPurchaseAction:a,locPrimaryActionText:i,enableBuyNowXboxUiExp:l=!1}=e;return c.createElement(x.X2,{className:Ec},!t&&c.createElement(x.sg,{xs:6,className:s()(Cc)},c.createElement(vn.K,{as:"a",className:s()(Pc,bc,l?Ac:void 0),buttonType:u.L$.Primary,onClick:n,style:{cursor:"pointer"},tabIndex:0},c.createElement("div",{className:Tc},c.createElement("div",null),c.createElement("span",null,r.toLocaleUpperCase()),c.createElement(d.JO,{iconSize:d.Jh.XXSmall,className:"ContextualStoreProductDetailsPage-module__seeInStoreExternalUrlIcon___oneUD",icon:Kt.Z})))),c.createElement(x.sg,{xs:t?12:6,className:s()(Cc,Sc)},c.createElement(vn.K,{as:"button","aria-label":o,className:s()(Pc,bc,"ContextualStoreProductDetailsPage-module__actionButton___wDRb8",l?Ac:void 0),buttonType:u.L$.Brand,onClick:a,"data-autofocus":!0},i.toLocaleUpperCase())))};const Oc=e=>{var t,n,r;const{availabilityId:o,hideShowInStore:a,onError:i,onGoBack:l,onOpenStoreUrl:u,onPurchaseAction:d,onGiftAction:h,onRedeemAction:m,onShowSkuPicker:p,productId:_,setIsLoading:b,skuId:E}=e,[C,S]=(0,f.QF)("skuProductTitleTemplate","publishedByTemplate"),I=(0,v.useSelector)(g.NDL),w=(0,T.PH)(_,void 0,E,o),A=(0,v.useSelector)((e=>(0,Pt.mr)(e,_,E,o)));(0,W.useBackHandler)((0,c.useCallback)((()=>(l(),!0)),[l])),(0,c.useEffect)((()=>{A&&(b(!1),A.sku&&A.availability||i(new Error("Missing sku or availability information")))}),[i,A,b]);const k=null===A||void 0===A?void 0:A.product,R=null===A||void 0===A?void 0:A.sku,N=null===A||void 0===A?void 0:A.availability,O=null===(t=null===A||void 0===A?void 0:A.availability)||void 0===t?void 0:t.price,L=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableEditionUpgradeOffer)))&&(null===(n=null===O||void 0===O?void 0:O.xPriceOfferInfo)||void 0===n?void 0:n.xPriceOfferSubType)===G.US.UpgradedDifferentialOffer;if(!k||!R||!N)return null;const M=!!(null===(r=null===O||void 0===O?void 0:O.xPriceOfferInfo)||void 0===r?void 0:r.isXPriceStorewideOffer),D=R.skuTitle&&R.skuTitle!==k.title?(0,g.WUZ)(C,k.title,R.skuTitle):k.title,U=k.publisherName?(0,g.WUZ)(S,k.publisherName):"",B=(0,G.SP)(k,R),F=(0,G.wF)(k,R),H=(0,G.nk)(k,R),q=(0,g.Ypc)(k.productFamily,G.fO.Passes)||(0,g.Ypc)(k.productFamily,G.fO.Subscription),z={[Bn.Zr.Acquisition]:d,[Bn.Zr.BuyToOwn]:d,[Bn.Zr.Extend]:d,[Bn.Zr.OpenInStore]:()=>u(w),[Bn.Zr.SkuSelector]:p,[Bn.Zr.Trial]:d};return h&&(z[Bn.Zr.Gift]=h),m&&(z[Bn.Zr.RedeemACode]=m),c.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__miniPdpContainer___JTHS9"},c.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__heroContainer___ARaCo"},c.createElement("img",{className:"MobilePortraitMiniProductDetailsPage-module__heroImage___vCHwR",src:null===F||void 0===F?void 0:F.url,alt:(null===F||void 0===F?void 0:F.caption)||D}),c.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__heroLinearGradient___+Dxxg"})),c.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__informationContainer___LRiyI"},c.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__identityContainerWrapper___FXXWV"},c.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__identityContainer___s-wEZ"},c.createElement(x.Ee,{height:144,width:96,src:null===B||void 0===B?void 0:B.url,alt:(null===B||void 0===B?void 0:B.caption)||D,className:"MobilePortraitMiniProductDetailsPage-module__boxArtImage___T6McP"}),c.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__identityInformationContainer___glMX-"},c.createElement("h1",{className:s()(P.a2,"MobilePortraitMiniProductDetailsPage-module__titleFontAdjustments___uO6Sj")},D),c.createElement("h3",{className:s()(P.gC,"MobilePortraitMiniProductDetailsPage-module__subtitleTextAdjustments___5K2hm")},U),c.createElement(G.HR,{hasAddOns:k.hasAddOns,productInfo:A,productPrice:O,recurrencePolicySummary:R.recurrencePolicySummary,isPass:q,className:P.hO,historicalLowestListPrice:R.historicalLowestListPrice,discountDetailClassName:P.gC,hideDiscountMessage:L}))),(L||!M)&&c.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__badgeWrapper___qVEUL"},c.createElement(hc,{productId:_,isXPriceStorewideOffer:M}))),c.createElement(Xe,{className:s()("MobilePortraitMiniProductDetailsPage-module__scrollableDescriptorsContainer___4ULRC",L?"MobilePortraitMiniProductDetailsPage-module__postOffersScrollableDescriptorsContainer___-AAz9":null),gradientColorOverride:I.theme===g.Q2A.Light?hn:dn},c.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__descriptorsContainer___SKnCY"},c.createElement(or,{productId:_,itemClassName:"MobilePortraitMiniProductDetailsPage-module__playableOnItemOverride___El5iI",titleClassName:s()(P.RO,"MobilePortraitMiniProductDetailsPage-module__playableOnTitle___VcVtx"),className:"MobilePortraitMiniProductDetailsPage-module__playableOnContainer___wcvH0"}),c.createElement(y,{productId:_,className:"MobilePortraitMiniProductDetailsPage-module__rating___ySRgM"}),c.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__legalContainer___O3hTJ"},c.createElement(Hn,{productId:_,className:P.Km})),c.createElement("div",{className:P.RO},H))),c.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__actionPanelContainer___p4-Ld"},c.createElement(cc,{actionPanelContext:Bn.vm.ContextualStore,hideOpenInStore:a,productActionTypeToActionOverride:z,productId:_,selectedSkuId:E}))))};const Lc=e=>{var t,n,r;const{availabilityId:o,hideShowInStore:a,onError:i,onGoBack:l,onOpenStoreUrl:u,onPurchaseAction:d,onGiftAction:h,onRedeemAction:m,onShowSkuPicker:p,productId:_,setIsLoading:b,skuId:E}=e,[C,S]=(0,f.QF)("skuProductTitleTemplate","publishedByTemplate"),I=(0,v.useSelector)(g.NDL),w=(0,T.PH)(_,void 0,E,o),A=(0,v.useSelector)((e=>(0,Pt.mr)(e,_,E,o)));(0,W.useBackHandler)((0,c.useCallback)((()=>(l(),!0)),[l])),(0,c.useEffect)((()=>{A&&(b(!1),A.sku&&A.availability||i(new Error("Missing sku or availability information")))}),[i,A,b]);const k=null===A||void 0===A?void 0:A.product,R=null===A||void 0===A?void 0:A.sku,N=null===A||void 0===A?void 0:A.availability,O=null===(t=null===A||void 0===A?void 0:A.availability)||void 0===t?void 0:t.price,L=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableEditionUpgradeOffer)))&&(null===(n=null===O||void 0===O?void 0:O.xPriceOfferInfo)||void 0===n?void 0:n.xPriceOfferSubType)===G.US.UpgradedDifferentialOffer;if(!k||!R||!N)return null;const M=!!(null===(r=null===O||void 0===O?void 0:O.xPriceOfferInfo)||void 0===r?void 0:r.isXPriceStorewideOffer),D=R.skuTitle&&R.skuTitle!==k.title?(0,g.WUZ)(C,k.title,R.skuTitle):k.title,U=k.publisherName?(0,g.WUZ)(S,k.publisherName):"",B=(0,G.GK)(k,R),F=(0,G.wF)(k,R),H=(0,G.nk)(k,R),q=(0,g.Ypc)(k.productFamily,G.fO.Passes)||(0,g.Ypc)(k.productFamily,G.fO.Subscription),z={[Bn.Zr.Acquisition]:d,[Bn.Zr.BuyToOwn]:d,[Bn.Zr.Extend]:d,[Bn.Zr.OpenInStore]:()=>u(w),[Bn.Zr.SkuSelector]:p,[Bn.Zr.Trial]:d};return h&&(z[Bn.Zr.Gift]=h),m&&(z[Bn.Zr.RedeemACode]=m),c.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__miniPdpContainer___1-WEQ"},c.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__heroContainer___NXpwe"},c.createElement("img",{className:"MobileLandscapeMiniProductDetailsPage-module__heroImage___j7rKS",src:null===F||void 0===F?void 0:F.url,alt:(null===F||void 0===F?void 0:F.caption)||D}),c.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__heroLinearGradient___f5sYZ"})),c.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__informationContainer___3x1uo"},c.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__identityContainerWrapper___1M6Pe"},c.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__identityContainer___Ig18B"},c.createElement(x.Ee,{height:96,width:96,src:null===B||void 0===B?void 0:B.url,alt:(null===B||void 0===B?void 0:B.caption)||D,className:"MobileLandscapeMiniProductDetailsPage-module__boxArtImage___blp53"}),c.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__identityInformationContainer___W5nx8"},c.createElement("h1",{className:s()(P.a2,"MobileLandscapeMiniProductDetailsPage-module__titleFontAdjustments___p9VFe")},D),c.createElement("h3",{className:s()(P.gC,"MobileLandscapeMiniProductDetailsPage-module__subtitleTextAdjustments___N1aG2")},U),c.createElement(G.HR,{hasAddOns:k.hasAddOns,productInfo:A,productPrice:O,recurrencePolicySummary:R.recurrencePolicySummary,isPass:q,className:P.hO,historicalLowestListPrice:R.historicalLowestListPrice,discountDetailClassName:P.gC,hideDiscountMessage:L}))),L&&c.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__badgeWrapper___hNkAs"},c.createElement(hc,{productId:_,isXPriceStorewideOffer:M}))),c.createElement(Xe,{className:s()("MobileLandscapeMiniProductDetailsPage-module__scrollableDescriptorsContainer___6KQdD",L?"MobileLandscapeMiniProductDetailsPage-module__postOffersScrollableDescriptorsContainer___Brki8":null),gradientColorOverride:I.theme===g.Q2A.Light?hn:dn},c.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__descriptorsContainer___bP4kR"},c.createElement(or,{productId:_,itemClassName:"MobileLandscapeMiniProductDetailsPage-module__playableOnItemOverride___pqJ94",titleClassName:s()(P.RO,"MobileLandscapeMiniProductDetailsPage-module__playableOnTitle___1iwYO"),className:"MobileLandscapeMiniProductDetailsPage-module__playableOnContainer___VowzK"}),c.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__horizontalDescriptorsContainer___6qTXU"},c.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__ratingAndLegalContainer___ZaMT8"},c.createElement(y,{productId:_,className:"MobileLandscapeMiniProductDetailsPage-module__rating___sV5-W"}),c.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__legalContainer___9JX49"},c.createElement(Hn,{productId:_,className:P.Km}))),c.createElement("div",{className:s()(P.RO,"MobileLandscapeMiniProductDetailsPage-module__description___NAjvW")},H)))),c.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__actionPanelContainer___H+pZE"},c.createElement(cc,{actionPanelContext:Bn.vm.ContextualStore,hideOpenInStore:a,productActionTypeToActionOverride:z,productId:_,selectedSkuId:E}))))},Mc=e=>{(0,S.Li)("ContextualStoreProductDetails",S.uZ.Overlay,{productInfo:{id:e.productId,sku:e.skuId}});const t=(0,v.useSelector)((t=>(0,Pt.th)(t,e.productId))),n=(0,v.useSelector)(g.Xnf).userAgent,r=Nn(g.vCX.EnableMiniPDPRefreshExp),o=Nn(g.vCX.EnableMiniPDPSubsRefreshExp),a=(0,g.Ypc)(null===t||void 0===t?void 0:t.productFamily,G.fO.Passes)||(0,g.Ypc)(null===t||void 0===t?void 0:t.productFamily,G.fO.Subscription),i=r&&(o||!a)&&!(0,un.hA)(n);return c.createElement(c.Fragment,null,i?c.createElement(Dc,E()({},e)):c.createElement(xc,E()({},e)))},Dc=e=>{const t=e.onGiftAction,n=t?n=>{if(e.updateSelectedProduct&&n){const[t,r,o]=[n[T.Uh.ProductId],n[T.Uh.SkuId],n[T.Uh.AvailabilityId]],a={productId:null!==t&&void 0!==t?t:"",skuId:null!==r&&void 0!==r?r:"",availabilityId:null!==o&&void 0!==o?o:""};e.updateSelectedProduct(a)}t()}:void 0,r=(0,x.Wp)({desktopComponent:mc,mobilePortraitComponent:Oc,mobileLandscapeComponent:Lc});return r?c.createElement(r,E()(E()({},e),{},{onPurchaseAction:t=>{let n,r,o;if(t&&e.updateSelectedProduct){[n,r,o]=[t[T.Uh.ProductId],t[T.Uh.SkuId],t[T.Uh.AvailabilityId]];const a={productId:null!==n&&void 0!==n?n:"",skuId:null!==r&&void 0!==r?r:"",availabilityId:null!==o&&void 0!==o?o:""};n&&e.updateSelectedProduct(a)}e.onPurchaseAction()},onGiftAction:n,onRedeemAction:e.onRedeemAction})):null};var Uc=n(59902);const Bc=async e=>{const t=await e.acquireTokenSilently(C.Q7.MDollar);return t?(0,C.Wg)(t):null},Fc="XboxCom",Hc=[Fc,"XEWeb","XENative","XETest"],qc=e=>{var t,n,r;const{productId:o,skuId:a,availabilityId:i,trackingParams:s,setIsLoading:l,orderDetails:u,onCloseButtonClick:d,scenario:h,clientType:m,giftRecipientInformation:p}=e;(0,S.Li)("ContextualStorePurchase",S.uZ.Overlay,{productInfo:{id:o,sku:a}});const f=()=>{l(!1)},_=(0,C.Tv)(),y=(0,v.useSelector)(g.gzb),b=(0,c.useRef)(null),E=(0,v.useSelector)(g.yWe),T=(0,S.Qc)(),I=(0,v.useSelector)(C.t_),[w,A]=(0,c.useState)(!1),k=(0,v.useSelector)((e=>(0,g.PE2)(e,g.vCX.TestBuyNowFlights))),P=Nn(g.vCX.EnableBuyNowXboxUiExp),x=Nn(g.vCX.EnableBuyNowFCRedeemWithTax),R=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableReactGiftFlow))),N=On(g.vCX.PIGroupingExpId),O=On(g.vCX.PIGroupingFlightId),L=(0,v.useSelector)(g.UwQ),M=(0,v.useSelector)(g.$Zt),D=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableXboxGamePadLite)));M.push(D?"sc_xboxgamepadlite":"sc_xboxgamepad"),N&&L.push(N),"string"===typeof k&&k.split(",").forEach((e=>{M.includes(e)||M.push(e)})),P&&(M.push("sc_xboxuiexp"),M.push("sc_disabledefaultstyles")),x&&M.push("sc_showtax"),R&&M.push("sc_gamertaggifting"),O&&M.push(O);const U=(0,v.useSelector)((e=>(0,Ci.zF)(e,o,a,i))),B=h===Sn.Gift&&R,F=!B&&(null===U||void 0===U?void 0:U.product.productId)||o,H=!B&&(null===(t=null===U||void 0===U?void 0:U.sku)||void 0===t?void 0:t.skuId)||a,q=!B&&(null===(n=null===U||void 0===U?void 0:U.availability)||void 0===n?void 0:n.availabilityId)&&H?null===(r=null===U||void 0===U?void 0:U.availability)||void 0===r?void 0:r.availabilityId:i;return(0,c.useEffect)((()=>{T.logAppAction({action:Pn.PurchaseStarted},{productId:o})}),[]),(0,c.useEffect)((()=>{const e=(0,Uc.makeWindowListener)({done:e=>{var t,n,r,s;const c=e.orderId;switch(e.status){case"cancelXButton":T.logAppAction({action:Pn.PurchaseCanceled},{productId:o}),d();break;case"cancel":T.logAppAction({action:Pn.PurchaseCanceled},{productId:o}),u.onCancel(o,a,i,c);break;case"success":T.logAppAction({action:Pn.PurchaseSuccessful},{productId:o,xboxCardPointsRedeemed:null===(t=e.orderInfo)||void 0===t?void 0:t.xboxCardPointsRedeemed,xboxCardUsedForPurchase:null===(n=e.orderInfo)||void 0===n?void 0:n.xboxCardUsedForPurchase}),u.onSuccess(o,a,i,c,null===(r=e.orderInfo)||void 0===r?void 0:r.xboxCardUsedForPurchase);break;case"error":{const t=e;let n=En.PurchaseError;t.errorInfo.code.includes("UserAlreadyOwnsContent")?n=En.AlreadyPurchased:T.logAppAction({action:Pn.PurchaseFailed},{productId:o,xboxCardUsedForPurchase:null===(s=e.orderInfo)||void 0===s?void 0:s.xboxCardUsedForPurchase}),u.onError(o,n,a,i,c,{name:t.errorInfo.code,message:t.errorInfo.message});break}}},openUrl:e=>{u.onOpenUrl?u.onOpenUrl(e.url):window.open(e.url)}});return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]),(0,c.useEffect)((()=>{var e,t,n;F&&H&&(q||B)&&!w&&(l(!0),async function(e,t,n,r,o,a,i,s,c,l,u,d,h,m,p,f){let v=arguments.length>16&&void 0!==arguments[16]?arguments[16]:Fc;const _=e=>{h(!1),f(e)};if(!e)return void _(new Error("Failed to load frame."));let y;try{y=n?(0,C.Wg)(n):await Bc(t)}catch(T){return void _(T)}if(!y)return void _(new Error("Unable to get token silently."));const b=["sc_xboxspinner","sc_xboxclosebutton",...u],E=b.includes("sc_xboxuiexp")?"XboxCom2NewUI":"XboxCom2",S=[...d,...b].map((e=>`EX:${e}`));await(0,Uc.invokeBuyNowInFrame)(e,{authToken:"",products:[r],locale:o.localeWithScript,market:o.market,cV:a,layout:"Modal",clientType:v,cssOverride:E,xToken:y,campaignOptions:{campaignId:i,callerApplicationId:s,expId:S,flights:b,optionalCampaignId:c},theme:l===g.Q2A.Dark?"dark":"light",suppressGiftThankYouPage:m,scenario:m?"gift":"",gifteeType:m&&(null===p||void 0===p?void 0:p.gifteeType)||void 0,gamertagImageUrl:m&&(null===p||void 0===p?void 0:p.gifteeType)===kn.GamerTag&&(null===p||void 0===p?void 0:p.gamerPicUrl)||void 0,gifteeValue:m&&(null===p||void 0===p?void 0:p.gifteeType)===kn.GamerTag&&(null===p||void 0===p?void 0:p.classicGamerTag)||void 0,modernGamertag:m&&(null===p||void 0===p?void 0:p.gifteeType)===kn.GamerTag&&(null===p||void 0===p?void 0:p.modernGamerTag)||void 0})||_(),h(!0)}(b.current,_,I,{productId:F,skuId:H,availabilityId:q},E,null!==(e=null===s||void 0===s?void 0:s.cV)&&void 0!==e?e:T.cv().get(),null!==(t=null===s||void 0===s?void 0:s.campaignId)&&void 0!==t?t:"xboxcomct",null!==(n=null===s||void 0===s?void 0:s.callerApplicationId)&&void 0!==n?n:mn,null===s||void 0===s?void 0:s.ocid,y,M,L,f,B,p||null,(()=>{T.logAppAction({action:Pn.PurchaseFailed},{productId:o}),u.onError(o,En.PurchaseError,a,i)}),(e=>!!e&&Hc.includes(e))(m)?m:Fc),A(!0))}),[F,H,q]),c.createElement("iframe",{key:"purchase-sdk-iframe",title:"Purchase Frame",name:"purchase-sdk-hosted-iframe",ref:b,className:P?"ContextualStorePurchase-module__purchaseFrameNewUi___CedNY":"ContextualStorePurchase-module__purchaseFrame___Fbhay"})};n(4173),n(6710);function Gc(){if(globalThis.ReactNativeWebView){const e=globalThis.postMessage;console.log("We are in react native");let t=0;const n=setInterval((()=>{globalThis.postMessage!==e?globalThis.postMessage=t=>{var n;e(t),null===(n=globalThis.ReactNativeWebView)||void 0===n||n.postMessage("string"==typeof t?t:JSON.stringify(t))}:t++,t>10&&clearInterval(n)}),500)}}var zc;!function(e){e.Pdp="ProductDetailsPage",e.Purchase="Purchase",e.PurchaseOnFallback="PurchaseOnFallback",e.ThankYou="ThankYouPage",e.Error="ErrorPage",e.SkuPicker="SkuPickerPage",e.Browse="BrowsePage",e.Gift="Gift",e.Redeem="Redeem"}(zc||(zc={}));const $c=(e,t,n)=>({productId:e,skuId:null!==t&&void 0!==t?t:"",availabilityId:null!==n&&void 0!==n?n:""}),Xc=e=>{switch(e){case Cn.Purchase:return zc.Purchase;case Cn.Browse:return zc.Browse;case Cn.Redeem:return zc.Redeem;default:return zc.Pdp}},Vc=e=>{const{productId:t,skuId:n,availabilityId:r,activateStoreExperiments:o,allowAnonymous:a,experience:i,hasAddOns:l,hideCloseButton:d,hideShowInStore:h,onResult:m,onMessage:p,productTitle:_,skipPurchaseConfirmation:y,tracking:b,options:T,referringProductId:I,itemType:w,xStoreScenario:A,clientType:k,giftRecipientInformation:P,offerId:R,themeOverride:N,redeemScenario:O}=e;let L=e.scenario;const[M,D]=(0,c.useState)(!0),[U,B]=(0,c.useState)(Xc(i)),[F,H]=(0,c.useState)(""),q=(0,c.useCallback)(((e,t)=>{p&&p({type:An.PageChange,data:e}),B(e)}),[p]),z=(0,v.useSelector)(C.t_),$=(0,v.useSelector)(C.yB)||!!z,X=(0,g.$wQ)(),V=(0,g.IzA)(),j=null!==w&&void 0!==w?w:"",K=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableBuyNowXboxUiExp)))&&!!o,Z=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableReactGiftFlow))),Q=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableRedeemCodeModal))),J=(0,v.useSelector)((e=>(0,Pt.th)(e,t))),ee=n||(null===J||void 0===J?void 0:J.optimalSkuId)||(null===J||void 0===J?void 0:J.preferredSkuId);(0,c.useEffect)((()=>{if(!a&&!$){const e=(0,g.kgH)(t)===G.Cv?V(window.location.href):X(window.location.href);window.parent===window?window.location.assign(e):U!==zc.Error&&(q(zc.Error,new Error("Attempting to sign-in inside an iframe")),D(!1))}}),[a,$,t,U,X,V,q]);const te=(0,v.useDispatch)(),ne=(0,v.useSelector)(g.gzb),[re,oe]=(0,c.useState)(((e,t,n)=>({productId:e,skuId:t,availabilityId:n,status:En.Canceled}))(t,ee,r)),[ae,ie]=(0,c.useState)($c(t,ee,r)),se={contentName:"Close Contextual Store Button",templateName:"ButtonComponent",contentType:"ActionButton",productId:t,skuId:ee,productName:_},{genericPurchaseErrorMessage:ce,closeButtonText:le,closeContextualStore:ue}=(0,f.y_)("genericPurchaseErrorMessage","closeButtonText","closeContextualStore"),de=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.UsePostMessageHelper)));(0,c.useEffect)((()=>{(0,W.initializeGamepadNavigation)()}),[]);const he=(e,t)=>!!e&&t===zc.Pdp||t===zc.Purchase,me=e=>{he(null===T||void 0===T?void 0:T.fallbackToPurchaseOnError,U)?q(zc.PurchaseOnFallback,e):(oe({productId:t,skuId:ee,availabilityId:r,status:En.ServiceError,error:e}),q(zc.Error,e)),D(!1)};(0,c.useEffect)((()=>{te(ln.I.getProductDetailById.start(t,(e=>me(e))));const e=Xc(i);U!==e&&B(e),ie($c(t,ee,r))}),[r,t,ee,i]),(0,c.useEffect)((()=>{if(i===Cn.Browse){const e=j.split(",").map((e=>{switch(e){case G.Dp.Game:case G.Dp.GameDemo:return G.Fc.Game;case G.Dp.Consumable:return G.Fc.Consumable;case G.Dp.Durable:return G.Fc.Durable;case G.Dp.Application:default:return}})).filter((e=>!!e&&e in G.Fc));0===e.length&&(q(zc.Error,new Error("Invalid product kind provided")),D(!1));const n=(0,Y.H0)(e),r=(0,Y.lx)(n,t);r||(q(zc.Error,new Error("Unable to get channel product key")),D(!1)),H(r)}}),[i,j,q,t]),(0,c.useEffect)((()=>{if(i===Cn.Browse){const e=e=>{oe({productId:t,skuId:ee,availabilityId:r,status:En.ServiceError,error:e}),q(zc.Error,e),D(!1)};te(ln.I.getBrowsePageDataById.start(t,j,F,e))}}),[r,t,ee,i,te,q,j,F]),(0,c.useEffect)((()=>{switch(re.status){case En.Purchased:y?m&&m(re):(ie({productId:re.productId,skuId:re.skuId||"",availabilityId:re.availabilityId||""}),q(zc.ThankYou));break;case En.ServiceError:case En.PurchaseError:case En.AlreadyPurchased:m&&m(re)}}),[re,m,y]);const pe=e=>{e!==ae&&ie(e),te(ln.I.getProductDetailById.start(e.productId,(e=>me(e)))),q(zc.Pdp)},ge=()=>{m&&m(re)},fe=()=>{i===Cn.Browse&&U===zc.Pdp?(ie($c(t,ee,r)),q(zc.Browse)):m&&m(re)},ve=()=>{i===Cn.Purchase||U===zc.PurchaseOnFallback||i===Cn.Redeem?ge():(ie($c(t,ee,r)),q(zc.Pdp))},_e=e=>{p&&p({type:An.OpenUrl,data:e}),window.open(e,"_blank")},ye={onCancel:ve,onError:(e,t,n,r,o,a)=>{oe({productId:e,skuId:n,availabilityId:r,status:t,orderId:o,error:a})},onOpenUrl:_e,onSuccess:(e,t,n,r,o)=>{oe({productId:e,skuId:t,availabilityId:n,status:En.Purchased,orderId:r,xboxCardUsedForPurchase:o}),i!==Cn.Redeem&&e&&te(ln.I.purchaseComplete(e))}};let be=null;switch(U){case zc.Pdp:default:be=c.createElement(Mc,{productId:ae.productId,skuId:ae.skuId,availabilityId:ae.availabilityId,hideShowInStore:h,trackingParams:b,onShowSkuPicker:()=>q(zc.SkuPicker),onPurchaseAction:()=>q(zc.Purchase),onGiftAction:Z?()=>q(zc.Gift):void 0,onRedeemAction:Q?()=>q(zc.Redeem):void 0,onError:e=>{q(he(null===T||void 0===T?void 0:T.fallbackToPurchaseOnError,U)?zc.PurchaseOnFallback:zc.Error,e)},onGoBack:fe,onOpenStoreUrl:_e,setIsLoading:D,xStoreScenario:A,itemType:j,updateSelectedProduct:ie,clientType:k});break;case zc.Gift:L=Sn.Gift;case zc.Purchase:case zc.PurchaseOnFallback:be=c.createElement(qc,{productId:ae.productId,availabilityId:ae.availabilityId,skuId:ae.skuId,trackingParams:b,setIsLoading:D,orderDetails:ye,onCloseButtonClick:ve,scenario:L,clientType:k,giftRecipientInformation:P});break;case zc.Redeem:be=c.createElement(bi,{productId:ae.productId,availabilityId:ae.availabilityId,skuId:ae.skuId,trackingParams:b,setIsLoading:D,onCloseButtonClick:ve,clientType:k,orderDetails:ye,offerId:R,themeOverride:N,scenario:O});break;case zc.Browse:be=c.createElement(Un,{productId:ae.productId,skuId:ae.skuId,availabilityId:ae.availabilityId,onSelect:pe,onClose:ge,onError:e=>{q(he(null===T||void 0===T?void 0:T.fallbackToPurchaseOnError,U)?zc.PurchaseOnFallback:zc.Error,e)},setIsLoading:D,channelKey:F,itemType:j});break;case zc.ThankYou:be=c.createElement(Li,{productId:ae.productId,skuId:ae.skuId,referringProductId:I,scenario:L,setIsLoading:D,onError:e=>q(zc.Error,e),onClose:ge,xboxCardUsedForPurchase:re.xboxCardUsedForPurchase});break;case zc.Error:be=((e,t,n,r,o)=>c.createElement("div",{className:"ContextualStoreV2-module__failureViewContainer___Z+3cW"},c.createElement("h4",null,e),c.createElement(sn.Z,E()({onClick:r,className:"ContextualStoreV2-module__closeButton___MmWUe","aria-label":n},(0,S.iZ)(o)),t)))(ce,le,ue,ge,se);break;case zc.SkuPicker:be=c.createElement(fn,{hasAddOns:l,onSelect:pe,onClose:()=>q(zc.Pdp),productId:t})}const Ee=!(d||U===zc.Purchase||U===zc.PurchaseOnFallback||U===zc.Gift||U===zc.Redeem),Ce=K?"ContextualStoreV2-module__newContextualStoreSizing___h+ipJ":"ContextualStoreV2-module__contextualStoreSizing___tzMDW";return c.createElement(yn,{value:{activateStoreExperiments:!!o}},de&&c.createElement(cn.q,null,c.createElement("script",null,`(${Gc.toString()})();`)),c.createElement(S.pC,null,c.createElement(W.FocusContainer,{autoFocusContainer:!0,className:"ContextualStoreV2-module__focusContainer___EAJYV",onKeyDown:e=>{"Escape"===e.nativeEvent.key&&ge()}},c.createElement(x.W2,{className:s()("xgp-reset-style","ContextualStoreV2-module__contextualStoreContainer___7k8p9",{"theme-dark":N?N===g.Q2A.Dark:ne===g.Q2A.Dark},K?"ContextualStoreV2-module__isNewBuyNowXboxUiExpEnabled___7Mjfr":void 0)},c.createElement("div",{className:s()(Ce,"ContextualStoreV2-module__flexColumn___EnNnt")},be),Ee&&c.createElement(on.Q,E()({as:"button",icon:an.Z,onClick:ge,buttonSize:u.qE.Small,buttonType:u.L$.Primary,overlayMode:u.gT.Solid,className:s()([(0,x.W0)("margin","all",2),"ContextualStoreV2-module__closeIcon___nKOGi"]),"aria-label":ue},(0,S.iZ)(se))),M&&c.createElement("div",{className:"ContextualStoreV2-module__progressContainer___SE7z1"},c.createElement(x.X2,{className:"ContextualStoreV2-module__progressIconAlignment___n9XxL"},c.createElement(x.dj,null)))))))};n(44112);const Wc=e=>{let{onResult:t,onMessage:n}=e;var r;const o=(0,v.useDispatch)(),a=(0,g._yM)(g.Hw9.ProductId,""),i=(0,g._yM)(g.Hw9.AvailabilityId,""),s=(0,g._yM)(g.Hw9.SkuId,""),l=new URLSearchParams((0,Kr.TH)().search),u=l.get("partnerid"),d=l.get("cv"),h=l.get("campaignId"),m=l.get("it"),p=l.get("xs"),f=l.get("clientType"),_=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableSkipActivateStoreExp)))||(0,g.Ypc)(null!==(r=l.get("activateStoreExperiments"))&&void 0!==r?r:"","true"),y=!!(null===u||void 0===u?void 0:u.startsWith("gamepasssamsungtv")),b=wn.v2,E=l.get("t");E&&"dark"===E.toLowerCase()&&o(g.uQd.setTheme(g.Q2A.Dark));const C=(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"purchase":return Cn.Purchase;case"browse":return Cn.Browse;case"redeem":return Cn.Redeem;default:return Cn.Details}})(l.get("exp")),S=l.get("skipPurchaseConfirmation"),I="true"===(null===S||void 0===S?void 0:S.toLowerCase()),w=l.get("fallbackToPurchaseOnError"),A="true"===(null===w||void 0===w?void 0:w.toLowerCase()),k=l.get("anon"),P="true"===(null===k||void 0===k?void 0:k.toLowerCase()),R=l.get("hideClose"),N="true"===(null===R||void 0===R?void 0:R.toLowerCase())||y,O=(0,g.oB7)(l,jr.nV.referringProductId),L=(0,T.PH)(a,void 0,s,i),M=e=>{var n,r;null===t||void 0===t||t(e),null===(n=window.parent)||void 0===n||n.postMessage({message:"PurchaseStatus",result:e},"*"),null===(r=window.opener)||void 0===r||r.postMessage({message:"PurchaseStatus",result:e},"*"),!window.opener&&window.parent===window&&y&&window.location.assign(L)},D=e=>{var t,r;null===n||void 0===n||n(e),null===(t=window.parent)||void 0===t||t.postMessage({message:"PurchaseMessage",result:e},"*"),null===(r=window.opener)||void 0===r||r.postMessage({message:"PurchaseMessage",result:e},"*")};return c.createElement(x.SV,null,(()=>c.createElement(x.Wv,null,c.createElement(Vc,{allowAnonymous:P,productId:a,skuId:s,availabilityId:i,onResult:M,onMessage:D,tracking:{callerApplicationId:u||void 0,cV:d||void 0,campaignId:h||void 0},version:b,experience:C,skipPurchaseConfirmation:I,options:{fallbackToPurchaseOnError:A},referringProductId:null===O||void 0===O?void 0:O.value,hideCloseButton:N,hideShowInStore:y,itemType:m,xStoreScenario:p,clientType:f,activateStoreExperiments:_}))))},jc=()=>{var e;const[t,n]=(0,c.useState)(void 0),r=(0,v.useSelector)(C.yB),o=(0,g.$wQ)(),a=(0,g.IzA)();(0,c.useEffect)((()=>{var e;if(r){const t=new URLSearchParams(window.location.search),r=t.get(zr);if(r){const o=r.split("-").filter((e=>e));if(o.length>0&&o.length<4){const r=t.get(Xr),a=Kc(r);n(E()({productId:o[0],skuId:o[1],availabilityId:o[2],referringProductId:null!==(e=t.get(jr.nV.referringProductId))&&void 0!==e?e:void 0},a))}}}}),[r,n]),(0,c.useEffect)((()=>{const e=e=>{var t,i;const s=null===e||void 0===e?void 0:e.detail,c=null===(t=s.experience)||void 0===t?void 0:t.toLocaleLowerCase();if(s&&s.productId||c===Cn.Redeem.toLocaleLowerCase())if(r)n({productId:s.productId,skuId:s.skuId,availabilityId:s.availabilityId,experience:s.experience,referringProductId:null!==(i=s.referringProductId)&&void 0!==i?i:void 0,activateStoreExperiments:!!s.activateStoreExperiments});else{let e=s.productId;s.skuId&&(e+=`-${s.skuId}`,s.availabilityId&&(e+=`-${s.availabilityId}`));const t=new URL(window.location.toString()),n=new URLSearchParams(t.search);e&&n.set(zr,e),s.referringProductId&&n.set(jr.nV.referringProductId,s.referringProductId),t.search=n.toString();const r=(0,g.kgH)(s.productId)===G.Cv?a(t.toString()):o(t.toString());window.location.assign(r)}};return document.addEventListener($r,e),()=>document.removeEventListener($r,e)}),[o,a,r,n]);const i=()=>{n(void 0)};if(t)switch(null===(e=t.experience)||void 0===e?void 0:e.toLocaleLowerCase()){case Cn.Redeem.toLocaleLowerCase():return c.createElement(Di,{showModal:!0,onClose:i});case Cn.Purchase.toLocaleLowerCase():case Cn.Details.toLocaleLowerCase():default:return c.createElement(Jr,E()({onResult:i,showModal:!0},t))}return null},Kc=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case Cn.Redeem.toLowerCase():return{experience:Cn.Redeem};case Cn.Purchase.toLowerCase():return{experience:Cn.Purchase};case Sn.Gift.toLowerCase():return{experience:Cn.Purchase,scenario:Sn.Gift};case Cn.Details.toLowerCase():default:return{experience:Cn.Details}}};var Zc=n(84179),Yc="FeaturedContentModule-module__desktopMaxTextWidth___yEzRm";const Qc=e=>{const{ctaLabel:t,ctaProperties:n,imageAltText:r,imageUrl:o,subtitle:a,title:i}=e;return c.createElement(tl,{ctaLabel:t,ctaProperties:n,imageAltText:r,imageClassName:"FeaturedContentModule-module__desktopImage___wV18f",imageUrl:o,moduleContainerClassName:"FeaturedContentModule-module__desktopContainer___TSgIa",subtitle:a,subtitleClassName:s()(Yc,P.RH),textClassName:"FeaturedContentModule-module__desktopModuleText___H+kav",textSectionClassName:"FeaturedContentModule-module__desktopTextSection___-34mE",title:i,titleClassName:s()(Yc,"FeaturedContentModule-module__desktopTitle___tYfd2",P.Q)})},Jc=e=>{const{ctaLabel:t,ctaProperties:n,imageAltText:r,imageUrl:o,subtitle:a,title:i}=e;return c.createElement(tl,{ctaLabel:t,ctaProperties:n,imageAltText:r,imageClassName:"FeaturedContentModule-module__mobilePortraitImage___bAlrR",imageUrl:o,moduleContainerClassName:"FeaturedContentModule-module__mobilePortraitContainer___Tiupf",subtitle:a,subtitleClassName:P.RH,textClassName:"FeaturedContentModule-module__mobilePortraitText___mfUEB",textSectionClassName:"FeaturedContentModule-module__mobilePortraitTextSection___FDzIb",title:i,titleClassName:P.jG})},el=e=>{const{ctaLabel:t,ctaProperties:n,imageAltText:r,imageUrl:o,subtitle:a,title:i}=e;return c.createElement(tl,{ctaLabel:t,ctaProperties:n,imageAltText:r,imageClassName:"FeaturedContentModule-module__mobileLandscapeImage___usIhX",imageUrl:o,moduleContainerClassName:"FeaturedContentModule-module__mobileLandscapeContainer___FPxh6",subtitle:a,subtitleClassName:P.RH,textSectionClassName:"FeaturedContentModule-module__mobileLandscapeTextSection___MF4BF",textClassName:"FeaturedContentModule-module__mobileLandscapeModuleText___s87OT",title:i,titleClassName:P.jG})},tl=e=>{const{ctaLabel:t,ctaProperties:n,imageAltText:r,imageUrl:o,subtitle:a,title:i,titleClassName:l,subtitleClassName:u,moduleContainerClassName:d,textSectionClassName:h,textClassName:m,imageClassName:p}=e,g=(0,Zc.m)(n);return c.createElement("div",{style:{backgroundImage:`url(${o})`},className:s()("FeaturedContentModule-module__container___XfPap",d)},c.createElement("div",{className:"FeaturedContentModule-module__scrim___uO23m"},c.createElement("div",{className:h},c.createElement("div",{className:m},c.createElement("header",{className:s()("FeaturedContentModule-module__title___alPtd",l)},i),c.createElement("span",{className:s()("FeaturedContentModule-module__subtitle___nUL2v",u)},a),!(!t||!n)&&c.createElement(D,{label:t,url:null!==g&&void 0!==g?g:"#"})),c.createElement("img",{className:p,alt:r,src:o}))))},nl=e=>{const t=(0,x.Wp)({desktopComponent:Qc,mobilePortraitComponent:Jc,mobileLandscapeComponent:el}),{properties:n}=e;return t&&(e=>!!(e&&e.imageUrl&&e.title&&e.imageAltText&&e.subtitle))(n)?c.createElement(t,E()({},n)):null};var rl=n(31168),ol=n(85495),al=n(89741),il=n(99e3),sl=n(37533),cl="SortAndFilters-module__clearAllButton___M8wTO",ll="SortAndFilters-module__clearAllButtonContainer___v6UZC",ul="SortAndFilters-module__filterList___T81LH",dl="SortAndFilters-module__filterText___MqCzX",hl="SortAndFilters-module__filterTitle___LiVrt",ml="SortAndFilters-module__filtersText___8OwXG",pl="SortAndFilters-module__sortContainer___e+DLZ",gl="SortAndFilters-module__text___Dl4fZ";const fl={[al.v.Accessibility]:800,[al.v.Price]:900,[al.v.Genre]:1e3,[al.v.IncludedInSubscription]:1050,[al.v.MaturityRating]:1100,[al.v.Multiplayer]:1200,[al.v.TechnicalFeatures]:1300,[al.v.SupportedLanguages]:1400},vl=e=>{let t=0;for(const n in e)n!==al.v.OrderBy&&(t+=e[n].length);return t};const _l=function(e){return c.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),c.createElement("circle",{cx:16,cy:16,r:5,fillRule:"evenodd"}))};var yl=n(69960),bl="ApplyFiltersButton-module__applyButton___faTvE",El="ApplyFiltersButton-module__filterText___-fwr6",Cl="ApplyFiltersButton-module__text___UQPpr";const Sl=e=>e.pageType===S.uZ.Search?c.createElement(Tl,E()({},e)):c.createElement(Il,E()({},e)),Tl=e=>{const t=(0,f.UD)("seeResultsFilterButtonText");return c.createElement(l.k,{as:"button","aria-label":t,buttonType:u.L$.Brand,className:s()(bl,P.Km,Cl),onClick:e.onHide},c.createElement("span",{className:El},t))},Il=e=>{const t=(0,Kr.k6)().location,n=(0,Y.e1)(t),r=(0,g._yM)(g.Hw9.ChannelId,""),o=(0,yl.Pd)(n,r),a=(0,v.useSelector)((e=>(0,Pt.wX)(e,o))),i=(0,f.UD)("browsePageRefineResults"),d=(0,f.UD)("seeResultsFilterButtonText"),h=()=>{const e=c.createElement(_l,{"aria-hidden":!0});return c.createElement("span",{className:El},e," ",e," ",e)};return c.createElement(l.k,{as:"button","aria-label":i,buttonType:u.L$.Brand,className:s()(bl,P.Km,Cl),onClick:e.onHide},c.createElement(rl.LceRenderer,{key:"FilterPanel_button_title",data:a,renderNotRequested:h,renderContent:()=>c.createElement("span",{className:El},d),renderFetching:h,renderError:h,renderDefault:h}))},wl=["overrideLandscapeButtonWithPortraitButton"],Al=e=>{const{selectedSortId:t,sortInfo:n}=e,r=(0,Kr.k6)(),o=(0,f.iV)("browsePageSortByXFunction"),a=[T.XW];return c.createElement(ke,{filterInfo:n,onChoicesClick:(e,t)=>{const o=e;if(n.hasAllChoice&&n.allChoiceId&&t===n.allChoiceId){const e=(0,Y.Uo)(o,(0,Y._B)(r.location));(0,Y.uh)(r,e,!0)}else{const e=(0,Y.BS)(o,t,(0,Y._B)(r.location));(0,Y.uh)(r,e,!0)}},selectedChoices:null!==t&&void 0!==t?t:a,isInitiallyCollapsed:!0,titleFunction:o,isScrollable:!1})},kl=e=>{const{filtersInfo:t,selectedFiltersId:n}=e,r=(e=>{const t=[];return Object.keys(e).filter((e=>e!==al.v.OrderBy)).forEach((n=>{t.push(e[n])})),t.sort(((e,t)=>fl[e.id]-fl[t.id]))})(t),o=(0,Kr.k6)(),a=(e,t)=>{const n=(0,Y.z1)(e,t,(0,Y._B)(o.location));(0,Y.uh)(o,n,!0)};return c.createElement(c.Fragment,null,r.map(((e,t)=>{var r;const o=n&&null!==(r=n[e.id])&&void 0!==r?r:[],i=e.id!==al.v.Accessibility;return c.createElement("li",{key:`${e.id}_${t}`,className:"SortAndFilters-module__li___aV+Oo"},c.createElement(ke,{filterInfo:e,onChoicesClick:a,selectedChoices:o,isInitiallyCollapsed:!0,isScrollable:i}))})))},Pl=e=>{const{filtersInfo:t,selectedFiltersId:n,sortInfo:r}=e,o=(0,f.iV)("browsePageFilterTitle");return c.createElement("div",{className:"SortAndFilters-module__container___yA+Vp"},c.createElement("div",{className:pl},c.createElement(Al,{selectedSortId:n[al.v.OrderBy],sortInfo:r})),c.createElement("h2",{className:s()(P.ZN,ml)},o),c.createElement("ul",{className:ul},c.createElement(kl,{selectedFiltersId:n,filtersInfo:t})))},xl=e=>{const{browsePageRefineResults:t,browsePageClearAllFilters:n}=(0,f.y_)("browsePageRefineResults","browsePageClearAllFilters"),r=(0,Kr.k6)(),[o,a]=(0,c.useState)(!1),i=vl(e.selectedFiltersId),d=(0,f.UD)("browsePageFilterMobileTitleFunction",{Filters:i});return c.createElement(c.Fragment,null,c.createElement(l.k,{as:"button","aria-label":t,buttonType:u.L$.Brand,className:s()("SortAndFilters-module__button___OeFeU",P.gC,gl),onClick:()=>{a(!0)}},c.createElement(ol.Z,{"aria-hidden":!0}),c.createElement("span",{className:dl},t)),o&&c.createElement(Ol,{showModal:o,onHide:()=>{a(!1)},selectedFiltersSize:i,filtersInfo:e.filtersInfo,sortInfo:e.sortInfo,selectedFiltersId:e.selectedFiltersId,filterTitleWithCount:d,pageType:e.pageType}),i>0&&c.createElement("div",{className:hl},c.createElement("div",{className:s()(P.ZN,ml)},d),c.createElement("div",{className:ll},c.createElement(l.k,{as:"button","aria-label":n,buttonType:u.L$.Tertiary,className:s()(cl,P.Km,gl),onClick:()=>{const e=(0,Y.nS)(r.location);(0,Y.uh)(r,e,!0)}},c.createElement("span",{className:dl},n)))))},Rl=e=>{const t=(0,f.iV)("browsePageRefineResults"),[n,r]=(0,c.useState)(!1),o=vl(e.selectedFiltersId),a=(0,f.UD)("browsePageFilterMobileTitleFunction",{Filters:o});return c.createElement(c.Fragment,null,c.createElement(l.k,{as:"button","aria-label":t,buttonType:u.L$.Brand,className:s()("SortAndFilters-module__buttonLandscape___+mKnt",P.gC,gl),onClick:()=>{r(!0)}},c.createElement(ol.Z,{"aria-hidden":!0})),n&&c.createElement(Ol,{showModal:n,onHide:()=>{r(!1)},selectedFiltersId:e.selectedFiltersId,selectedFiltersSize:o,filtersInfo:e.filtersInfo,sortInfo:e.sortInfo,filterTitleWithCount:a,pageType:e.pageType}))},Nl=e=>{const{overrideLandscapeButtonWithPortraitButton:t}=e,n=V()(e,wl),r=(0,x.Wp)({desktopComponent:Pl,mobilePortraitComponent:xl,mobileLandscapeComponent:t?xl:Rl});return r?c.createElement(r,E()({},n)):null},Ol=e=>{let{filtersInfo:t,filterTitleWithCount:n,onHide:r,showModal:o,selectedFiltersId:a,selectedFiltersSize:i,sortInfo:d,pageType:h}=e;const{browsePageFiltersTitle:m,browsePageClearAllFilters:p}=(0,f.y_)("browsePageFiltersTitle","browsePageClearAllFilters"),g=0===i?m:n,v=(0,Kr.k6)();return c.createElement(x.u_,{ariaLabel:g,className:"SortAndFilters-module__modalContainer___MoRmH",closeable:!1,onHide:r,show:o},c.createElement(x.u_.Body,{className:(0,x.W0)("padding","all",3)},c.createElement("div",{className:"SortAndFilters-module__containerMobile___vuoD2"},c.createElement("div",{className:pl},c.createElement(Al,{selectedSortId:a[al.v.OrderBy],sortInfo:d})),c.createElement("div",{className:s()(hl,"SortAndFilters-module__sortFilterTitle___RAHge")},c.createElement("div",{className:s()(P.ZN,ml)},g),i>0&&c.createElement("div",{className:ll},c.createElement(l.k,{as:"button","aria-label":p,buttonType:u.L$.Tertiary,className:s()(cl,P.Km,gl),onClick:()=>{const e=(0,Y.nS)(v.location);(0,Y.uh)(v,e,!0)}},c.createElement("span",{className:dl},p)))),c.createElement("ul",{className:ul},c.createElement(kl,{selectedFiltersId:a,filtersInfo:t}))),c.createElement("div",{className:"SortAndFilters-module__applyButtonContainer___I7dpt"},c.createElement(Sl,{onHide:r,pageType:h}))))};var Ll="FiltersPanel-module__modalContainer___pQEtN",Ml="FiltersPanel-module__text___Umo23",Dl="LoadingFilters-module__text___qgjxf";const Ul=()=>c.createElement("div",{className:"LoadingFilters-module__filtersPanel___HaYt8"}),Bl=()=>{const e=(0,f.iV)("browsePageRefineResults");return c.createElement(l.k,{as:"button","aria-label":e,buttonType:u.L$.Brand,className:s()("LoadingFilters-module__button___tD2Ng",P.gC,Dl),disabled:!0},c.createElement(ol.Z,{"aria-hidden":!0}),c.createElement("span",{className:"LoadingFilters-module__filterText___fmXBY"},e))},Fl=()=>{const e=(0,f.iV)("browsePageRefineResults");return c.createElement(l.k,{as:"button","aria-label":e,buttonType:u.L$.Brand,className:s()("LoadingFilters-module__buttonLandscape___rLfge",P.gC,Dl),disabled:!0},c.createElement(ol.Z,{"aria-hidden":!0}))},Hl=()=>{const e=(0,x.Wp)({desktopComponent:Ul,mobilePortraitComponent:Bl,mobileLandscapeComponent:Fl});return e?c.createElement(e,null):null},ql=()=>{const{browsePageRefineResults:e,browsePageFiltersTitle:t,browsePageFilterErrorTitle:n,browsePageFilterErrorDescription:r}=(0,f.y_)("browsePageRefineResults","browsePageFiltersTitle","browsePageFilterErrorTitle","browsePageFilterErrorDescription"),[o,a]=(0,c.useState)(!1);return c.createElement(c.Fragment,null,c.createElement(l.k,{as:"button","aria-label":e,buttonType:u.L$.Brand,className:s()("FiltersPanel-module__button___YQ92p",P.gC,Ml),onClick:()=>{a(!0)}},c.createElement(ol.Z,{"aria-hidden":!0}),c.createElement("span",{className:"FiltersPanel-module__filterText___G10Ck"},e)),o&&c.createElement(x.u_,{className:Ll,show:o,ariaLabel:t,closeable:!0,onHide:()=>{a(!1)}},c.createElement($e,{errorHeading:n,errorDescription:r})))},Gl=()=>{const{browsePageRefineResults:e,browsePageFiltersTitle:t,browsePageFilterErrorTitle:n,browsePageFilterErrorDescription:r}=(0,f.y_)("browsePageRefineResults","browsePageFiltersTitle","browsePageFilterErrorTitle","browsePageFilterErrorDescription"),[o,a]=(0,c.useState)(!1);return c.createElement(c.Fragment,null,c.createElement(l.k,{as:"button","aria-label":e,buttonType:u.L$.Brand,className:s()("FiltersPanel-module__buttonLandscape___T7IjK",P.gC,Ml),onClick:()=>{a(!0)}},c.createElement(ol.Z,{"aria-hidden":!0})),o&&c.createElement(x.u_,{className:Ll,show:o,ariaLabel:t,closeable:!0,onHide:()=>{a(!1)}},c.createElement($e,{errorHeading:n,errorDescription:r})))},zl=()=>{const{browsePageFilterErrorTitle:e,browsePageFilterErrorDescription:t}=(0,f.y_)("browsePageFilterErrorTitle","browsePageFilterErrorDescription");return c.createElement($e,{errorHeading:e,errorDescription:t})},$l=()=>{const e=(0,x.Wp)({desktopComponent:zl,mobilePortraitComponent:ql,mobileLandscapeComponent:Gl});return e?c.createElement(e,null):null},Xl=e=>{const t=(0,v.useSelector)((t=>(0,il.Z)(t,e.pageType))),n=(0,Kr.k6)(),r=(0,sl.e1)(n.location);return c.createElement(rl.LceRenderer,{key:`FilterPanel_${e.pageType}`,data:t,renderFetching:()=>c.createElement(Hl,null),renderContent:t=>c.createElement(Nl,{filtersInfo:t.data,selectedFiltersId:r,sortInfo:t.data[al.v.OrderBy],pageType:e.pageType,overrideLandscapeButtonWithPortraitButton:e.overrideLandscapeButtonWithPortraitButton}),renderError:()=>c.createElement($l,null)})};var Vl=n(83022);const Wl=function(e){return c.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},e),c.createElement("path",{d:"M22.5 12a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.89 3.067L3.053 14.905a3.518 3.518 0 00-.783 1.18c-.18.446-.27.91-.27 1.395.01.493.104.962.285 1.408.18.446.436.835.768 1.167l8.892 8.892a3.52 3.52 0 001.181.783c.446.18.91.27 1.394.27.494-.01.963-.104 1.409-.285.446-.18.835-.436 1.167-.768L28.933 17.11c.35-.351.616-.75.797-1.195.18-.446.27-.91.27-1.395V5.642a3.88 3.88 0 00-.285-1.422 3.404 3.404 0 00-.782-1.153 3.878 3.878 0 00-1.167-.782A3.495 3.495 0 0026.358 2h-8.893a3.657 3.657 0 00-2.575 1.067zm1.95 1.058c-.218.093-.39.211-.535.356L4.467 16.32a1.52 1.52 0 00-.342.516c-.082.2-.123.405-.125.626.007.248.055.47.139.678.082.203.19.364.328.502l8.892 8.892c.153.152.32.263.517.342.2.081.404.123.626.125.247-.007.47-.055.677-.139a1.47 1.47 0 00.502-.328L27.52 15.695a1.57 1.57 0 00.357-.53c.083-.206.124-.416.124-.645V5.663a1.876 1.876 0 00-.133-.68 1.405 1.405 0 00-.328-.482 1.88 1.88 0 00-.57-.382A1.497 1.497 0 0026.358 4h-8.893c-.229 0-.431.042-.625.125z"}))};const jl=function(e){return c.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},e),c.createElement("path",{d:"M30.982 7.593A1.06 1.06 0 0030 6.938H20a1.063 1.063 0 000 2.125h7.435L17 19.496l-5.249-5.248a1.063 1.063 0 00-1.502 0l-9 9A1.062 1.062 0 102.75 24.75L11 16.503l5.249 5.248a1.063 1.063 0 001.502 0l11.186-11.186V18a1.063 1.063 0 002.125 0V8a1.06 1.06 0 00-.08-.407z"}))};var Kl=n(89809);const Zl={marginTop:"-0.1875rem",width:"1rem",height:"1rem"},Yl=()=>{const e=c.createElement(Vl.Z,{"aria-hidden":!0,style:Zl}),[t,n]=(0,f.QF)("myWishlistHomePageQuickLinksLabel","quickLinksAccessibilityLabelFunction"),r=(0,g.WUZ)(n,t),o=(0,v.useSelector)(g.Yzi),a=(0,g.uQr)(T.zx,{locale:o});return c.createElement(ie,{label:t,icon:e,url:a,ariaLabel:r})},Ql=()=>{const e=c.createElement(Wl,{"aria-hidden":!0,style:Zl}),[t,n]=(0,f.QF)("dealsAndSpecialsHomePageQuickLinksLabel","quickLinksAccessibilityLabelFunction"),r=(0,g.WUZ)(n,t),o=(0,v.useSelector)(g.Yzi),a=(0,g.uQr)(T.J2,{locale:o});return c.createElement(ie,{label:t,icon:e,url:a,ariaLabel:r})},Jl=()=>{const e=c.createElement(jl,{"aria-hidden":!0,style:Zl}),[t,n]=(0,f.QF)("trendingGamesHomePageQuickLinksLabel","quickLinksAccessibilityLabelFunction"),r=(0,g.WUZ)(n,t),o=(0,v.useSelector)(g.Yzi),a=(0,g.uQr)(T.Wk,{locale:o});return c.createElement(ie,{label:t,icon:e,url:a,ariaLabel:r})},eu=()=>{const e=c.createElement(Kl.Z,{"aria-hidden":!0,style:Zl}),[t,n]=(0,f.QF)("homePageBrowseAllGamesButtonLabel","quickLinksAccessibilityLabelFunction"),r=(0,g.WUZ)(n,t),o=(0,v.useSelector)(g.Yzi),a=(0,g.uQr)(T.n5,{locale:o});return c.createElement(ie,{label:t,icon:e,url:a,ariaLabel:r})},tu=()=>{const e=c.createElement(Kl.Z,{"aria-hidden":!0,style:Zl}),[t,n]=(0,f.QF)("gamePassHomePageQuickLinksLabel","quickLinksAccessibilityLabelFunction"),r=(0,g.WUZ)(n,t),o=(0,v.useSelector)(g.Yzi),a=(0,g.uQr)(T.v5,{locale:o});return c.createElement(ie,{label:t,icon:e,url:a,ariaLabel:r})},nu=()=>c.createElement(x.EM,{className:"QuickLinks-module__buttonContainer___WLGwK"},c.createElement(Yl,null),c.createElement(Ql,null),c.createElement(Jl,null),c.createElement(tu,null),c.createElement(eu,null));const ru=e=>{let{searchResult:t}=e;let n=t.description;return t.description.length>225&&(n=`${t.description.substring(0,225)} ...`),c.createElement("div",{className:"SearchResult-module__resultWrapper___Xnr2T"},c.createElement(l.k,{href:t.url,as:"a",buttonType:u.L$.Tertiary,className:"SearchResult-module__result___mnqfi"},c.createElement("p",{className:"SearchResult-module__title___cBdxh"},t.title),c.createElement("p",{className:"SearchResult-module__description___yl6ss"},n),c.createElement("p",{className:"SearchResult-module__url___Fiuhf"},t.url)))};const ou=e=>{let{searchResults:t}=e;return c.createElement("div",{className:"SearchResultList-module__searchGrid___8Jq6r"},t.map(((e,t)=>c.createElement(ru,{searchResult:e,key:t}))))};const au=e=>{const{ctaLabel:t,ctaUrl:n,imageAltText:r,imageUrl:o,subtitle:a,title:i}=e;return c.createElement("div",{className:"Spotlight-module__desktopContainer___0ci90"},c.createElement("div",{className:"Spotlight-module__desktopImagePane___4ca3T"},c.createElement("img",{alt:r,className:"Spotlight-module__desktopImage___Vccus",src:o}),c.createElement("div",{className:"Spotlight-module__desktopScrim___J4KEB"})),c.createElement("div",{className:"Spotlight-module__desktopTextPane___jYFTl"},c.createElement("section",{className:"Spotlight-module__description___9jsHd"},c.createElement("header",{className:s()(P.d7,"Spotlight-module__desktopTitle___GWcsS")},i),c.createElement("span",{className:s()(P.af,"Spotlight-module__desktopSubtitle___e7Xzw")},a),c.createElement(D,{label:t,url:null!==n&&void 0!==n?n:"#"}))))},iu=e=>{const{ctaLabel:t,ctaUrl:n,imageAltText:r,imageUrl:o,subtitle:a,title:i}=e;return c.createElement(c.Fragment,null,c.createElement("div",{className:"Spotlight-module__portraitContainer___zEJi5"},c.createElement(x.Ee,{alt:null!==r&&void 0!==r?r:i,className:"Spotlight-module__portraitImage___AIkQu",height:860,src:o,width:860}),c.createElement("div",{className:"Spotlight-module__portraitScrim___u0U0p"}),c.createElement("section",{className:"Spotlight-module__portraitDescription___Ooa9E"},c.createElement("header",{className:s()(P.zO,"Spotlight-module__portraitTitle___8PJwh")},i),c.createElement("span",{className:s()(P.ZN,"Spotlight-module__portraitSubtitle___1ldMw")},a),c.createElement(D,{label:t,url:null!==n&&void 0!==n?n:"#"}))))},su=e=>{var t,n,r;const{properties:o}=e,a=o.ctaProperties,i=(0,Zc.m)(a),s=(0,x.Wp)({desktopComponent:au,mobilePortraitComponent:iu,mobileLandscapeComponent:au});if(!o.imageUrl||!o.title)return null;const l={ctaLabel:null!==(t=o.ctaLabel)&&void 0!==t?t:"",ctaUrl:i,imageUrl:null!==(n=o.imageUrl)&&void 0!==n?n:"",imageAltText:o.imageAltText,subtitle:null!==(r=o.subtitle)&&void 0!==r?r:"",title:o.title};return s?c.createElement(s,E()({},l)):null};var cu="StackFilters-module__button___DhtUo",lu="StackFilters-module__buttonContainer___yoawp",uu="StackFilters-module__text___StjKO";const du=e=>{var t;const{selectedFiltersIds:n,filters:r}=e,[o,a]=(0,f.QF)("browsePageClearAllFilters","browsePageClearAllFiltersAccessibilityLabel"),i=(0,Kr.k6)(),d=[];for(const[s,l]of Object.entries(n)){const e=l.map((e=>e.toUpperCase())),n=null===(t=r[s])||void 0===t?void 0:t.choices.filter((t=>e.includes(t.id.toUpperCase())));n&&n.map((e=>{s.toUpperCase()!==T.dq&&d.push(c.createElement(hu,{filterId:s,choiceId:e.id,choiceTitle:e.title}))}))}return d.length>0?c.createElement("div",{className:"StackFilters-module__container___yKM42"},c.createElement("div",{className:lu},c.createElement(l.k,{as:"button","aria-label":a,buttonType:u.L$.Tertiary,className:s()(cu,P.Km,uu),onClick:()=>{const e=(0,Y.nS)(i.location);(0,Y.uh)(i,e,!0)}},o)),c.createElement(c.Fragment,null,d)):null},hu=e=>{const{filterId:t,choiceId:n,choiceTitle:r}=e,o=(0,Kr.k6)(),a=(0,f.iV)("browsePageClearFilterFunction"),i=(0,g.WUZ)(a,r);return c.createElement("div",{className:lu},c.createElement(l.k,{as:"button","aria-label":i,buttonType:u.L$.Tertiary,className:s()(cu,P.Km,uu),onClick:()=>((e,t)=>{const n=(0,Y.z1)(e,t,(0,Y._B)(o.location));(0,Y.uh)(o,n,!0)})(Bn.vA[t],n)},c.createElement(he,{"aria-hidden":!0}),c.createElement("span",{className:"StackFilters-module__filterText___tmWQ0"},r)))},mu=e=>{const t=(0,x.Wp)({desktopComponent:du,mobilePortraitComponent:void 0,mobileLandscapeComponent:void 0});return t?c.createElement(t,E()({},e)):null},pu=e=>{const t=(0,v.useSelector)((t=>(0,il.Z)(t,e.pageType))),n=(0,Kr.k6)(),r=(0,Y.e1)(n.location);return c.createElement(rl.LceRenderer,{key:`StackFilter_${e.pageType}`,data:t,renderContent:e=>c.createElement(mu,{selectedFiltersIds:r,filters:e.data})})};const gu=e=>{let{gamerTag:t,className:n,gamerPic:r,gamerPicSize:o}=e;const a=(0,f.UD)("gamerPicAltText"),i=(0,f.UD)("applyFlowAccountWelcomeTitle",[t]);return c.createElement("div",{className:s()("GamerPicWithGamerTag-module__gamerPicWithGamerTagContainer___5nJMD",n)},c.createElement(Ei.pp,{"aria-label":a,src:r,size:null!==o&&void 0!==o?o:Ei.nh.Large,className:"GamerPicWithGamerTag-module__gamerPicContainer___InnM5"}),c.createElement("div",{className:"GamerPicWithGamerTag-module__gamerTag___40FQO"},i))};var fu=n(5808);const vu="launchContentModal",_u="launchContentModalEvent";var yu;!function(e){e.XboxCardApplyModal="xboxcardapplymodal"}(yu||(yu={}));const bu=e=>{let{gamerTag:t}=e;const n=(0,f.UD)("applyFlowAccountSwitchButtonText"),r=(0,f.UD)("applyFlowAccountSwitchTitle",[t]),o=(0,g.UDx)(),a=new URL(o),i=-1!==o.toLocaleLowerCase().indexOf("/apply"),l=(0,g.$wQ)(),u=new URLSearchParams(a.search);i||(u.set(vu,yu.XboxCardApplyModal),a.search=u.toString());const d={areaName:"XboxCardApplyHost",contentType:S.zc.Link,contentName:"Xbox card apply switch account",id:"xboxCardApplyUserSwitchAccount"},h=l(a.toString(),{prompt:"select_account"});return c.createElement("div",{className:"XboxCardApply-module__switchAccountBlock___fqUJZ"},c.createElement("span",{className:P.gC},r),c.createElement("a",E()({"aria-label":n,className:s()(P.gC,"XboxCardApply-module__changeAccountLink___bbNtn"),href:h},(0,S.iZ)(d)),n))},Eu=e=>{let{hideSwitchAccount:t,applyFullPageRender:n,applyFullPageConsoleRender:r,onKeyDown:o,channelName:a,referrerId:i,onClose:l}=e;const u=(0,v.useSelector)(C.bG),d=(0,v.useSelector)(C.c1),h=null!==d&&void 0!==d?d:u,m=null===h||void 0===h?void 0:h.gamerPicUrl,p=null===h||void 0===h?void 0:h.gamerTag;return c.createElement(x.W2,{className:s()("xgp-reset-style","XboxCardApply-module__applyContainer___BonYH"),onKeyDown:o},c.createElement(x.W2,{className:"XboxCardApply-module__contentContainer___cFqa-"},c.createElement(x.W2,{className:"XboxCardApply-module__accountContainer___JTyBI"},!!p&&c.createElement(gu,{gamerPic:m,gamerTag:p,className:"XboxCardApply-module__heroContainer___3sN5n"}),!t&&!!p&&c.createElement(bu,{gamerTag:p})),c.createElement(fu.r,{channelName:a,containerClassName:"XboxCardApply-module__pidlContainer___GMrgR",referrerId:i,onClose:l,nonConsoleFullPageRender:n,consoleFullPageRender:r})))},Cu=e=>{const{applyFullPageConsoleRender:t}=e,n=(0,v.useDispatch)(),r=new URLSearchParams((0,Kr.TH)().search),o=r.get("t");o&&"dark"===o.toLowerCase()&&n(g.uQd.setTheme(g.Q2A.Dark));const a=r.get("channelname"),i=r.get("referrerid");return c.createElement(x.SV,null,(()=>c.createElement(x.Wv,null,c.createElement(Eu,{hideSwitchAccount:t,channelName:null!==a&&void 0!==a?a:T.at,referrerId:null!==i&&void 0!==i?i:T.XB,applyFullPageRender:!t,applyFullPageConsoleRender:t}))))};const Su=e=>{let{onClose:t,showModal:n,hideClose:r,children:o}=e;const a=(0,v.useSelector)(C.bG),i=(0,f.UD)("applyModalAccessibilityLabel");return a?c.createElement(x.u_,{className:"XboxCardApplyModal-module__modalContent___WI4rp",show:n,fullscreenOnMobile:!0,ariaLabel:i,closeable:!r,closeButtonClassName:"XboxCardApplyModal-module__closeButton___UqRQM",closeContainerClassName:"XboxCardApplyModal-module__closeContainer___WqaLB",onCloseBtnClick:t,onHide:()=>{},overlayClassName:"XboxCardApplyModal-module__applyModalOverlay___BNzOM"},c.createElement(x.u_.Body,{className:"XboxCardApplyModal-module__applyModalBody___x190R"},o)):null};var Tu=n(6490);const Iu=`${T.IG} _IPageRequestUtils`},89741:(e,t,n)=>{"use strict";var r;n.d(t,{v:()=>r}),function(e){e.Accessibility="Accessibility",e.Genre="Genre",e.MaturityRating="MaturityRating",e.Multiplayer="Multiplayer",e.OrderBy="orderby",e.PlayWith="PlayWith",e.Price="Price",e.SupportedLanguages="SupportedLanguages",e.TechnicalFeatures="TechnicalFeatures",e.IncludedInSubscription="IncludedInSubscription"}(r||(r={}))},89083:(e,t,n)=>{"use strict";var r,o,a;n.d(t,{S8:()=>a,eN:()=>r,vm:()=>_.vm,m9:()=>o,ky:()=>i,UA:()=>m,Y$:()=>s,Ug:()=>_.Ug,vA:()=>p.v,nj:()=>d,oo:()=>u,E2:()=>_.E2,Zr:()=>_.Zr,px:()=>v,BQ:()=>h,qY:()=>g,Vn:()=>y}),function(e){e.None="None",e.Authorized="Authorized",e.Linked="Linked"}(r||(r={})),function(e){e.Success="Success",e.AlreadyLinked="AlreadyLinked",e.TokenMissing="TokenMissing",e.PartnerLinkedToAnotherXboxAccount="PartnerLinkedToAnotherXboxAccount",e.XboxLinkedToAnotherPartnerAccount="XboxLinkedToAnotherPartnerAccount",e.Error="Error"}(o||(o={})),function(e){e.Ubisoft="Ubisoft"}(a||(a={}));var i,s,c,l,u,d,h,m,p=n(89741);!function(e){e.XboxOne="XboxOne",e.XboxOneS="XboxOneS",e.XboxOneSDigital="XboxOneSDigital",e.XboxOneX="XboxOneX",e.XboxOneXDevKit="XboxOneXDevKit",e.XboxSeriesS="XboxSeriesS",e.XboxSeriesX="XboxSeriesX",e.XboxSeriesXDevKit="XboxSeriesXDevKit",e.Other="Other"}(i||(i={})),function(e){e.Unknown="Unknown",e.ConnectedStandby="ConnectedStandby",e.On="On",e.Off="Off",e.SystemUpdate="SystemUpdate"}(s||(s={})),function(e){e.Unknown="Unknown",e.Playing="Playing",e.Paused="Paused",e.Stopped="Stopped"}(c||(c={})),function(e){e.OK="OK",e.AccountNotFound="AccountNotFound",e.XboxNotPaired="XboxNotPaired",e.NullContext="NullContext",e.MissingAuthHeader="MissingAuthHeader",e.InvalidAuthHeader="InvalidAuthHeader",e.InvalidAuthScheme="InvalidAuthScheme",e.InvalidRequest="InvalidRequest",e.InvalidRequestPayload="InvalidRequestPayload",e.InvalidUserToken="InvalidUserToken",e.UserTokenExpired="UserTokenExpired",e.UnsupportedDeviceTypeClaim="UnsupportedDeviceTypeClaim",e.MissingXuidClaim="MissingXuidClaim",e.InvalidProxyToken="InvalidProxyToken",e.MissingPuidClaim="MissingPuidClaim",e.InvalidXToken="InvalidXToken",e.InvalidListType="InvalidListType",e.InvalidSkillPlatform="InvalidSkillPlatform",e.ErrorGettingDDSS2SToken="ErrorGettingDDSS2SToken",e.ErrorGettingCCSS2SToken="ErrorGettingCCSS2SToken",e.ErrorGettingCCSPermissionTicket="ErrorGettingCCSPermissionTicket",e.ErrorCallingCCS="ErrorCallingCCS",e.ErrorCallingAlexaEventGateway="ErrorCallingAlexaEventGateway",e.UserDataNotFound="UserDataNotFound",e.OperationNotFound="OperationNotFound",e.MissingDeviceId="MissingDeviceId",e.MissingGamerData="MissingGamerData",e.MissingPuid="MissingPuid",e.MissingXuid="MissingXuid",e.MissingDigitalAssistantRemoteControlEnabledFlag="MissingDigitalAssistantRemoteControlEnabledFlag",e.MissingConsoleStreamingEnabledFlag="MissingConsoleStreamingEnabledFlag",e.MissingRemoteManagementEnabledFlag="MissingRemoteManagementEnabledFlag",e.MissingWnsChannelUri="MissingWnsChannelUri",e.MissingOpId="MissingOpId",e.ErrorGettingWNSS2SToken="ErrorGettingWNSS2SToken",e.ErrorCallingWNS="ErrorCallingWNS",e.NotImplemented="NotImplemented",e.XboxDataNotFound="XboxDataNotFound",e.ApplicationNotInstalled="ApplicationNotInstalled",e.ErrorCallingXboxLive="ErrorCallingXboxLive",e.InvalidXboxOsVersion="InvalidXboxOsVersion",e.InternalError="InternalError",e.FriendNotFound="FriendNotFound",e.TvChannelNotFound="TvChannelNotFound",e.TvChannelFallback="TvChannelFallback",e.DigitalAssistantRemoteControlDisabled="DigitalAssistantRemoteControlDisabled",e.ConsoleStreamingDisabled="ConsoleStreamingDisabled",e.RemoteManagementDisabled="RemoteManagementDisabled",e.InvalidRefreshToken="InvalidRefreshToken",e.InvalidAuthToken="InvalidAuthToken",e.ErrorWNSTempDisconnected="ErrorWNSTempDisconnected",e.MissingPuidHeader="MissingPuidHeader",e.MissingXuidHeader="MissingXuidHeader",e.MissingPrincipal="MissingPrincipal",e.MissingServiceId="MissingServiceId",e.InvalidServiceId="InvalidServiceId",e.ServiceIdNotAllowed="ServiceIdNotAllowed",e.Timeout="Timeout",e.CurrentConsoleNotFound="CurrentConsoleNotFound",e.OperationUnauthorized="OperationUnauthorized",e.MobileEndpointNotFound="MobileEndpointNotFound",e.RegisteredClientNotFound="RegisteredClientNotFound",e.UnsupportedPlatform="UnsupportedPlatform",e.ContactSharingNotAllowed="ContactSharingNotAllowed",e.XboxPowerOff="XboxPowerOff",e.XboxSystemUpdate="XboxSystemUpdate",e.DefaultOrStaleData="DefaultOrStaleData",e.InstallQueueNotFound="InstallQueueNotFound",e.InstallQueueEmpty="InstallQueueEmpty",e.ThrottledTryAgain="ThrottledTryAgain"}(l||(l={})),function(e){e.Paused="Paused",e.Error="OffConsoleError",e.Pending="Pending",e.TimedOut="TimedOut",e.ConsoleError="Error",e.Succeeded="Succeeded"}(u||(u={})),function(e){e.Pending="Pending",e.Success="Success",e.Error="Error"}(d||(d={})),function(e){e.Left="Left",e.Right="Right"}(h||(h={})),function(e){e.ProductId="ProductId",e.CollectionId="CollectionId",e.Link="Link"}(m||(m={}));var g,f,v,_=n(2455);!function(e){e.Private="Private",e.Public="Public"}(g||(g={})),function(e){e.Friends="Friends",e.Everyone="Everyone",e.Blocked="Blocked"}(f||(f={})),function(e){e.Allow="Allow",e.Block="Block"}(v||(v={}));const y=[v.Allow,v.Block];f.Everyone,f.Friends,f.Blocked},2455:(e,t,n)=>{"use strict";var r,o,a;n.d(t,{E2:()=>i,Ug:()=>o,Zr:()=>r,vm:()=>a}),function(e){e.Acquisition="Acquisition",e.AccountLink="AccountLink",e.Buy="Buy",e.BuyToOwn="BuyToOwn",e.Cart="Cart",e.CloudPlay="CloudPlay",e.EditionSelector="EditionSelector",e.Extend="Extend",e.Get="Get",e.Gift="Gift",e.Install="Install",e.Join="Join",e.Manage="Manage",e.NotSoldSeparately="NotSoldSeparately",e.OpenInStore="OpenInStore",e.RedeemACode="RedeemACode",e.Remove="Remove",e.SkuSelector="SkuSelector",e.Trial="Trial",e.Upsell="Upsell",e.View="View",e.Wishlist="Wishlist"}(r||(r={})),function(e){e[e.Desktop=0]="Desktop",e[e.Mobile=1]="Mobile",e[e.Overflow=2]="Overflow",e[e.CondensedDesktop=3]="CondensedDesktop"}(o||(o={})),function(e){e[e.PDP=0]="PDP",e[e.PDPPageBar=1]="PDPPageBar",e[e.ContextualStore=2]="ContextualStore"}(a||(a={}));const i={[r.CloudPlay]:800,[r.Manage]:801,[r.AccountLink]:850,[r.Install]:900,[r.Extend]:901,[r.Upsell]:1e3,[r.NotSoldSeparately]:1050,[r.Acquisition]:1100,[r.BuyToOwn]:1200,PrimaryActionPriorityCutoff:1200,[r.OpenInStore]:1201,[r.SkuSelector]:1250,[r.EditionSelector]:1300,[r.Trial]:1350,[r.Wishlist]:1400,[r.Cart]:1450,[r.Gift]:1500,[r.RedeemACode]:1600}},96896:(e,t,n)=>{"use strict";n.d(t,{I:()=>i,a:()=>r});var r,o=n(87040),a=n(48152);!function(e){e.GET_PRODUCT_DETAIL_START="@contextualStore/GET_PRODUCT_DETAIL_START",e.GET_PRODUCT_DETAIL_COMPLETE="@contextualStore/GET_PRODUCT_DETAIL_COMPLETE",e.GET_PRODUCT_DETAIL_ERROR="@contextualStore/GET_PRODUCT_DETAIL_ERROR",e.GET_BROWSE_PAGE_START="@contextualStore/GET_BROWSE_PAGE_START",e.GET_BROWSE_PAGE_COMPLETE="@contextualStore/GET_BROWSE_PAGE_COMPLETE",e.GET_BROWSE_PAGE_ERROR="@contextualStore/GET_BROWSE_PAGE_ERROR",e.GET_MORE_BROWSE_PAGE_START="@contextualStore/GET_MORE_BROWSE_PAGE_START",e.GET_MORE_BROWSE_PAGE_COMPLETE="@contextualStore/GET_MORE_BROWSE_PAGE_COMPLETE",e.GET_MORE_BROWSE_PAGE_ERROR="@contextualStore/GET_MORE_BROWSE_PAGE_ERROR",e.PURCHASE_COMPLETE="@contextualStore/PURCHASE_COMPLETE"}(r||(r={}));const i={getProductDetailById:(0,a.K)(o.s.ContextualStore,r.GET_PRODUCT_DETAIL_START,((e,t)=>({productId:e,onFailure:t})),r.GET_PRODUCT_DETAIL_COMPLETE,(e=>({productId:e})),r.GET_PRODUCT_DETAIL_ERROR,((e,t)=>({error:e,productId:t}))),getBrowsePageDataById:(0,a.K)(o.s.ContextualStore,r.GET_BROWSE_PAGE_START,((e,t,n,r)=>({productId:e,itemType:t,channelKey:n,onFailure:r})),r.GET_BROWSE_PAGE_COMPLETE,((e,t)=>({channelKey:e,continuationToken:t})),r.GET_BROWSE_PAGE_ERROR,((e,t)=>({channelKey:e,error:t}))),getMoreBrowsePageData:(0,a.K)(o.s.ContextualStore,r.GET_MORE_BROWSE_PAGE_START,((e,t,n,r,o,a)=>({productId:e,itemType:t,channelKey:n,continuationToken:r,onFailure:o,onSuccess:a})),r.GET_MORE_BROWSE_PAGE_COMPLETE,((e,t)=>({channelKey:e,continuationToken:t})),r.GET_MORE_BROWSE_PAGE_ERROR,((e,t)=>({channelKey:e,error:t}))),purchaseComplete:(0,a.t)(r.PURCHASE_COMPLETE,o.s.ContextualStore,(e=>({productId:e})))}},48152:(e,t,n)=>{"use strict";n.d(t,{K:()=>a,t:()=>i});var r=n(16216),o=n(18689);const a=(0,r.Krg)(o.IG),i=(0,r.mqE)(o.IG)},91081:(e,t,n)=>{"use strict";n.d(t,{K:()=>r.K,t:()=>r.t});var r=n(48152)},55240:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,w:()=>i});var r,o=n(87040),a=n(91081);!function(e){e.FETCH_DEVICES="@installActions/FETCH_DEVICES",e.FETCH_DEVICES_SUCCESS="@installActions/FETCH_DEVICES_SUCCESS",e.FETCH_DEVICES_ERROR="@installActions/FETCH_DEVICES_ERROR",e.QUEUE_INSTALL="@installActions/QUEUE_INSTALL",e.QUEUE_INSTALL_SUCCESS="@installActions/QUEUE_INSTALL_SUCCESS",e.QUEUE_INSTALL_ERROR="@installActions/QUEUE_INSTALL_ERROR",e.UPDATE_OPERATION_STATUS="@installActions/UPDATE_OPERATION_STATUS",e.CLEAR_OPERATION_STATUS="@installActions/CLEAR_OPERATION_STATUS"}(r||(r={}));const i={fetchDevices:(0,a.K)(o.s.Install,r.FETCH_DEVICES,(()=>({type:r.FETCH_DEVICES})),r.FETCH_DEVICES_SUCCESS,((e,t)=>({type:r.FETCH_DEVICES_SUCCESS,xboxDevices:e,pcDevices:t})),r.FETCH_DEVICES_ERROR,(e=>({type:r.FETCH_DEVICES_ERROR,error:e}))),queueInstall:(0,a.K)(o.s.Install,r.QUEUE_INSTALL,((e,t,n)=>({type:r.QUEUE_INSTALL,deviceId:e,productIds:t,isPcDevice:n})),r.QUEUE_INSTALL_SUCCESS,(e=>({type:r.QUEUE_INSTALL_SUCCESS,operationId:e})),r.QUEUE_INSTALL_ERROR,((e,t,n)=>({type:r.QUEUE_INSTALL_ERROR,error:e,deviceId:t,productIds:n}))),updateOperationStatus:(0,a.t)(r.UPDATE_OPERATION_STATUS,o.s.Install,((e,t)=>({type:r.UPDATE_OPERATION_STATUS,operation:e,newOperationStatus:t}))),clearOperationStatus:(0,a.t)(r.CLEAR_OPERATION_STATUS,o.s.Install,(e=>({type:r.CLEAR_OPERATION_STATUS,operation:e})))}},97860:(e,t,n)=>{"use strict";n.d(t,{$:()=>r,S:()=>i});var r,o=n(87040),a=n(91081);!function(e){e.ADD_TO_CART_START="@scds/ADD_TO_CART_START",e.ADD_TO_CART_SUCCESS="@scds/ADD_TO_CART_SUCCESS",e.ADD_TO_CART_ERROR="@scds/ADD_TO_CART_ERROR",e.UPDATE_CART="@scds/UPDATE_CART",e.FETCH_VECTOR_ID_START="@scds/FETCH_VECTOR_ID_START",e.FETCH_VECTOR_ID_SUCCESS="@scds/FETCH_VECTOR_ID_SUCCESS",e.FETCH_VECTOR_ID_ERROR="@scds/FETCH_VECTOR_ID_ERROR",e.CLEAR_VECTOR_ID="@scds/CLEAR_VECTOR_ID"}(r||(r={}));const i={addToCart:(0,a.K)(o.s.StoreCartService,r.ADD_TO_CART_START,((e,t,n)=>({itemsToAdd:e,onSuccess:t,onFailure:n})),r.ADD_TO_CART_SUCCESS,(e=>({itemsToAdd:e})),r.ADD_TO_CART_ERROR,((e,t,n)=>({itemsToAdd:e,failureReasons:t,error:n}))),updateCart:(0,a.t)(r.UPDATE_CART,o.s.StoreCartService,(e=>({lineItems:e}))),fetchVectorId:(0,a.K)(o.s.StoreCartService,r.FETCH_VECTOR_ID_START,(()=>{}),r.FETCH_VECTOR_ID_SUCCESS,(e=>({vectorId:e})),r.FETCH_VECTOR_ID_ERROR,(e=>({error:e}))),clearVectorId:(0,a.t)(r.CLEAR_VECTOR_ID,o.s.StoreCartService,(()=>({})))}},78181:(e,t,n)=>{"use strict";n.d(t,{tt:()=>r,ao:()=>c.a,c$:()=>b,BP:()=>s,WA:()=>u.W,F6:()=>p,sX:()=>o.s,$K:()=>E.$,VC:()=>i,z2:()=>h,LA:()=>m,Iv:()=>c.I,l:()=>C,tG:()=>a.t,KN:()=>a.K,b3:()=>w,Hg:()=>A,YA:()=>k,EK:()=>l,Nx:()=>B.Nx,xP:()=>B.xP,ut:()=>q.u,V4:()=>N.V4,hn:()=>N.hn,D3:()=>N.D3,Qj:()=>N.Qj,_c:()=>O,Me:()=>M.Me,tR:()=>x,Zj:()=>L.Z,Ie:()=>B.Ie,ik:()=>M.ik,GK:()=>q.G,wX:()=>N.wX,AY:()=>B.AY,Uk:()=>N.Uk,RY:()=>B.RY,bE:()=>R,zF:()=>B.zF,h$:()=>B.h$,mr:()=>B.mr,D:()=>M.D,zk:()=>U,FJ:()=>B.FJ,_L:()=>B._L,j0:()=>B.j0,I9:()=>B.I9,th:()=>B.th,L2:()=>B.L2,NP:()=>B.NP,Zi:()=>F,Gb:()=>H,Lu:()=>B.Lu,pM:()=>B.pM,Z5:()=>z,Hj:()=>M.Hj,wx:()=>u.w,bX:()=>f,xN:()=>v,s8:()=>_,ZT:()=>d.ZT,F4:()=>y,SA:()=>E.S});var r,o=n(87040),a=n(91081);!function(e){e.SISU_FLOW_START="@accountLink/SISU_FLOW_START",e.SISU_FLOW_COMPLETE="@accountLink/SISU_FLOW_COMPLETE",e.SISU_FLOW_ERROR="@accountLink/SISU_FLOW_ERROR",e.GET_LINK_STATUS_START="@accountLink/GET_LINK_STATUS_START",e.GET_LINK_STATUS_COMPLETE="@accountLink/GET_LINK_STATUS_COMPLETE",e.GET_LINK_STATUS_ERROR="@accountLink/GET_LINK_STATUS_ERROR",e.COMPLETE_LINK_START="@accountLink/COMPLETE_LINK_START",e.COMPLETE_LINK_COMPLETE="@accountLink/COMPLETE_LINK_COMPLETE",e.COMPLETE_LINK_ERROR="@accountLink/COMPLETE_LINK_ERROR",e.COMPLETE_LINK_RESET="@accountLink/COMPLETE_LINK_RESET"}(r||(r={}));const i={SISUFlow:(0,a.K)(o.s.AccountLink,r.SISU_FLOW_START,(e=>({networkName:e})),r.SISU_FLOW_COMPLETE,(e=>({networkName:e})),r.SISU_FLOW_ERROR,((e,t)=>({error:t,networkName:e}))),getLinkStatus:(0,a.K)(o.s.AccountLink,r.GET_LINK_STATUS_START,(e=>({networkName:e})),r.GET_LINK_STATUS_COMPLETE,((e,t,n)=>({networkName:e,status:t,userName:n})),r.GET_LINK_STATUS_ERROR,((e,t)=>({error:t,networkName:e}))),completeLink:(0,a.K)(o.s.AccountLink,r.COMPLETE_LINK_START,(e=>({networkName:e})),r.COMPLETE_LINK_COMPLETE,((e,t)=>({networkName:e,result:t})),r.COMPLETE_LINK_ERROR,((e,t)=>({error:t,networkName:e}))),completeLinkReset:(0,a.t)(r.COMPLETE_LINK_RESET,o.s.AccountLink,(e=>({networkName:e})))};var s,c=n(96896);!function(e){e.FETCH_FILTERS="@filters/FETCH_FILTERS",e.FETCH_FILTERS_SUCCESS="@filters/FETCH_FILTERS_SUCCESS",e.FETCH_FILTERS_ERROR="@filters/FETCH_FILTERS_ERROR",e.createFiltersActions="createFiltersActions"}(s||(s={}));const l={fetchFiltersResults:(0,a.K)(o.s.Filters,s.FETCH_FILTERS,(e=>({type:s.FETCH_FILTERS,filterKey:e})),s.FETCH_FILTERS_SUCCESS,(e=>({type:s.FETCH_FILTERS_SUCCESS,data:e})),s.FETCH_FILTERS_ERROR,((e,t)=>({type:s.FETCH_FILTERS_ERROR,error:e,filterKey:t})))};var u=n(55240),d=n(70398);const h=d.Mb.additionalInformationActions,m=d.Mb.availabilitySummaryActions;var p,g=n(48152);!function(e){e.CLEAR_PRODUCT_ACTIONS_FOR_PRODUCT="@productActions/CLEAR_PRODUCT_ACTIONS_FOR_PRODUCT",e.FETCH_PRODUCT_ACTIONS="@productActions/FETCH_PRODUCT_ACTIONS",e.FETCH_PRODUCT_ACTIONS_SUCCESS="@productActions/FETCH_PRODUCT_ACTIONS_SUCCESS",e.FETCH_PRODUCT_ACTIONS_ERROR="@productActions/FETCH_PRODUCT_ACTIONS_ERROR",e.UPDATE_PRODUCT_ACTIONS="@productActions/UPDATE_PRODUCT_ACTIONS"}(p||(p={}));const f={clearProductActionsForProduct:(0,g.t)(p.CLEAR_PRODUCT_ACTIONS_FOR_PRODUCT,o.s.ProductActions,(e=>({productId:e}))),updateProductActions:(0,g.t)(p.UPDATE_PRODUCT_ACTIONS,o.s.ProductActions,(e=>({productActions:e}))),fetchProductActions:(0,g.K)(o.s.ProductActions,p.FETCH_PRODUCT_ACTIONS,(e=>({type:p.FETCH_PRODUCT_ACTIONS,productId:e})),p.FETCH_PRODUCT_ACTIONS_SUCCESS,((e,t)=>({type:p.FETCH_PRODUCT_ACTIONS_SUCCESS,data:e,productId:t})),p.FETCH_PRODUCT_ACTIONS_ERROR,((e,t)=>({type:p.FETCH_PRODUCT_ACTIONS_ERROR,error:e,productId:t})))},v=d.Mb.productInfoActions,_=d.Mb.productSummaryActions,y=d.Mb.skuSummaryActions;var b,E=n(97860);!function(e){e.GET_DEFAULT_WISHLISTS_START="@wishlist/GET_DEFAULT_WISHLIST_START",e.ADD_WISHLIST_ITEM_START="@wishlist/ADD_WISHLIST_ITEM_START",e.ADD_WISHLIST_ITEM_COMPLETE="@wishlist/ADD_WISHLIST_ITEM_COMPLETE",e.ADD_WISHLIST_ITEM_ERROR="@wishlist/ADD_WISHLIST_ITEM_ERROR",e.REMOVE_WISHLIST_ITEM_START="@wishlist/REMOVE_WISHLIST_ITEM_START",e.REMOVE_WISHLIST_ITEM_COMPLETE="@wishlist/REMOVE_WISHLIST_ITEM_COMPLETE",e.REMOVE_WISHLIST_ITEM_ERROR="@wishlist/REMOVE_WISHLIST_ITEM_ERROR",e.SAVE_WISHLIST_SETTINGS_START="@wishlist/SAVE_SETTINGS_START",e.SAVE_WISHLIST_SETTINGS_COMPLETE="@wishlist/SAVE_SETTINGS_COMPLETE",e.SAVE_WISHLIST_SETTINGS_ERROR="@wishlist/SAVE_SETTINGS_ERROR"}(b||(b={}));const C={getDefaultWishlist:(0,g.t)(b.GET_DEFAULT_WISHLISTS_START,o.s.Wishlist,(e=>({onError:e}))),addWishListItem:(0,g.K)(o.s.Wishlist,b.ADD_WISHLIST_ITEM_START,((e,t,n,r,o)=>({wishListId:n,productId:r,skuId:o,onSuccess:e,onFailure:t})),b.ADD_WISHLIST_ITEM_COMPLETE,((e,t,n)=>({wishListId:e,productId:t,skuId:n})),b.ADD_WISHLIST_ITEM_ERROR,((e,t,n,r)=>({wishListId:t,productId:n,skuId:r,error:e}))),removeWishListItem:(0,g.K)(o.s.Wishlist,b.REMOVE_WISHLIST_ITEM_START,((e,t,n,r,o)=>({wishListId:n,productId:r,skuId:o,onSuccess:e,onFailure:t})),b.REMOVE_WISHLIST_ITEM_COMPLETE,((e,t,n)=>({wishListId:e,productId:t,skuId:n})),b.REMOVE_WISHLIST_ITEM_ERROR,((e,t,n,r)=>({wishListId:t,productId:n,skuId:r,error:e}))),saveWishlistSettings:(0,g.K)(o.s.Wishlist,b.SAVE_WISHLIST_SETTINGS_START,((e,t,n,r)=>({wishListId:n,settingsState:r,onSuccess:e,onFailure:t})),b.SAVE_WISHLIST_SETTINGS_COMPLETE,((e,t)=>({wishListId:e,settingsState:t})),b.SAVE_WISHLIST_SETTINGS_ERROR,((e,t)=>({wishListId:t,error:e})))};var S=n(16109),T=n(47278),I=n(64561);const{entitlementActions:w,entitlementReducer:A,entitlementSagas:k,entitlementSelectors:P}=(0,S.So)(T.IG,(e=>(0,I.fg)(e).entitlements)),x=P.getEntitlementByProductId,R=P.getOwnershipOrSatisfactionByProductId;var N=n(76558);const O=(e,t)=>{var n;return null===(n=(0,I.ac)(e)[t])||void 0===n?void 0:n.continuationToken};var L=n(99e3),M=n(68174),D=n(21883);const U=(e,t)=>(0,I.pJ)(e).privacySettingsData[t]||(0,D.lceNotRequested)();var B=n(1540);const F=(e,t)=>(0,I.pJ)(e).safetySettingsData[t]||(0,D.lceNotRequested)();n(64925),n(54819);const H=(e,t)=>(0,I.BN)(e)[t];var q=n(6785),G=(n(48166),n(26464),n(45162),n(16216),n(18689));const z=(e,t)=>{let n=t;return t===G.Z0&&(n=(e=>(0,I.xB)(e).defaultWishlistId)(e)||n),(0,I.xB)(e).wishlists[n]}},70398:(e,t,n)=>{"use strict";n.d(t,{Mb:()=>i,ZT:()=>s,tu:()=>c});var r=n(14290),o=n(47278),a=n(64561);const{productsActions:i,productsReducers:s,productsSelectors:c,productsHooks:l}=(0,r.CQ)(o.IG,a.fg)},87040:(e,t,n)=>{"use strict";var r;n.d(t,{s:()=>r}),function(e){e.AccountLink="AccountLink",e.AdditionalInformation="AdditionalInformation",e.AvailabilitySummary="AvailabilitySummary",e.ContextualStore="ContextualStore",e.Entitlement="Entitlement",e.Filters="Filters",e.Install="Install",e.Layout="Layout ",e.ProductActions="ProductActions",e.ProductSummary="ProductSummary",e.ServiceErrorMessage="ServiceErrorMessage",e.SkuSummary="SkuSummary",e.StoreCartService="StoreCartService",e.Wishlist="Wishlist",e.ProductInfo="ProductInfo",e.Search="Search",e.UserSettings="UserSettings"}(r||(r={}))},76558:(e,t,n)=>{"use strict";n.d(t,{D3:()=>h,Qj:()=>f,Uk:()=>d,V4:()=>c,fT:()=>p,hn:()=>g,oT:()=>m,wX:()=>u});n(64925),n(54819);var r=n(21883),o=n(16216),a=n(47278),i=n(69960),s=n(64561);const c=(e,t)=>{const n=(0,o.kgH)(t);return(0,r.getDataOrPrevious)((0,s.iJ)(e).channelData[n])},l=(e,t)=>{const n=(0,o.kgH)(t);return(0,r.getDataOrPrevious)((0,s.iJ)(e).channelMetadata[n])},u=(e,t)=>{const n=(0,o.kgH)(t);return(0,s.iJ)(e).channelData[n]||(0,r.lceNotRequested)()},d=e=>u(e,a.Y3),h=(e,t)=>{const n=c(e,t);return n?n.products.map((e=>({productId:e.productId,skuId:e.skuId||"",availabilityId:""}))):[]},m=(e,t)=>{const n=(0,i.HN)(t),r=l(e,n);return(null===r||void 0===r?void 0:r.channelName)||""},p=(e,t)=>{const n=l(e,t);return(null===n||void 0===n?void 0:n.channelLocalizationKey)||""},g=(e,t)=>(0,s.iJ)(e).channelMetadata[(0,o.kgH)(t)]||(0,r.lceNotRequested)(),f=(e,t)=>{const n=l(e,t);return null===n||void 0===n?void 0:n.vanityName}},99e3:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(21883),o=(n(89741),n(64561));const a=(e,t)=>(0,o.GC)(e)[t]||(0,r.lceNotRequested)()},68174:(e,t,n)=>{"use strict";n.d(t,{D:()=>i,Hj:()=>s,Me:()=>c,ik:()=>l});n(48166),n(26464),n(45162);var r=n(21883),o=n(16216),a=n(64561);const i=e=>(0,a.fA)(e).devices.pcDevices,s=e=>(0,a.fA)(e).devices.xboxDevices,c=(e,t)=>{const n=i(e);if((0,r.isContent)(n)){const e=n.data.find((e=>(0,o.Ypc)(e.id,t)));return(null===e||void 0===e?void 0:e.name)||""}const a=s(e);if((0,r.isContent)(a)){const e=a.data.find((e=>(0,o.Ypc)(e.id,t)));return(null===e||void 0===e?void 0:e.name)||""}return""},l=(e,t)=>(0,a.fA)(e).installOperationsByProductId[t]},3175:(e,t,n)=>{"use strict";n.d(t,{By:()=>i,Cx:()=>o,xP:()=>a});var r=n(70398);const o=r.tu.availabilitySummarySelectors.getAvailabilitySummary,a=r.tu.availabilitySummarySelectors.getAvailabilitySummariesByProductId,i=r.tu.availabilitySummarySelectors.getAvailabilitySummariesByProductSkuId},1540:(e,t,n)=>{"use strict";n.d(t,{Nx:()=>h.Nx,xP:()=>r.xP,Ie:()=>d.Ie,AY:()=>h.AY,RY:()=>d.RY,zF:()=>d.zF,h$:()=>d.h$,mr:()=>d.mr,FJ:()=>i,_L:()=>c,j0:()=>l,I9:()=>h.I9,th:()=>h.th,L2:()=>d.L2,NP:()=>m.NP,Lu:()=>h.Lu,pM:()=>u});var r=n(3175),o=n(16216),a=n(64561);const i=(e,t)=>(e=>(0,a.fg)(e).productActions)(e)[(0,o.kgH)(t)];var s=n(70398);const c=s.tu.additionalInformationSelectors.getProductAdditionalInformation,l=s.tu.productInfoMetadataSelectors.getProductInfoMetadata,u=(s.tu.getProductSummaryState,s.tu.getSkuSummaryState);s.tu.getAvailabilitySummaryState,s.tu.getAdditionalInformationState;var d=n(16454),h=n(93106),m=n(47058)},16454:(e,t,n)=>{"use strict";n.d(t,{Ie:()=>l,L2:()=>c,RY:()=>h,h$:()=>m,mr:()=>d,zF:()=>u});n(36728),n(31235),n(9e4),n(48166),n(64925),n(74407),n(26464),n(18339),n(45162),n(54819),n(64903),n(6886);var r=n(14290),o=n(12748),a=n(3175),i=n(93106),s=n(47058);const c=(e,t,n,c,l)=>{let u,d;const h=(0,i.th)(e,t);if(h){const i=[n];for((0,o.L)(i,h.optimalSkuId,null===l||void 0===l?void 0:l.useOptimalFallback),(0,o.L)(i,h.preferredSkuId,null===l||void 0===l?void 0:l.usePreferredFallback);i.length;){const n=i.shift();if(n&&(u=(0,s._j)(e,t,n),u)){if((null===l||void 0===l?void 0:l.skipGamesWithGoldSku)&&u.isGamesWithGoldSku)u=void 0;else if(null===l||void 0===l?void 0:l.requirePurchaseableSku){const n=(0,a.By)(e,t,u.skuId);(null===n||void 0===n?void 0:n.find((e=>e.actions.includes(r.Hi.Purchase))))||(u=void 0)}if(u)break}}}if(u){const n=[c];for((0,o.L)(n,u.optimalAvailabilityId,null===l||void 0===l?void 0:l.useOptimalFallback),(0,o.L)(n,u.preferredAvailabilityId,null===l||void 0===l?void 0:l.usePreferredFallback);n.length;){const r=n.shift();if(r&&(d=(0,a.Cx)(e,t,u.skuId,r),d))break}}return h&&((null===l||void 0===l?void 0:l.allowPartial)||u&&d)?{product:h,sku:u,availability:d}:void 0},l=(e,t,n,r)=>{let{product:o,sku:i,availability:c}=h(e,t,n,r);return!n&&(null===o||void 0===o?void 0:o.preferredSkuId)&&(i=(0,s._j)(e,t,o.preferredSkuId)),!c&&(null===i||void 0===i?void 0:i.preferredAvailabilityId)&&(c=(0,a.Cx)(e,t,i.skuId,i.preferredAvailabilityId)),o&&i&&c?{product:o,sku:i,availability:c}:void 0},u=(e,t,n,r)=>c(e,t,n,r,{allowPartial:!0,useOptimalFallback:!0,usePreferredFallback:!0}),d=(e,t,n,o)=>{let c,l;const u=(0,i.th)(e,t);if(u){const i=[n,u.optimalSkuId,u.preferredSkuId];for(const n of i)if(n&&(c=(0,s._j)(e,t,n),c)){const n=[o,c.optimalAvailabilityId,c.preferredAvailabilityId];for(const o of n)if(o){if(l=(0,a.Cx)(e,t,c.skuId,o),l&&(0,r.xS)(l))return{product:u,sku:c,availability:l};l=void 0}c=void 0}}return u?{product:u,sku:c,availability:l}:void 0},h=(e,t,n,r)=>{const o=(0,i.th)(e,t);let c,l;return o&&n&&(c=(0,s._j)(e,t,n),c&&r&&(l=(0,a.Cx)(e,t,n,r))),{product:o,sku:c,availability:l}},m=(e,t)=>t.reduce(((t,n)=>{const r=u(e,n.productId,n.skuId,n.availabilityId);return r&&t.push(r),t}),[])},93106:(e,t,n)=>{"use strict";n.d(t,{AY:()=>a,I9:()=>c,Lu:()=>i,Nx:()=>s,th:()=>o});var r=n(70398);const o=r.tu.productSummarySelectors.getProductSummary,a=r.tu.productSummarySelectors.getLanguageSupportDetail,i=r.tu.productSummarySelectors.getShowSupportedLanguageDisclaimer,s=r.tu.productSummarySelectors.getAchievementSummary,c=r.tu.productSummarySelectors.getProductIsComingSoon},47058:(e,t,n)=>{"use strict";n.d(t,{NP:()=>a,_j:()=>o});var r=n(70398);r.tu.skuSummarySelectors.getSkuIdsByProductId;const o=r.tu.skuSummarySelectors.getSkuSummary,a=(r.tu.skuSummarySelectors.getSkuSummariesByProductId,r.tu.skuSummarySelectors.getSkuSummaryStateForProductId,r.tu.getPurchasableSkuSummariesWithDetailByProductId)},64561:(e,t,n)=>{"use strict";n.d(t,{BN:()=>h,GC:()=>m,KJ:()=>i,ac:()=>d,fA:()=>s,fg:()=>c,iJ:()=>u,pJ:()=>p,xB:()=>l});n(77950),n(94908);var r=n(16216),o=n(18689);const a=e=>(0,r.Qij)(e,o.IG),i=e=>a(e).cart,s=e=>a(e).install,c=e=>a(e).products,l=e=>a(e).wishlist,u=e=>a(e).channels,d=e=>a(e).contextualStore,h=e=>a(e).searchPromotions,m=e=>a(e).filters,p=e=>a(e).userSettings},6785:(e,t,n)=>{"use strict";n.d(t,{G:()=>a,u:()=>i});n(48166),n(26464),n(45162);var r=n(16216),o=n(64561);const a=(e,t,n,a)=>!!(0,o.KJ)(e).lineItems.find((e=>e&&(0,r.kgH)(e.productId)===(0,r.kgH)(t)&&(0,r.kgH)(e.skuId)===(0,r.kgH)(n)&&(0,r.kgH)(e.availabilityId)===(0,r.kgH)(a))),i=e=>(0,o.KJ)(e).vectorId},6490:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});n(6710),n(31235);var r=n(16216),o=n(22799),a=n(14290),i=n(47278);var s;!function(e){e.trackGameInterest=(e,r)=>t()?!!n(e)&&(s(e)?(r.verbose("trackGameInterest:Success"),!0):(r.error("trackGameInterest:Storage Failed"),!1)):(r.warn("trackGameInterest:No Storage"),!1),e.getGameInterest=e=>{if(!t())return void e.warn("getGameInterest:No Storage");const n=localStorage.getItem(i.uZ);if(null===n||""===n)return void e.warn("getGameInterest:Empty Storage");let r;try{r=JSON.parse(n)}catch(a){return void e.error("getGameInterest:Parse Error",(0,o.toError)(a))}if(void 0===r.productId||void 0===r.visitTime)return void e.error("getGameInterest:Schema Error");if(!(Math.abs((new Date).getTime()-r.visitTime)>=432e6))return e.verbose("getGameInterest:Success"),r.productId;e.warn("getGameInterest:Expired")};const t=()=>!(0,r.NT7)()&&(void 0!==window.consentCheckRequired&&void 0!==window.xbcUser&&(!window.consentCheckRequired||window.xbcUser.consentState.consentState.advertising)),n=e=>!a.gS.includes(e.toUpperCase()),s=e=>{const t={productId:e,visitTime:(new Date).getTime()};try{return localStorage.setItem(i.uZ,JSON.stringify(t)),!0}catch(n){return!1}}}(s||(s={}))},16844:(e,t,n)=>{"use strict";n.d(t,{Cp:()=>E,GX:()=>c,Ii:()=>p,Ij:()=>C,KH:()=>_,Lw:()=>d,Mc:()=>g,Sb:()=>T,Vt:()=>w,Xf:()=>S,ZH:()=>b,_m:()=>s,cY:()=>a,dq:()=>v,eV:()=>I,gB:()=>m,hB:()=>f,i9:()=>P,mI:()=>l,nh:()=>y,oU:()=>k,uz:()=>h,w6:()=>i,x$:()=>A,xE:()=>x,yp:()=>u});n(71372);var r=n(16216),o=n(74495);const a="https://www.microsoft.com/{locale}/store/cart",i="https://www.microsoft.com/store/onerf/signin?EEL=False&pcexp=True&ru={returnUrl}",s="https://support.microsoft.com/{0}/account-billing/4ed126a4-5d46-413f-a28e-968bd4414a80",c="https://aka.ms/AAaqyo9",l="https://aka.ms/AA52irh",u="https://aka.ms/AAaqyop",d="https://xbox.com/photosensitive-seizure-warning",h="productDetails/{productId}",m="search",p="search/{tabKey}",g="library",f=()=>window.location.origin||r.V9f,v=()=>(0,o.useSelector)((e=>(0,r.$Pr)(e,r.vCX.StorePPE)))?"https://onestore-ppe.microsoft.com":"https://www.microsoft.com",_=e=>(0,r.uQr)("family/memberXuid({xuid})",{xuid:e}),y=(e,t)=>`${t?`/${t}`:""}/user/settings/privacy-and-safety${e?`/${e}`:""}`,b="https://social.xbox.com/changegamertag",E="https://account.live.com/Password/Change",C="http://go.microsoft.com/fwlink/?LinkID=532885",S="https://family.microsoft.com",T="https://account.microsoft.com/devices",I="https://account.microsoft.com/billing/orders",w="https://account.microsoft.com/services/",A="https://support.xbox.com/help/family-online-safety/online-safety/manage-app-privacy-settings-xbox-one",k="https://ratingsedge.rnr.microsoft.com/v1.0/ratingsedge/content/product/{productId}/review/{reviewId}",P="https://apps.apple.com/app/xbox/id736179781",x="https://support.xbox.com/help/hardware-network/getting-started-set-up/complete-setup-in-mobile-app"},10653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>q});n(73439),n(6886);var r=n(27372),o=(n(77950),n(74069),n(16216)),a=n(27256),i=n(4517),s=n(18007),c=n(2784),l=n(53249),u=n(36231);var d=n(8093),h=n(73637),m=(n(88233),n(14121),n(60523),n(74495));const p=e=>{const t=(0,m.useSelector)(o.Yzi),n=(0,i.Gn)("/games/browse/:platformName?",{platformName:e});return new URL(`${t}${n}`,o.V9f).toString()};n(94908);var g=n(24594),f=n(70637),v=n(2293),_=n(27473),y=n(62970),b=n(54656),E=n(50498),C=n(19884),S=n(31539),T=n(58136),I=n(45969),w=n(20892),A=n(87995);var k=n(4583),P=n(72813),x=n(92838),R=n(82885),N=n(2348),O=n(67446),L=n(16844);const M=()=>{const e=(0,m.useSelector)(o.Xnf).userAgent,t=new O.LK(e),n=t.isIOS,r=t.isIPadOS,a=t.isAndroid;let s=L.xE;if(n||r)s=L.i9;else if(a)return c.createElement(i.l_,{to:"/XboxSetupAndroid"});return c.createElement(l.Ux,{to:s})};var D=n(39430),U=n(80331);const B={"/store/home":{featureGate:o.vCX.EnableStoreHomePage,redirect:"/games"},"/search/results":{featureGate:o.vCX.EnableNewSearchExperience,redirect:"/search"}},F=(0,a.tP)((()=>Promise.all([n.e(64580),n.e(86540),n.e(18132)]).then(n.bind(n,56494))),(e=>e.lazyRouteConfigs)),H=[{key:"Wishlist",path:"/wishlist",component:P.l,exact:!0,seoComponent:x.D,testConfig:{title:"Wishlist",testPath:"/wishlist"},lazyConfig:F("Wishlist")},{key:"WishlistWithId",path:`/wishlist/:${o.Hw9.WishlistId}`,component:P.l,exact:!0,seoComponent:x.n,testConfig:{title:"Wishlist",testPath:"/wishlist/wishlistId"},lazyConfig:F("WishlistWithId")},{key:"StoreHomePage",path:"/store/home",component:k.q,theme:o.Q2A.Light,constraint:{featureGates:{[o.vCX.EnableStoreHomePage]:e=>!0===e}},experimentBasedRedirect:B["/store/home"],testConfig:{title:"Store Home Page",testPath:"/store/home"},lazyConfig:F("StoreHomePage")},{key:"PrivacyAndSafetySettings",path:`/user/settings/privacy-and-safety/:${o.Hw9.Xuid}?`,component:S.O,theme:o.Q2A.Light,testConfig:{title:"Privacy and Safety Settings Page",testPath:"/user/settings/privacy-and-safety"}},{key:"ContactPreferencesPage",path:"/user/settings/contact-preferences",component:N.Y,theme:o.Q2A.Light,testConfig:{title:"Contact Preferences Page",testPath:"/user/settings/ContactPreferences"}},{key:"PrivacyAndSafetySettings",path:"/user/settings",component:S.O,theme:o.Q2A.Dark,testConfig:{title:"Privacy and Safety Settings via old path",testPath:"/user/settings"}},{key:"BrowsePageByCollection",path:`/games/browse/:${o.Hw9.ChannelId}`,component:d.Y,theme:o.Q2A.Light,seoComponent:h.Q,lazyConfig:F("BrowseCollectionPage"),testConfig:{title:"Browse By Collection Page",testPath:[{path:"/games/browse/New",title:"New games collection"},{path:"/games/browse/TopPaid",title:"Top Paid collection"},{path:"/games/browse/TopFree",title:"Top Free collection"},{path:"/games/browse/BestRated",title:"Best Rated collection"},{path:"/games/browse/based-On-Books",title:"Games Based on books (Campsite) alias"},{path:"/games/browse/CampsiteChannel.Games.Primary.gamesbasedonbooks",title:"Games Based on books (Campsite)"},{path:"/games/browse/CampsiteChannel.Games.Sale.2023.Dealsunlocked0623",title:"Deals Unlocked June 2023 (Campsite)"}]}},{key:"OldBrowsePageRoutes",path:"/browse/games*",component:()=>{const e=(0,i.TH)(),t=e.pathname.toLowerCase().split("/browse/games"),n=`${t[0]}/games/browse${t[1]}${e.search}`;return c.createElement(i.l_,{to:n})},seoComponent:h.Q,testConfig:{title:"Old Browse (Should redirect to new)",testPath:[{path:"/browse/games/New",title:"New games collection"},{path:"/browse/games/New?Genre=Action%20%26%20adventure",title:"Browse all new action & adventure"},{path:"/browse/games?Genre=Action%20%26%20adventure",title:"Browse all action & adventure"}]}},{key:"BrowsePageConsoleGamesNewPath",path:"/games/all-games/console",component:d.Y,theme:o.Q2A.Light,seoComponent:()=>{const e=(0,u.UD)("homePageBrowseAllGamesConsoleButtonLabel"),t=p("console");return c.createElement(l.TT,{title:e,canonicalUrl:t})},testConfig:{title:"Browse Console Games Page"},lazyConfig:F("BrowsePageConsoleGamesNewPath")},{key:"BrowsePagePCGamesNewPath",path:"/games/all-games/pc",component:d.Y,theme:o.Q2A.Light,seoComponent:()=>{const e=(0,u.UD)("homePageBrowseAllGamesPCButtonLabel"),t=p("pc");return c.createElement(l.TT,{title:e,canonicalUrl:t})},testConfig:{title:"Browse PC Games Page"},lazyConfig:F("BrowsePagePCGamesNewPath")},{key:"BrowsePage",path:"/games/browse",component:d.Y,theme:o.Q2A.Light,seoComponent:()=>{const e=(0,u.UD)("homePageBrowseAllGamesModuleTitle"),t=p();return c.createElement(l.TT,{title:e,canonicalUrl:t})},testConfig:{title:"Browse Page",testPath:[{path:"/games/browse",title:"Default browse page"},{path:"/games/browse?Genre=Action%20%26%20adventure",title:"Action & adventure games"}]},lazyConfig:F("BrowsePage")},{key:"LibraryPage",path:"/games/library",component:C.A,constraint:{featureGates:{[o.vCX.EnableLibraryPage]:e=>!0===e}},testConfig:{title:"Library",testPath:"/games/library"},lazyConfig:F("LibraryPage")},{key:"RedeemHost",path:"/external/redeem-host",component:U.D,hideUHF:!0,uhfConfig:{headerMode:o.Grh.Off,footerMode:o.ZOQ.Off},theme:o.Q2A.Dark,exact:!0,constraint:{featureGates:{[o.vCX.EnableGarrisonInlineRedeem]:e=>!0===e}},testConfig:{title:"Redeem Host Test"}},{key:"ContextualStoreHost",path:`/external/contextual-store-host/:${o.Hw9.ProductId}/:${o.Hw9.SkuId}?/:${o.Hw9.AvailabilityId}?`,component:b.f,hideUHF:!0,uhfConfig:{headerMode:o.Grh.Off,footerMode:o.ZOQ.Off},testConfig:{title:"Contextual Store Host",testPath:[{path:"/external/contextual-store-host/91FRV8WPFK4C",title:"Xbox One X 1TB Console"},{path:"/external/contextual-store-host/C2KDNLT2H7DM",title:"Gears 5 (XPA)"},{path:"/external/contextual-store-host/9pk917v6pncb",title:"Gears 5 - 500 Coins"},{path:"/external/contextual-store-host/BVJLKDG2TX8H",title:"Overcooked 2 (Xbox)"},{path:"/external/contextual-store-host/9PNLMB2ZW603",title:"Product not found"},{path:"/external/contextual-store-host/C2KDNLT2H7DM?v=v2",title:"v2 - Gears 5 (XPA)"},{path:"/external/contextual-store-host/c2b3mcdf0c4l?v=v2",title:"v2 - Silver with Skus"},{path:"/external/contextual-store-host/CFQ7TTC0KHS0?v=v2",title:"v2 - Game Pass Ultimate"},{path:"/external/contextual-store-host/C2KDNLT2H7DM?v=v2&exp=Browse&it=Consumable,Durable",title:"v2 Marketplace - Gears 5 (XPA) "}]}},{key:"ContextualStoreModalLauncherTest",path:"/contextualStoreHostLauncherTest",component:E.G,theme:o.Q2A.Dark,exact:!0,constraint:{featureGates:{[o.vCX.EnableTestPages]:e=>!0===e}},testConfig:{title:"Contextual Store Modal Launcher Test"}},{key:"BundleBuilderTest",path:"/configure/testProducts",component:v.y,theme:o.Q2A.Dark,exact:!0,enableXboxCart:!0,constraint:{featureGates:{[o.vCX.EnableTestPages]:e=>!0===e}},testConfig:{title:"Bundle Builder Test Products"}},{key:"BundleBuilder",path:`/configure/:${o.Hw9.ProductId}`,component:g.F,exact:!0,enableXboxCart:!0,seoComponent:f.q,testConfig:{title:"Bundle Builder",testPath:[{path:"/configure/91FRV8WPFK4C",title:"Bundle Builder (Xbox One X)"},{path:"/configure/8S4SFBJC55TL",title:"Bundle Builder (Xbox One S)"},{path:"/configure/8NL3CQSH17X7",title:"Bundle Builder (Xbox One S (the other one))"},{path:"/configure/8WJ714N3RBTL",title:"Bundle Builder (X)"},{path:"/configure/942J774TP9JN",title:"Bundle Builder (S)"},{path:"/configure/8RPM8T9CK0P6",title:"Bundle Builder (New Console)"}]},lazyConfig:F("BundleBuilder")},{key:"XboxCardApplyHost",path:`/:${o.Hw9.Path}(xbox-mastercard)/apply`,component:R.O,theme:o.Q2A.Dark,uhfConfig:{headerMode:o.Grh.None,footerMode:o.ZOQ.None},testConfig:{title:"xbox mastercard apply host",testPath:[{path:"/xbox-mastercard/apply",title:"Test Page for External Apply Flow"}]}},{key:"ProductDetailsPage",path:`/games/store/:${o.Hw9.ProductName}/:${o.Hw9.ProductId}/:${o.Hw9.SkuId}?/:${o.Hw9.AvailabilityId}?`,component:T.n,requiresNewRequest:(e,t,n)=>{let r=!0;if(n){const a=(0,i.LX)(t.pathname,{path:e}),s=(0,i.LX)(n.pathname,{path:e});r=!(0,o.Ypc)(null===a||void 0===a?void 0:a.params[o.Hw9.ProductId],null===s||void 0===s?void 0:s.params[o.Hw9.ProductId])}return r},formatPageId:(e,t)=>{var n;return`${t}/${((null===(n=null===e||void 0===e?void 0:e.match)||void 0===n?void 0:n.params[o.Hw9.ProductId])||"").toUpperCase()}`},seoComponent:I.R,theme:o.Q2A.Dark,lazyConfig:F("ProductDetailsPage"),testConfig:{title:"PDP",testPath:[{path:"/games/store/Gears-of-War-5/C2KDNLT2H7DM",title:"Gears 5 (XPA)"},{path:"/games/store/Game-Pass-Ultimate/CFQ7TTC0KHS0",title:"Game Pass Ultimate"},{path:"/games/store/Overcooked-2-Xbox/BVJLKDG2TX8H",title:"Overcooked 2 (Xbox)"},{path:"/games/store/Overcooked-2-PC/9PGB72NFG5JN",title:"Overcooked 2 (PC)"},{path:"/games/store/Forza-Horizon-4-Ultimate-Bundle/9P513P4MWC71",title:"Forza Horizon 4 Ultimate (Bundle)"},{path:"/games/store/Forza-Horizon-4-Car-Pass-DLC/9MZPP9XXP13L",title:"Forza Horizon 4 Car Pass (DLC)"},{path:"/games/store/Forza-Horizon-4/9PNQKHFLD2WQ",title:"Forza Horizon 4 (No Availability)"},{path:"/games/store/Destiny-2-Silver/c2b3mcdf0c4l",title:"Destiny 2 Silver"},{path:"/games/store/fallout-1st/cfq7ttc0l4dr",title:"Fallout 1st - 3PP & Sku Selector"},{path:"/games/store/ubisoft/CFQ7TTC0QH5H",title:"Ubisoft+"},{path:"/games/store/xbet-testing/9NVKC6TB0MKC",title:"Ubisoft+ - Test Product "},{path:"/games/store/assassins-creed-odyssey/BW9TWC8L4JCS",title:"Assassin's Creed Odyssey"},{path:"/games/store/wheel-of-fortune/BR76VBTV0NK0",title:"Wheel of Fortune"},{path:"/games/store/xbox-game-pass-standard/CFQ7TTC0P85B",title:"Game Pass Standard"},{path:"/games/store/p/9PG495V9BT52/0010",title:"Sonic Frontiers (Mauna Loa Product)"}]}},{key:"Cart",path:"/cart",component:_.V,exact:!0,enableXboxCart:!0,seoComponent:y.E},{key:"Checkout",path:"/checkout",component:_.u,exact:!0,enableXboxCart:!0,seoComponent:null},{key:"SearchPage",path:`/search/results/:${o.Hw9.TabName}?`,component:w.Z,theme:o.Q2A.Light,constraint:{featureGates:{[o.vCX.EnableNewSearchExperience]:e=>!0===e}},experimentBasedRedirect:B["/search/results"],formatPageId:(e,t)=>`${t}/search/results`,seoComponent:()=>{const e=(0,i.TH)(),t=(0,r.mZK)((0,r.EV)(A.nV.searchQuery,e)),n=(0,u.UD)("searchTitleNoCount",{queryParam:t}),o=[l.oo.NoIndex,l.oo.NoFollow];return c.createElement(l.TT,{title:n,robotsMetaTags:o})},lazyConfig:F("SearchPage"),testConfig:{title:"Search",testPath:[{title:"Halo",path:"/search/results?q=halo"},{title:"Forza",path:"/search/results?q=forza"},{title:"Forza Addons < $5",path:"/search/results/Addons?q=forza&Price=0.01To5"},{title:"Xbox",path:"/search/results?q=xbox"},{title:"Gears 5",path:"/search/results?q=gears%205"},{title:"Gears 5 Addons(Case Insensitive)",path:"/search/results/aDdoNS?q=gears%205"}]}},{key:"AccountLinkStart",path:`/connect/:${o.Hw9.NetworkName}(ubisoft)/start-link`,component:s.t,exact:!0,seoComponent:()=>{const e=(0,u.UD)("accountLinkStartTitle"),t=[l.oo.NoIndex,l.oo.NoFollow];return c.createElement(l.TT,{title:e,robotsMetaTags:t})},lazyConfig:F("AccountLinkStart"),theme:o.Q2A.Dark,testConfig:{title:"Ubisoft link start",testPath:"/connect/ubisoft/start-link"}},{key:"AccountLinkComplete",path:`/connect/:${o.Hw9.NetworkName}(ubisoft)/complete-link`,component:s.g,exact:!0,seoComponent:()=>{const e=(0,u.UD)("accountLinkCompleteTitle"),t=[l.oo.NoIndex,l.oo.NoFollow];return c.createElement(l.TT,{title:e,robotsMetaTags:t})},theme:o.Q2A.Dark,testConfig:{title:"Ubisoft link complete",testPath:"/connect/ubisoft/complete-link"},lazyConfig:F("AccountLinkComplete")},{key:"XboxSetupRedirect",path:"/XboxSetupRedirect",component:M,exact:!0,constraint:{featureGates:{[o.vCX.EnableXboxOneRFSetupRedirectPage]:e=>!0===e}},testConfig:{title:"Xbox redirect page based on the user agent",testPath:"/XboxSetupRedirect"}},{key:"XboxSetupAndroid",path:"/XboxSetupAndroid",component:D.d,exact:!0,constraint:{featureGates:{[o.vCX.EnableXboxOneRFSetupRedirectPage]:e=>!0===e}},theme:o.Q2A.Dark,testConfig:{title:"Xbox setup android page",testPath:"/XboxSetupAndroid"}}],q={partnerId:r.IGD,routes:H,registerDependencies:e=>{e.registerLazy(r.ibq,(async()=>{const{PageRequestUtils:e}=await Promise.all([n.e(64580),n.e(86540),n.e(18132)]).then(n.bind(n,63023));return new e}))},redirectExperimentsConfiguration:B,lazyConfig:()=>Promise.all([n.e(64580),n.e(86540),n.e(18132)]).then(n.bind(n,56966))}},36231:(e,t,n)=>{"use strict";n.d(t,{QF:()=>i,UD:()=>s,iV:()=>a,po:()=>l,y_:()=>c});n(6886);var r=n(27372),o=n(16216);const a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return(0,o.iNM)(e,r.IGD,...n)},i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.WD1)(r.IGD,...t)};function s(e,t){return(0,o.FL2)(r.IGD,e,t)}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.s8U)(r.IGD,...t)}function l(e){return(0,o.XY5)(r.IGD,e)}},18007:(e,t,n)=>{"use strict";n.d(t,{g:()=>l,t:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"AccountLink",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(7014).then(n.bind(n,62893))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 62893}}),l=(0,s.cx)({resolved:{},chunkName:()=>"AccountLink",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(7014).then(n.bind(n,23574))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 23574}})},73637:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249),c=n(16216);const l=(0,s.hx)({resolved:{},chunkName:()=>"BrowsePageByCollection",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,c.Fbb)(s.Ed,n.e(89425).then(n.bind(n,22873))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 22873}})},8093:(e,t,n)=>{"use strict";n.d(t,{Y:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"BrowsePage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(20124),n.e(20070)]).then(n.bind(n,38385))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 38385}})},70637:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249),c=n(16216);const l=(0,s.hx)({resolved:{},chunkName:()=>"BundleBuilderPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,c.Fbb)(s.Ed,Promise.all([n.e(24317),n.e(73931),n.e(93794),n.e(41279)]).then(n.bind(n,56597))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 56597}})},24594:(e,t,n)=>{"use strict";n.d(t,{F:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"BundleBuilderPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(24317),n.e(73931),n.e(93794),n.e(41279)]).then(n.bind(n,92333))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 92333}})},2293:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"BundleBuilderTestPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(85565),n.e(73931),n.e(71904),n.e(85536)]).then(n.bind(n,71904))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 71904}})},62970:(e,t,n)=>{"use strict";n.d(t,{E:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249),c=n(16216);const l=(0,s.hx)({resolved:{},chunkName:()=>"CartPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,c.Fbb)(s.Ed,Promise.all([n.e(24317),n.e(77168),n.e(49263)]).then(n.bind(n,35050))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 35050}})},27473:(e,t,n)=>{"use strict";n.d(t,{V:()=>c,u:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"CartPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(24317),n.e(77168),n.e(49263)]).then(n.bind(n,33808))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 33808}}),l=(0,s.cx)({resolved:{},chunkName:()=>"CheckoutPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(24317),n.e(17582),n.e(1352)]).then(n.bind(n,17582))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 17582}})},2348:(e,t,n)=>{"use strict";n.d(t,{Y:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"ContactPreferencesPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(85565),n.e(34166),n.e(130)]).then(n.bind(n,32014))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 32014}})},54656:(e,t,n)=>{"use strict";n.d(t,{f:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"ContextualStoreHostPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(2893).then(n.bind(n,36507))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 36507}})},50498:(e,t,n)=>{"use strict";n.d(t,{G:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"ContextualStoreModalLauncherTestPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(48549).then(n.bind(n,16015))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 16015}})},19884:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"LibraryPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(20124),n.e(20070)]).then(n.bind(n,52622))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 52622}})},31539:(e,t,n)=>{"use strict";n.d(t,{O:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"PrivacyAndSafetySettingsPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(61637),n.e(29650)]).then(n.bind(n,61637))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 61637}})},45969:(e,t,n)=>{"use strict";n.d(t,{R:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249),c=n(16216);const l=(0,s.hx)({resolved:{},chunkName:()=>"ProductDetailsPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,c.Fbb)(s.Ed,Promise.all([n.e(85565),n.e(34166),n.e(20124),n.e(25264)]).then(n.bind(n,8963))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 8963}})},58136:(e,t,n)=>{"use strict";n.d(t,{n:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"ProductDetailsPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(85565),n.e(34166),n.e(20124),n.e(25264)]).then(n.bind(n,49551))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 49551}})},80331:(e,t,n)=>{"use strict";n.d(t,{D:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"RedeemHostPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(85565),n.e(2435),n.e(81557)]).then(n.bind(n,3051))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 3051}})},20892:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"SearchPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(20124),n.e(20070)]).then(n.bind(n,34686))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 34686}})},4583:(e,t,n)=>{"use strict";n.d(t,{q:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"StoreHomePage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(85565),n.e(34166),n.e(20124),n.e(25264)]).then(n.bind(n,67572))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 67572}})},92838:(e,t,n)=>{"use strict";n.d(t,{D:()=>l,n:()=>u});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249),c=n(16216);const l=(0,s.hx)({resolved:{},chunkName:()=>"WishlistPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,c.Fbb)(s.Ed,Promise.all([n.e(93427),n.e(85023)]).then(n.bind(n,9341))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 9341}}),u=(0,s.hx)({resolved:{},chunkName:()=>"WishlistPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,c.Fbb)(s.Ed,Promise.all([n.e(93427),n.e(85023)]).then(n.bind(n,72379))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 72379}})},72813:(e,t,n)=>{"use strict";n.d(t,{l:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"WishlistPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(93427),n.e(85023)]).then(n.bind(n,36333))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 36333}})},82885:(e,t,n)=>{"use strict";n.d(t,{O:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"XboxCardApplyHostPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(2786).then(n.bind(n,53642))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 53642}})},39430:(e,t,n)=>{"use strict";n.d(t,{d:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"XboxSetupAndroidPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(64949).then(n.bind(n,61034))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 61034}})},79790:(e,t,n)=>{"use strict";n.d(t,{dl:()=>d,Qi:()=>h,F7:()=>p,SV:()=>m,oT:()=>u,$L:()=>g,J:()=>i,U6:()=>s,G5:()=>l,$7:()=>c});n(77950),n(88233),n(85940),n(6886),n(60523);var r=n(8318),o=n(3522);const a=n.p+"static/media/manifest-icon-dev-192.4331cb2a.png";var i,s,c,l,u,d,h,m,p,g,f=n(99829);!function(e){e.name="Developer Tools",e.path=`${r.ny}/dev-tools`,e.getLink=function(){return e.path},e.pwaOverrides={start_url:e.path,name:"Developer Tools",short_name:"Developer Tools",icons:[{src:a,sizes:"192x192",type:"image/png",purpose:"any"},{src:f,sizes:"512x512",type:"image/png",purpose:"any"}]}}(i||(i={})),function(e){let t;e.name="Developer Tools - Sign In",e.path=`${i.path}/signin`,function(e){e.redirectUrl=o.R4.redirectUrl,e.sandboxId=o.R4.Auth.Sandbox.id}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n,r){const o=new URLSearchParams;return o.set(t.redirectUrl,n),r&&o.set(t.sandboxId,r),`${e.path}?${o.toString()}`},e.pwaOverrides=i.pwaOverrides}(s||(s={})),function(e){e.name="Developer Tools - Console Selection",e.path=`${i.path}/direct-connect`,e.getLink=function(){return e.path},e.pwaOverrides=i.pwaOverrides}(c||(c={})),function(e){let t;!function(e){e.serverId=":serverId"}(t=e.PathParams||(e.PathParams={})),e.name="Developer Tools - Direct Connect",e.path=`${c.path}/${e.PathParams.serverId}`,e.getLink=function(t){return e.path.replace(e.PathParams.serverId,encodeURIComponent(t))},e.pwaOverrides=i.pwaOverrides}(l||(l={})),function(e){e.name="Developer Tools - Offering Selection",e.path=`${i.path}/select-offering`,e.getLink=function(){return e.path}}(u||(u={})),function(e){e.name="Developer Tools - Configure Ip Connect",e.path=`${i.path}/ip-connect`,e.getLink=function(){return e.path},e.pwaOverrides=i.pwaOverrides}(d||(d={})),function(e){let t;!function(e){e.ipAddress=o.R4.Session.ipAddress,e.secureWebsocketsMode=o.R4.Session.secureWebsocketsMode}(t=e.QueryStrings||(e.QueryStrings={})),e.name="Developer Tools - Ip Connect",e.path=`${d.path}/launch`,e.getLink=function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=new URLSearchParams;n&&i.set(t.ipAddress,n),a&&i.set(o.R4.StreamClient.streamType,"0"),i.set(t.secureWebsocketsMode,r);const s=i.toString();return s?`${e.path}?${s}`:e.path},e.pwaOverrides=i.pwaOverrides}(h||(h={})),function(e){let t;!function(e){e.devkitRedeemCode=o.R4.Session.devkitRedeemCode,e.devkitDisableAutoJoin=o.R4.Session.devkitDisableAutoJoin,e.devkitHost=o.R4.Session.devkitHost}(t=e.QueryStrings||(e.QueryStrings={})),e.name="Developer Tools - Redeem",e.path=`${i.path}/redeem`,e.getLink=function(n,r,o){const a=new URLSearchParams;return n&&a.set(t.devkitRedeemCode,n),r&&a.set(t.devkitDisableAutoJoin,"true"),o&&a.set(t.devkitHost,o),`${e.path}?${a.toString()}`},e.pwaOverrides=i.pwaOverrides}(m||(m={})),function(e){let t;!function(e){e.devkitRedeemCode=o.R4.Session.devkitRedeemCode,e.devkitHost=o.R4.Session.devkitHost}(t=e.QueryStrings||(e.QueryStrings={})),e.name="Developer Tools - Managed Devkit",e.path=`${i.path}/devkit/launch`,e.getLink=function(n,r){const o=new URLSearchParams;return o.set(t.devkitRedeemCode,n),r&&o.set(t.devkitHost,r),`${e.path}?${o.toString()}`},e.pwaOverrides=i.pwaOverrides}(p||(p={})),function(e){let t;!function(e){e.source="overrideDevSettings.source"}(t=e.QueryStrings||(e.QueryStrings={})),e.consentSessionStorageKey="overrideDevSettings.consentReceived",e.name="Developer Tools - Override Developer Settings",e.path=`${i.path}/overrideDevSettings`,e.getLink=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.path,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new URLSearchParams,o=arguments.length>2?arguments[2]:void 0;return r.set(t.source,n),`${e.path}?${r.toString()}${null!==o&&void 0!==o?o:""}`},e.pwaOverrides=i.pwaOverrides}(g||(g={}))},35751:(e,t,n)=>{"use strict";var r;n.d(t,{y:()=>r}),function(e){e.CollectUserEmail="CollectUserEmail",e.LogEvents="LogEvents",e.ShowNotStartedRocket="ShowNotStartedRocket",e.EnableInternalFeedback="EnableInternalFeedback",e.EnableLegacyPurchaseFlow="EnableLegacyPurchaseFlow",e.HideBetaReferences="HideBetaReferences",e.EnableProvisioningQueueUX="EnableProvisioningQueueUX",e.EnableDisconnectWarning="EnableDisconnectWarning",e.EnableLowerMaxBufferLimit="EnableLowerMaxBufferLimit",e.StatsEventFrequencySec="StatsEventFrequencySec",e.StatsCollectionSizeSec="StatsCollectionSizeSec",e.NumberOfStatsEventsToStore="NumberOfStatsEventsToStore",e.StringifyStatUponCollect="StringifyStatUponCollect",e.Remove78FPSHack="Remove78FPSHack",e.EnableMouseAndKeyboard="EnableMouseAndKeyboard",e.EnableAbsoluteMouse="EnableAbsoluteMouse",e.DisableHudAutoCollapse="DisableHudAutoCollapse",e.EnableVibration="EnableVibration",e.EnableVibrationTizen="EnableVibrationTizen",e.UseWebCodecsByDefault="UseWebCodecsByDefault",e.VideoLatencyPreset="VideoLatencyPreset",e.SetCodecPreferences="SetCodecPreferences",e.EnableIAPBrowseExperience="EnableIAPBrowseExperience",e.UseTizenH264MainSdpHack="UseTizenH264MainSdpHack",e.InputChannelMaxVersion="InputChannelMaxVersion",e.IgnoreServiceConfig="IgnoreServiceConfig",e.EnableSimpleFeedbackV2="EnableSimpleFeedbackV2",e.DisableNotificationBanner="DisableNotificationBanner",e.ForceInputModality="ForceInputModality",e.EnableClosedCaptions="EnableClosedCaptions",e.EnableNexusTeachingTip="EnableNexusTeachingTip",e.EnableMicToggleForTV="EnableMicToggleForTV",e.AutoFullscreenPersist="AutoFullscreenPersist",e.EnableClientGuideInStream="EnableClientGuideInStream",e.EnableAAPAddFriendStream="EnableAAPAddFriendStream",e.EnableAAPMultiplayerTitle="EnableAAPMultiplayerTitle",e.EnableAAPScreenTimeStream="EnableAAPScreenTimeStream",e.MinProvisioningAdDisplay="MinProvisioningAdDisplay",e.MaxProvisioningAdWait="MaxProvisioningAdWait",e.EnableSensorInput="EnableSensorInput",e.SensorInputPollingRateInHz="SensorInputPollingRateInHz",e.EnableTakHighContrastMode="EnableTakHighContrastMode",e.EnableUserGestureDialog="EnableUserGestureDialog",e.EnableManagedDevFeedback="EnableManagedDevFeedback",e.EnablePrivacyControls="EnablePrivacyControls",e.EnableContextualStoreVNext="EnableContextualStoreVNext",e.EnableUseRetryAfterHeader="EnableUseRetryAfterHeader",e.EnableAFDFootprintTracker="EnableAFDFootprintTracker",e.AFDTrackerCooldown="AFDTrackerCooldown",e.EnableOpenEndedGameInvites="EnableOpenEndedGameInvites",e.EnableParties="EnableParties",e.EnableStateShareTcui="EnableStateShareTcui",e.EnableXSTHLogs="EnableXSTHLogs",e.EnableStoreRedeem="EnableStoreRedeem",e.EnableTakControlResizing="EnableTakControlResizing",e.EnableUpdateRequiredPage="EnableUpdateRequiredPage",e.DisableXboxSplashVideo="DisableXboxSplashVideo",e.EnableFireOSLunaHandling="EnableFireOSLunaHandling",e.MuteXboxSplashVideo="MuteXboxSplashVideo"}(r||(r={}))},92952:(e,t,n)=>{"use strict";n.d(t,{I:()=>r});var r,o=n(8318);!function(e){e.name="XboxTogether";let t;!function(e){e.sessionId=":sessionId"}(t=e.PathParams||(e.PathParams={})),e.path=`${o.ny}/together/${t.sessionId}`,e.getLink=e=>`${o.ny}/together/${e}`,e.pathWithNoId=`${o.ny}/together`}(r||(r={}))},68998:(e,t,n)=>{"use strict";n.d(t,{G:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"InitializeSinglePageApplication",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(69623),n.e(38001),n.e(12148)]).then(n.bind(n,98418))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 98418}})},83043:(e,t,n)=>{"use strict";n.d(t,{O:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249);const c=(0,s.cx)({resolved:{},chunkName:()=>"web-manifest-component",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(56622),n.e(84927)]).then(n.bind(n,35369))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 35369}})},36601:(e,t,n)=>{"use strict";n.d(t,{f:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(89971),c=n(53249);const l=(0,c.cx)({resolved:{},chunkName:()=>"play-root-component",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,c.LB)(Promise.all([n.e(49243),n.e(74461),n.e(69623),n.e(38001),n.e(58850),n.e(89204),n.e(3626),n.e(56622),n.e(75392),n.e(79313),n.e(8348),n.e(4805),n.e(91479),n.e(56355),n.e(30001),n.e(7215),n.e(9771),n.e(76931),n.e(33214),n.e(2566),n.e(11477)]).then(n.bind(n,82806))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 82806}})},4609:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});n(77950),n(94908);var r=n(52322),o=n(4517),a=n(5653);function i(){const{search:e,hash:t}=(0,o.TH)();return(0,r.jsx)(o.l_,{to:`${a.Home.getLink()}${e}${t}`})}},72054:(e,t,n)=>{"use strict";var r;n.d(t,{b:()=>r}),function(e){e.XCloud="XCloud",e.XHomeDevKit="XHomeDevKit",e.SignedInToXbox="SignedInToXbox",e.PrivateOffering="PrivateOffering",e.Public="Public",e.ManagedDevkit="ManagedDevkit",e.IpConnect="IpConnect",e.DeveloperPublic="DeveloperPublic"}(r||(r={}))},61872:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var r,o=n(814),a=n.n(o),i=n(16216);!function(e){e.EnableExternalGuide="EnableExternalGuide",e.EnableNHPMocking="EnableNHPMocking",e.EnableNHP="EnableNHP",e.EnableOverrideDevSettings="EnableOverrideDevSettings"}(r||(r={}));var s,c=n(35751);!function(e){e.InternalUser="InternalUser",e.IsTakehomeUser="IsTakehomeUser",e.IsInsiderUser="IsInsiderUser",e.AdditionalSupportedMarkets="AdditionalSupportedMarkets",e.UnsupportedMarkets="UnsupportedMarkets",e.BlockedOfferings="BlockedOfferings",e.OverrideIsXGPUSubscriber="OverrideIsXGPUSubscriber",e.OverrideDefaultOffering="OverrideDefaultOffering",e.PwaPrompt="PwaPrompt",e.EnableLegacyPurchaseFlow="EnableLegacyPurchaseFlow",e.HideBetaReferences="HideBetaReferences",e.DisablePlayAudioOnSilent="DisablePlayAudioOnSilent",e.EnableStreamGate="EnableStreamGate",e.EnableWifiWarnings="EnableWifiWarnings",e.EnableTitleHubMru="EnableTitleHubMru",e.EnableFriendsAndFollowers="EnableFriendsAndFollowers",e.EnableOneTrust="EnableOneTrust",e.EnableCarouselAds="EnableCarouselAds",e.CarouselAdsPlacementId="CarouselAdsPlacementId",e.ProvisioningAdsPlacementId="ProvisioningAdsPlacementId",e.EnableProvisioningAds="EnableProvisioningAds",e.EnableProvAdsForChild="EnableProvAdsForChild",e.EnableProvAdsForXGPU="EnableProvAdsForXGPU",e.EnableGuideHomeTab="EnableGuideHomeTab",e.EnableGuideChatTab="EnableGuideChatTab",e.EnableGuideNotifications="EnableGuideNotifications",e.EnableGuideProfileTab="EnableGuideProfileTab",e.EnableIpConnect="EnableIpConnect",e.BypassXHomeDevKitCheck="BypassXHomeDevKitCheck",e.EnableBuyNowPlayButton="EnableBuyNowPlayButton",e.EnableMediaEngagement="EnableMediaEngagement",e.EnableMediaPlayOnWeb="EnableMediaPlayOnWeb",e.EnableFreeToPlay="EnableFreeToPlay",e.EnableF2PPostPlayUpsell="EnableF2PPostPlayUpsell",e.F2PPostPlayUpsellCooldown="F2PPostPlayUpsellCooldown",e.EnableXboxTogether="EnableXboxTogether",e.EnableShareStatePrototype="EnableShareStatePrototype",e.EnableServiceWorker="EnableServiceWorker",e.EnableQuickResumeMenu="EnableQuickResumeMenu",e.EnableUserStorageMenu="EnableUserStorageMenu",e.DisableMicUnsupportedModal="DisableMicUnsupportedModal",e.ShowFortniteInPopularRow="ShowFortniteInPopularRow",e.ShowFreeToPlaySiglRow="ShowFreeToPlaySiglRow",e.EnableTelemetryAutoCapture="EnableTelemetryAutoCapture",e.EnableQuadMotorOriginTrial="EnableQuadMotorOriginTrial",e.ShowMouseKeyboardSetting="ShowMouseKeyboardSetting",e.ShowSensorsSetting="ShowSensorsSetting",e.TrackRecoverableReactError="TrackRecoverableReactError",e.EnablePartiesDevMode="EnablePartiesDevMode",e.EnableAchievements="EnableAchievements",e.EnableTvLayerHint="EnableTvLayerHint",e.EnableSentryTracing="EnableSentryTracing",e.EnableUserGestureDialog="EnableUserGestureDialog",e.EnableAskAParentAddFriend="EnableAskAParentAddFriend",e.EnableAskAParentScreenTime="EnableAskAParentScreenTime",e.EnableAskAParentContent="EnableAskAParentContent",e.EnableXSearch="EnableXSearch",e.EnableAppleDeobfuscation="EnableAppleDeobfuscation",e.EnablePresenceHeartbeat="EnablePresenceHeartbeat",e.EnableGameInvites="EnableGameInvites",e.UseLocalOriginInviteLinks="UseLocalOriginInviteLinks",e.EnableBrowserWarnings="EnableBrowserWarnings",e.GSSVAuthRoutingService="GSSVAuthRoutingService",e.EnableChatImageUpload="EnableChatImageUpload",e.EnableChatGifUpload="EnableChatGifUpload",e.EnableNonstandardGamepad="EnableNonstandardGamepad",e.EnableHomeContextMenu="EnableHomeContextMenu",e.EnableUsePrivacyRTAEvents="EnableUsePrivacyRTAEvents",e.CarouselAutoRotateMs="CarouselAutoRotateMs",e.CheckTitleGamepadSupport="CheckTitleGamepadSupport",e.EnablePDPGallery="EnablePDPGallery",e.HideTrailers="HideTrailers",e.EnableInGameVolumeControl="EnableInGameVolumeControl",e.EnableAudioDeviceSelection="EnableAudioDeviceSelection",e.ShowHomeStarfieldSpotlight="ShowHomeStarfieldSpotlight",e.EnableTrellis="EnableTrellis",e.EnableUsbGuidance="EnableUsbGuidance",e.ShowForzaSpotlight="ShowForzaSpotlight",e.ForceShowPrivacyDialog="ForceShowPrivacyDialog",e.EnableStateShareRedeem="EnableStateShareRedeem",e.EnableStateShareTcui="EnableStateShareTcui",e.DefaultPlayFabTitleId="DefaultPlayFabTitleId",e.EnableAccs="EnableAccs",e.EnableLibrary="EnableLibrary",e.EnableXdsPlayground="EnableXdsPlayground",e.EnableOfferingInput="EnableOfferingInput",e.EnableLanguageSelector="EnableLanguageSelector",e.EnableOpenGameInviteRedeem="EnableOpenGameInviteRedeem",e.TransformFireOSGamepads="TransformFireOSGamepads",e.EnableWebViewCheck="EnableWebViewCheck",e.EnableFireOSVersionCheck="EnableFireOSVersionCheck",e.EnableCAccs="EnableCAccs"}(s||(s={}));const l=a()(a()(a()(a()({},c.y),s),i.vCX),r)},97799:(e,t,n)=>{"use strict";n.d(t,{n:()=>c});var r=n(52322),o=n(45595),a=n(53249),i=(n(6886),n(2784));const s=e=>{let{delay:t,children:n}=e;const[o,a]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{const e=setTimeout((()=>a(!0)),t);return()=>{clearTimeout(e)}})),o?(0,r.jsx)(r.Fragment,{children:n}):null},c=e=>(0,o.ZP)(e,{fallback:(0,r.jsx)(s,{delay:50,children:(0,r.jsx)(a.h2,{})})})},8318:(e,t,n)=>{"use strict";n.d(t,{$t:()=>h,Ai:()=>f,BL:()=>p,C$:()=>T,Eh:()=>d,Qg:()=>E,TC:()=>y,Wj:()=>b,c5:()=>s,fq:()=>m,g3:()=>c,g8:()=>g,gK:()=>C,gt:()=>u,l2:()=>l,lA:()=>I,ny:()=>o,qy:()=>v,sG:()=>_,vB:()=>S,wt:()=>a,y5:()=>w,y_:()=>i});var r=n(70800);const o="/play",a="/games/store",i="xcloud",s="gamepass-root",c="gamepass-modal-root",l="gamepass-dialog-root",u=10,d=30,h=30,m=r.C.CloudAll,p="xgpuweb",g="xgpuwebf2p",f="takehomeweb",v="/gsapi/proxy/v1",_="/gsapi/insiders/v1",y="hasSeenOnboarding",b="users/me/layouts/xCloudWebHome",E="1626579248",C=["Microsoft","Microsoft Studios","Xbox Game Studios","Xbox Games Studios, Rare Ltd","Rare Ltd","Bethesda Softworks"],S={CorrelationVector:-200,UnauthServiceToService:-101,Proxy:-100,Telemetry:-1},T="RETAIL",I=/^\w{2}-(\w{4}-)?\w{2}$/,w=/^\/\w{2}-(\w{4}-)?\w{2}\//},3522:(e,t,n)=>{"use strict";var r;n.d(t,{Cl:()=>a,R4:()=>r,q3:()=>o}),function(e){let t,n,r,o,a;e.refreshStaleThreshold="refreshStaleThreshold",e.gameInviteId="giid",e.redirectUrl="redirectUrl",e.setFeatureGate="setGateValue",function(e){let t,n,r;e.isDeveloperMode="isDeveloperMode",function(e){e.region="user.region"}(t=e.User||(e.User={})),function(e){e.id="offering.id"}(n=e.Offering||(e.Offering={})),function(e){e.id="sandboxId"}(r=e.Sandbox||(e.Sandbox={}))}(t=e.Auth||(e.Auth={})),function(e){e.takSideloadEnabled="devTools.takSideloadEnabled",e.takServerAddress="devTools.takServerAddress",e.ipConnectIpAddress="devTools.ipConnectIpAddress",e.takServerPassword="devTools.takServerPassword",e.takAutoRefresh="devTools.takAutoRefresh",e.takAllowMouseInteraction="devTools.takAllowMouseInteraction",e.enableNativeTouch="devTools.enableNativeTouch",e.enableMouseAndKeyboard="devTools.enableMouseAndKeyboard",e.enableSensors="devTools.enableSensors",e.pwaPrompt="devTools.pwaPrompt"}(n=e.DevTools||(e.DevTools={})),function(e){e.httpEnvironment="streamClient.httpEnvironment",e.streamType="streamClient.streamType",e.requestUserGesture="streamClient.requestUserGesture"}(r=e.StreamClient||(e.StreamClient={})),function(e){e.ignoreServiceConfiguration="session.configuration.options.ignoreServiceConfiguration",e.systemUpdateGroup="session.configuration.options.systemUpdateGroup",e.releaseChannel="session.configuration.options.releaseChannel",e.showStreamStatisticsOverlay="session.configuration.video.showStreamStatisticsOverlay",e.useSoftwareRendering="session.configuration.video.useSoftwareRendering",e.videoDecoderType="session.configuration.video.videoDecoderType",e.enableHevc="session.configuration.video.enableHevc",e.useHardwareAudioDecoding="session.configuration.audio.useHardwareAudioDecoding",e.ipAddress="ipAddress",e.secureWebsocketsMode="wssMode",e.videoLatencyPreset="session.configuration.video.videoLatencyPreset",e.devkitHost="devkit.host",e.devkitRedeemCode="devkit.redeemCode",e.devkitDisableAutoJoin="devkit.disableAutoJoin"}(o=e.Session||(e.Session={})),function(e){e.version="pwaVersion",e.pageName="page.name",e.featureGates="featureGates",e.muid="muid",e.includeLocales="includeLocales"}(a=e.WebManifest||(e.WebManifest={}))}(r||(r={}));const o=[r.DevTools.takSideloadEnabled,r.DevTools.takServerAddress,r.DevTools.takAutoRefresh,r.DevTools.takAllowMouseInteraction,r.DevTools.enableMouseAndKeyboard,r.DevTools.enableNativeTouch],a=[r.Auth.isDeveloperMode,r.Auth.Sandbox.id,r.Auth.User.region,r.DevTools.takSideloadEnabled,r.DevTools.takServerAddress,r.DevTools.ipConnectIpAddress,r.DevTools.takServerPassword,r.DevTools.takAutoRefresh,r.DevTools.takAllowMouseInteraction,r.DevTools.enableNativeTouch,r.DevTools.enableMouseAndKeyboard,r.DevTools.enableSensors,r.DevTools.pwaPrompt,r.Session.showStreamStatisticsOverlay,r.Session.systemUpdateGroup,r.Session.ignoreServiceConfiguration,r.Session.releaseChannel,r.Session.useSoftwareRendering,r.Session.videoDecoderType,r.Session.videoLatencyPreset,r.Session.enableHevc,r.Session.useHardwareAudioDecoding,r.Session.devkitRedeemCode,r.Session.devkitDisableAutoJoin,r.StreamClient.httpEnvironment,r.StreamClient.streamType,r.StreamClient.requestUserGesture]},97164:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var r,o=n(57380);!function(e){e.name="Trellis",e.path=`${o.z.path}/trellis`,e.getLink=function(){return e.path}}(r||(r={}))},77161:(e,t,n)=>{"use strict";n.d(t,{SK:()=>a,cA:()=>r,fD:()=>o});var r,o,a,i=n(57380);!function(e){e.name="NativeHost",e.path=`${i.z.path}/native-host`,e.getLink=function(){return e.path}}(r||(r={})),function(e){e.name="Guide",e.path=`${r.path}/guide`,e.getLink=function(){return e.path}}(o||(o={})),function(e){e.name="Content Access",e.path=`${r.path}/content-access`,e.getLink=function(){return e.path}}(a||(a={}))},57380:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var r,o=n(8318);!function(e){e.name="Experiments Root",e.path=`${o.ny}/experiments`,e.getLink=function(){return e.path}}(r||(r={}))},34077:(e,t,n)=>{"use strict";n.d(t,{J:()=>s,Z:()=>c});n(6886);var r=n(2784),o=n(20889);const a="(forced-colors: active) and (prefers-color-scheme: dark)",i="(forced-colors: active) and (prefers-color-scheme: light)",s=()=>"undefined"===typeof window.matchMedia?o.k.Off:window.matchMedia(a).matches?o.k.Black:window.matchMedia(i).matches?o.k.White:o.k.Off,c=()=>{const[e,t]=(0,r.useState)(s()),n=(0,r.useCallback)((()=>{t(s())}),[]);return(0,r.useEffect)((()=>{const e=window.matchMedia(a),t=window.matchMedia(i);if(e.addEventListener)return e.addEventListener("change",n),t.addEventListener("change",n),()=>{e.removeEventListener&&(e.removeEventListener("change",n),t.removeEventListener("change",n))}}),[n]),e}},64365:(e,t,n)=>{"use strict";n.d(t,{o:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(97799);const c=(0,s.n)({resolved:{},chunkName:()=>"contextual-store-page",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(69623),n.e(38001),n.e(58850),n.e(75392),n.e(51769)]).then(n.bind(n,35162)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 35162}})},33294:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z});n(73439),n(64925),n(54819),n(6886);var r=n(814),o=n.n(r),a=n(24923),i=n.n(a),s=n(20608);const c=["lazyConfig"],l=["fetchDataSaga","bootstrapClientEnvironmentSaga"];async function u(){const{sharedBootstrapClientEnvironmentSaga:e}=await Promise.all([n.e(81772),n.e(11614),n.e(2810),n.e(62687),n.e(49243),n.e(74461),n.e(34321),n.e(69623),n.e(38001),n.e(20974),n.e(28444),n.e(58850),n.e(56622),n.e(75392),n.e(79313),n.e(8348),n.e(13346),n.e(91479),n.e(29899),n.e(69899),n.e(89225),n.e(9659),n.e(92160)]).then(n.bind(n,23811));return e}async function d(){const{decorateFetchDataSaga:e}=await Promise.all([n.e(81772),n.e(11614),n.e(2810),n.e(62687),n.e(49243),n.e(74461),n.e(34321),n.e(69623),n.e(38001),n.e(20974),n.e(28444),n.e(58850),n.e(56622),n.e(75392),n.e(79313),n.e(8348),n.e(13346),n.e(91479),n.e(29899),n.e(69899),n.e(89225),n.e(9659),n.e(92160)]).then(n.bind(n,49318));return e}const h=e=>async()=>{const t=e?await e():{fetchDataSaga:void 0,bootstrapClientEnvironmentSaga:void 0},{fetchDataSaga:n,bootstrapClientEnvironmentSaga:r}=t,a=i()(t,l),[c,h]=await Promise.all([d(),u()]),m=c(n);return o()({fetchDataSaga:m,bootstrapClientEnvironmentSaga:function*(){yield(0,s.call)(h),r&&(yield(0,s.call)(r))}},a)};var m=n(8318),p=n(16216),g=n(27256),f=n(5653),v=n(4609),_=n(72054),y=n(61872),b=n(79790);const E=(0,g.tP)((()=>Promise.all([n.e(69623),n.e(58850),n.e(87834)]).then(n.bind(n,79460))),(e=>e.lazyRouteConfigs));var C=n(97164);const S=e=>!0===e;function T(e){return[o()(o()({},e),{},{path:C.J.path,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:{authStrategy:_.b.SignedInToXbox},constraint:{featureGates:{[y.y.EnableTrellis]:S}}})]}var I=n(77161);const w=e=>!0===e;function A(e){return[o()(o()({},e),{},{path:I.fD.path,uhfConfig:{headerMode:p.Grh.Off,footerMode:p.ZOQ.Off},xCloud:o()(o()({},e.xCloud),{},{authStrategy:_.b.Public,isGuideDisabled:!0}),constraint:{featureGates:{[y.y.EnableExternalGuide]:w}}}),o()(o()({},e),{},{path:I.SK.path,uhfConfig:{headerMode:p.Grh.Off,footerMode:p.ZOQ.Off},xCloud:o()(o()({},e.xCloud),{},{authStrategy:_.b.Public}),constraint:{featureGates:{[y.y.EnableNHP]:w}}})]}var k=n(92952);var P=n(34077),x=n(64365),R=n(36601),N=n(68998),O=n(83043),L=n(20889);const M=(0,g.tP)((()=>Promise.all([n.e(81772),n.e(11614),n.e(2810),n.e(62687),n.e(49243),n.e(74461),n.e(34321),n.e(69623),n.e(38001),n.e(20974),n.e(28444),n.e(58850),n.e(56622),n.e(75392),n.e(79313),n.e(8348),n.e(13346),n.e(91479),n.e(29899),n.e(69899),n.e(89225),n.e(9659),n.e(92160)]).then(n.bind(n,79839))),(e=>e.lazyRouteConfigs)),D=e=>!0===e,U="GamePassApp",B={component:R.f,key:U,theme:()=>(0,P.J)()===L.k.White?p.Q2A.Light:p.Q2A.Dark,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.Full},exact:!0,xCloud:{authStrategy:_.b.XCloud,isGuideDisabled:!1,allowUnsupportedMarketRendering:!1}},F=o()(o()({},B),{},{lazyConfig:M("productRoute")}),H=[{key:f.WebManifest.name,path:f.WebManifest.path,component:O.O,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None}},o()(o()({},B),{},{path:f.Play.path,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},lazyConfig:M("play")}),o()(o()({},B),{},{path:f.ShareStatePrototypeTestHarness.path,lazyConfig:M("shareStatePrototypeTestHarness")}),o()(o()({},B),{},{path:f.ShareGameInvite.path,lazyConfig:M("shareGameInvite"),constraint:[{featureGates:{[y.y.EnableOpenEndedGameInvites]:D}},{featureGates:{[y.y.EnableOpenGameInviteRedeem]:D}}],xCloud:o()(o()({},B.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},B),{},{path:f.ShareFriend.path,lazyConfig:M("shareFriend"),xCloud:o()(o()({},B.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},B),{},{path:f.StateShare.path,lazyConfig:M("stateShareRedeem"),constraint:{featureGates:{[y.y.EnableStateShareRedeem]:D}},xCloud:o()(o()({},B.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},B),{},{path:f.XdsPlayground.path,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},constraint:{featureGates:{[y.y.EnableXdsPlayground]:D}},xCloud:o()(o()({},B.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},B),{},{path:f.UnfriendlyPlay.path,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},lazyConfig:M("unfriendlyPlay")}),o()(o()({},B),{},{path:f.ProductRoot.path,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:o()(o()({},B.xCloud),{},{allowUnsupportedMarketRendering:!0})}),o()(o()({},F),{},{path:f.Product.path,xCloud:o()(o()({},B.xCloud),{},{allowUnsupportedMarketRendering:!0})}),o()(o()({},F),{},{path:f.UnfriendlyProduct.path,xCloud:o()(o()({},B.xCloud),{},{allowUnsupportedMarketRendering:!0})}),o()(o()({},F),{},{path:f.PlayNow.path,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:{authStrategy:_.b.Public}}),o()(o()({},B),{},{path:f.Gallery.path,lazyConfig:M("gallery")}),o()(o()({},B),{},{path:f.Home.path,lazyConfig:M("home")}),o()(o()({},B),{},{path:f.LoginDeviceCode.path,exact:!1,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:o()(o()({},B.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},B),{},{path:f.Onboarding.path,exact:!0,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:o()(o()({},B.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},B),{},{path:f.FireOSUpdateRequired.path,exact:!0,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:o()(o()({},B.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},B),{},{path:f.Media.path,lazyConfig:M("media"),xCloud:o()(o()({},B.xCloud),{},{authStrategy:_.b.Public,isGuideDisabled:!0})}),o()(o()({},B),{},{path:f.Search.path,xCloud:o()(o()({},B.xCloud),{},{allowUnsupportedMarketRendering:!0})}),o()(o()({},B),{},{component:N.G,path:f.InitializeSinglePageApplication.path,lazyConfig:M("initializeSinglePageApplication")}),o()(o()({},B),{},{path:f.Pairing.path,exact:!0,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:o()(o()({},B.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},B),{},{path:f.Requirements.path,exact:!0,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:o()(o()({},B.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},B),{},{path:f.UserProfile.path,lazyConfig:M("userProfile"),xCloud:o()(o()({},B.xCloud),{},{allowUnsupportedMarketRendering:!0})}),o()(o()({},B),{},{path:f.AllFriends.path,lazyConfig:M("allFriends"),xCloud:o()(o()({},B.xCloud),{},{allowUnsupportedMarketRendering:!0})}),o()(o()({},B),{},{path:f.Welcome.path,exact:!0,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:o()(o()({},B.xCloud),{},{authStrategy:_.b.Public})}),o()(o()({},B),{},{path:f.ContextualStoreWrapper.path,component:x.o,exact:!1,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:o()(o()({},B.xCloud),{},{isGuideDisabled:!0})}),o()(o()({},B),{},{path:f.SimpleFeedbackWrapper.path,uhfConfig:{headerMode:p.Grh.Off,footerMode:p.ZOQ.Off},xCloud:o()(o()({},B.xCloud),{},{authStrategy:_.b.Public,isGuideDisabled:!0})}),o()(o()({},B),{},{path:f.Library.path,constraint:{featureGates:{[y.y.EnableLibrary]:D}}}),o()(o()({},B),{},{path:f.ExternalLibrary.path,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},constraint:{featureGates:{[y.y.EnableLibrary]:D}}}),...function(e){return[o()(o()({},e),{},{path:b.J.path,xCloud:{authStrategy:_.b.DeveloperPublic}}),o()(o()({},e),{},{path:b.U6.path,xCloud:{authStrategy:_.b.DeveloperPublic}}),o()(o()({},e),{},{path:b.$7.path,lazyConfig:E("devToolsXHomeConsoleSelection"),xCloud:{authStrategy:_.b.XHomeDevKit}}),o()(o()({},e),{},{path:b.G5.path,lazyConfig:E("devToolsXHomeConnect"),xCloud:{authStrategy:_.b.XHomeDevKit},uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None}}),o()(o()({},e),{},{path:b.dl.path,xCloud:{authStrategy:_.b.IpConnect}}),o()(o()({},e),{},{path:b.Qi.path,xCloud:{authStrategy:_.b.IpConnect},uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None}}),o()(o()({},e),{},{path:b.SV.path,xCloud:{authStrategy:_.b.DeveloperPublic}}),o()(o()({},e),{},{path:b.F7.path,xCloud:{authStrategy:_.b.ManagedDevkit},uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None}}),o()(o()({},e),{},{path:b.oT.path,xCloud:{authStrategy:_.b.PrivateOffering}}),o()(o()({},e),{},{path:b.$L.path,xCloud:{authStrategy:_.b.DeveloperPublic}})]}(B),...function(e){return[o()(o()({},e),{},{path:k.I.path,constraint:{featureGates:{[y.y.EnableXboxTogether]:e=>!0===e}},uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:{authStrategy:_.b.XCloud}}),o()(o()({},e),{},{path:k.I.pathWithNoId,constraint:{featureGates:{[y.y.EnableXboxTogether]:e=>!0===e}},uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None},xCloud:{authStrategy:_.b.XCloud}})]}(B),...function(e){return[...T(e),...A(e)]}(B),{key:U,path:f.Wildcard.path,redirectComponent:v.P,exact:!1,uhfConfig:{headerMode:p.Grh.None,footerMode:p.ZOQ.None}}];var q=n(12696);const G=H.map((e=>(0,q.J)(e)?function(e){let{lazyConfig:t}=e,n=i()(e,c);return o()(o()({},n),{},{lazyConfig:h(t)})}(e):e)),z={partnerId:m.y_,routes:G,lazyConfig:()=>Promise.all([n.e(81772),n.e(11614),n.e(2810),n.e(62687),n.e(49243),n.e(74461),n.e(34321),n.e(69623),n.e(38001),n.e(20974),n.e(28444),n.e(58850),n.e(56622),n.e(75392),n.e(79313),n.e(8348),n.e(13346),n.e(91479),n.e(29899),n.e(69899),n.e(89225),n.e(9659),n.e(92160)]).then(n.bind(n,69034)),expressInjection:e=>e,handlesAllLocales:!0}},5653:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AllFriends:()=>S,ContentAccess:()=>Z.SK,ContextualStoreWrapper:()=>D,DevToolsConfigureIpConnect:()=>Y.dl,DevToolsIpConnect:()=>Y.Qi,DevToolsManagedDevkitConnect:()=>Y.F7,DevToolsManagedDevkitRedeem:()=>Y.SV,DevToolsOfferingSelection:()=>Y.oT,DevToolsOverrideDevSettings:()=>Y.$L,DevToolsRoot:()=>Y.J,DevToolsSignIn:()=>Y.U6,DevToolsXHomeConnect:()=>Y.G5,DevToolsXHomeConsoleSelection:()=>Y.$7,ExperimentsRoot:()=>j.z,ExternalLibrary:()=>H,ExternalRoot:()=>a,FireOSUpdateRequired:()=>B,Gallery:()=>p,Guide:()=>Z.fD,Home:()=>o,InitializeSinglePageApplication:()=>y,Library:()=>F,LoginDeviceCode:()=>_,Media:()=>g,NativeHost:()=>Z.cA,Onboarding:()=>T,Pairing:()=>b,Play:()=>h,PlayNow:()=>l,PlayRoot:()=>d,Product:()=>s,ProductRoot:()=>i,Requirements:()=>w,Search:()=>f,ShareFriend:()=>R,ShareFriendRoot:()=>x,ShareGameInvite:()=>P,ShareGameInviteRoot:()=>k,ShareRoot:()=>A,ShareStatePrototypeRoot:()=>L,ShareStatePrototypeTestHarness:()=>M,SimpleFeedbackWrapper:()=>U,StateShare:()=>O,StateShareRoot:()=>N,Store:()=>u,Trellis:()=>K.J,UnfriendlyPlay:()=>m,UnfriendlyProduct:()=>c,UserProfile:()=>C,WebManifest:()=>v,Welcome:()=>I,Wildcard:()=>E,XboxComRoot:()=>r,XdsPlayground:()=>q});n(634),n(17368),n(24471),n(77950),n(88233),n(85940),n(34715),n(26464),n(19570),n(6886),n(60523);var r,o,a,i,s,c,l,u,d,h,m,p,g,f,v,_,y,b,E,C,S,T,I,w,A,k,P,x,R,N,O,L,M,D,U,B,F,H,q,G=n(27372),z=n(16216),$=n(21280),X=n(8318),V=n(3522),W=n(12175),j=n(57380),K=n(97164),Z=n(77161),Y=n(79790);!function(e){e.path="/",e.name="XboxComRoot",e.getLink=function(){return e.path}}(r||(r={})),function(e){e.path=X.ny,e.name="Home",e.getLink=function(){return e.path}}(o||(o={})),function(e){e.name="External Root",e.path=`${X.ny}/external`,e.getLink=function(){return e.path}}(a||(a={})),function(e){e.name="Product Root",e.path=`${X.ny}/games`,e.getLink=function(){return e.path}}(i||(i={})),function(e){let t;e.name="Product",function(e){e.productId=":productId",e.productName=":productName"}(t=e.PathParams||(e.PathParams={})),e.path=`${i.path}/${t.productName}/${t.productId}`,e.getLink=function(n,r){if(r){const o=(0,$.v)(r);if(o.length>0)return e.path.replace(t.productName,encodeURIComponent(o)).replace(t.productId,encodeURIComponent(n))}return c.path.replace(t.productId,encodeURIComponent(n))}}(s||(s={})),function(e){e.path=`${i.path}/${s.PathParams.productId}`,e.name="Unfriendly Product",e.getLink=function(e){return s.getLink(e)},e.getDetailsPageDeeplink=function(e){if(e){const t=new RegExp(`^/*${i.path.substring(1)}/.*/?([A-Za-z0-9]{12})/?\\??(.*)$`).exec(decodeURIComponent(e));if(t&&t.length>1){const e=t[1];let n,r=s.getLink(e);if(t.length>2){const e=t[2];e&&(r=`${r}/?${e}`,n=new URLSearchParams(e).get("campaignId")||void 0)}return{path:r,productId:e,campaignId:n}}}}}(c||(c={})),function(e){e.path=`${a.path}/playnow/${s.PathParams.productId}`,e.name="PlayNow",e.getLink=function(t){return e.path.replace(s.PathParams.productId,encodeURIComponent(t))}}(l||(l={})),function(e){e.path=`${X.wt}/${s.PathParams.productName}/${s.PathParams.productId}`,e.name="Store",e.getLink=function(t,n){return e.path.replace(s.PathParams.productId,encodeURIComponent(t)).replace(s.PathParams.productName,(0,$.v)(null!==n&&void 0!==n?n:""))}}(u||(u={})),function(e){e.name="Play Root",e.path=`${X.ny}/launch`,e.getLink=function(){return e.path}}(d||(d={})),function(e){e.path=`${d.path}/${s.PathParams.productName}/${s.PathParams.productId}`,e.name="Play",e.getLink=function(t,n){if(n){const r=(0,$.v)(n);if(r.length>0)return e.path.replace(s.PathParams.productName,encodeURIComponent(r)).replace(s.PathParams.productId,encodeURIComponent(t))}return m.path.replace(s.PathParams.productId,encodeURIComponent(t))}}(h||(h={})),function(e){e.path=`${d.path}/${s.PathParams.productId}`,e.name="Unfriendly Play",e.getLink=function(e){return h.getLink(e)}}(m||(m={})),function(e){let t;e.name="Gallery",function(e){e.siglIdOrAlias=":siglIdOrAlias"}(t=e.PathParams||(e.PathParams={})),e.path=`${X.ny}/gallery/${t.siglIdOrAlias}`,e.getLink=function(n){var r;return e.path.replace(t.siglIdOrAlias,encodeURIComponent(null!==(r=W.ld[n])&&void 0!==r?r:n))}}(p||(p={})),function(e){e.rootPath=`${X.ny}/media`;let t;e.name="Media",function(e){e.locator=":locator"}(t=e.PathParams||(e.PathParams={})),e.path=`${e.rootPath}/${t.locator}`,e.getLink=function(n){return e.path.replace(t.locator,encodeURIComponent(n))}}(g||(g={})),function(e){e.key="q",e.pivotKey="p",e.name="Search",e.path=`${X.ny}/search`}(f||(f={})),function(e){let t;e.name="WebManifest",e.path=`${X.ny}/manifest.webmanifest`,function(e){e.offeringId=V.R4.Auth.Offering.id,e.pageName=V.R4.WebManifest.pageName,e.sandboxId=V.R4.Auth.Sandbox.id,e.featureGates=V.R4.WebManifest.featureGates,e.includeLocales=V.R4.WebManifest.includeLocales}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n,r,o,a,i){const s=new URLSearchParams;n&&s.set(t.offeringId,n),r&&s.set(t.sandboxId,r),o&&s.set(t.pageName,o),a&&a.forEach((e=>{s.append(t.featureGates,e)})),i&&s.set(t.includeLocales,"true");const c=s.toString();return c?`${e.path}?${c}`:e.path}}(v||(v={})),function(e){let t;e.name="LoginDeviceCode",e.path=`${X.ny}/login/deviceCode`,function(e){e.redirectUrl=V.R4.redirectUrl}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n){if(n){const r=new URLSearchParams;return r.set(t.redirectUrl,n),`${e.path}/?${r.toString()}`}return e.path}}(_||(_={})),function(e){let t;e.name="Initialize Single Page Application",e.path=`${X.ny}/spa`,function(e){e.redirectUrl=V.R4.redirectUrl}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n){if(!n)return e.path;const r=new URLSearchParams;return r.set(t.redirectUrl,n),`${e.path}/?${r.toString()}`}}(y||(y={})),function(e){e.name="Pairing",e.path=`${X.ny}/pairing`,e.getLink=function(){return e.path}}(b||(b={})),function(e){e.name="Wildcard Fall Through",e.path=`${X.ny}/*`}(E||(E={})),function(e){let t;e.name="Profile",function(e){e.gamertag=":gamertag?"}(t=e.PathParams||(e.PathParams={})),e.path=`${X.ny}/user/${t.gamertag}`,e.getLink=function(n){return e.path.replace(t.gamertag,encodeURIComponent(n))}}(C||(C={})),function(e){let t;e.name="All Friends",function(e){e.gamertag=":gamertag"}(t=e.PathParams||(e.PathParams={})),e.path=`${X.ny}/user/${t.gamertag}/friends`,e.getLink=function(n){return e.path.replace(t.gamertag,encodeURIComponent(n))}}(S||(S={})),function(e){let t;e.name="Onboarding",e.path=`${X.ny}/onboarding`,function(e){e.redirectUrl=V.R4.redirectUrl}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n){if(n){const r=new URLSearchParams;return r.set(t.redirectUrl,n),`${e.path}/?${r.toString()}`}return e.path}}(T||(T={})),function(e){let t;e.name="Welcome",e.path=`${X.ny}/welcome`,function(e){e.redirectUrl=V.R4.redirectUrl}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n){if(n){const r=new URLSearchParams;return r.set(t.redirectUrl,n),`${e.path}/?${r.toString()}`}return e.path}}(I||(I={})),function(e){let t;e.name="Requirements",e.path=`${X.ny}/requirements`,function(e){e.redirectUrl=V.R4.redirectUrl}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n){if(n){const r=new URLSearchParams;return r.set(t.redirectUrl,n),`${e.path}/?${r.toString()}`}return e.path}}(w||(w={})),function(e){let t;e.name="Share Root",e.path=`${X.ny}/share`,function(e){e[e.OpenEndedInvite=0]="OpenEndedInvite",e[e.StateShare=1]="StateShare"}(t=e.ExperienceType||(e.ExperienceType={})),e.getLink=function(){return e.path}}(A||(A={})),function(e){e.name="Share Game Invite Root",e.path=`${A.path}/gameInvite`,e.getLink=function(){return e.path}}(k||(k={})),function(e){let t;e.name="Share Game Invite",function(e){e.linkToken=":linkToken"}(t=e.PathParams||(e.PathParams={})),e.path=`${k.path}/${t.linkToken}`,e.getLink=function(n){return e.path.replace(t.linkToken,encodeURIComponent(n))}}(P||(P={})),function(e){e.name="Share Friend Root",e.path=`${A.path}/friend`,e.getLink=function(){return e.path}}(x||(x={})),function(e){let t;e.name="Share Friend",function(e){e.friendLinkId=":friendLinkId"}(t=e.PathParams||(e.PathParams={})),e.path=`${x.path}/${t.friendLinkId}`,e.getLink=function(n){return e.path.replace(t.friendLinkId,encodeURIComponent(n))}}(R||(R={})),function(e){e.name="State Share Root",e.path=`${X.ny}/stateShare`,e.getLink=function(){return e.path}}(N||(N={})),function(e){let t;e.name="State Share",function(e){e.linkToken=":linkToken"}(t=e.PathParams||(e.PathParams={})),e.path=`${N.path}/${t.linkToken}`,e.getLink=function(n){return e.path.replace(t.linkToken,encodeURIComponent(n))}}(O||(O={})),function(e){e.name="Share State Prototype",e.path=`${A.path}/state`,e.getLink=function(){return e.path}}(L||(L={})),function(e){let t;e.name="Share State Prototype Test Harness",e.path=`${L.path}/test`,function(e){e.productId="productId",e.title="title",e.description="description",e.creator="creator",e.image="image",e.payload="payload"}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n){let{productId:r,title:o,description:a,creator:i,image:s,payload:c}=n;return`${e.path}?${new URLSearchParams({[t.productId]:r,[t.title]:o,[t.description]:a,[t.creator]:i,[t.image]:s,[t.payload]:c}).toString()}`}}(M||(M={})),function(e){let t,n;e.name="External Contextual Store",function(e){e.productId=":productId",e.skuId=":skuId?",e.availabilityId=":availabilityId?"}(t=e.PathParams||(e.PathParams={})),e.path=`${a.path}/store/${t.productId}/${t.skuId}/${t.availabilityId}`,e.productPath=`${a.path}/store/${t.productId}`,function(e){e.itemType="it",e.scenario="xs",e.callerApplicationId="partnerid",e.campaignId="campaignId",e.version="v",e.theme="t",e.clientType="clientType",e.experience="exp"}(n=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(r){let o,{productId:a,skuId:i,availabilityId:s,itemType:c,scenario:l,tracking:u,clientType:d,experience:h}=r;o=i&&s?`${e.path}`.replace(t.productId,encodeURIComponent(a)).replace(t.skuId,encodeURIComponent(i)).replace(t.availabilityId,encodeURIComponent(s)):`${e.productPath}`.replace(t.productId,encodeURIComponent(a));const m=new URLSearchParams;return m.set(n.version,G.zBs.v2),m.set(n.theme,z.Q2A.Dark),c&&m.set(n.itemType,c),l&&m.set(n.scenario,l),(null===u||void 0===u?void 0:u.callerApplicationId)&&m.set(n.callerApplicationId,u.callerApplicationId),(null===u||void 0===u?void 0:u.campaignId)&&m.set(n.campaignId,u.campaignId),d&&m.set(n.clientType,d),h&&m.set(n.experience,h),`${o}?${m.toString()}`}}(D||(D={})),function(e){e.name="Simple Feedback",e.path=`${a.path}/simple-feedback`,e.getLink=function(){return e.path}}(U||(U={})),function(e){e.name="Required Browser Update",e.path=`${X.ny}/fireos-browser-update`,e.getLink=function(){return e.path}}(B||(B={})),function(e){e.name="Library",e.path=`${X.ny}/library`,e.getLink=function(){return e.path}}(F||(F={})),function(e){e.name="ExternalLibrary",e.path=`${a.path}/library`,e.getLink=function(){return e.path}}(H||(H={})),function(e){e.name="XDS v2 Playground",e.path=`${X.ny}/xdsPlayground`,e.getLink=function(){return e.path}}(q||(q={}))},21280:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});n(77950),n(85940);function r(e){return e.replace(/[;,/?:@&=+_`~$%#^*()!^\u2122\xae\xa9]/g,"").replace(/ {2,}/g," ").trim().substr(0,50).replace(/ /g,"-").toLowerCase()}},12696:(e,t,n)=>{"use strict";function r(e){return!!e.xCloud}n.d(t,{J:()=>r})},70800:(e,t,n)=>{"use strict";var r;n.d(t,{C:()=>r}),function(e){e.ConsoleAll="f6f1f99f-9b49-4ccd-b3bf-4d9767a77f5e",e.CloudBYOGAll="f7d90bbd-2e49-4bcc-a486-0e58cc8a9899",e.ConsoleRecentlyAdded="f13cf6b4-57e6-4459-89df-6aec18cf0538",e.ConsoleLeavingSoon="393f05bf-e596-4ef6-9487-6d4fa0eab987",e.ConsoleMostPopular="eab7757c-ff70-45af-bfa6-79d3cfb2bf81",e.PlayWithCAccs="9a2a1ab1-6f51-47ea-bd0c-228a97857209",e.ConsoleClassics="42d41e76-a5fd-4344-ae4e-05ce2f5925cd",e.ConsoleIndies="2e8e2cdf-f1bb-4e7e-8295-04949a26f6cc",e.ConsoleFamilyFriendly="8e7cd765-1293-44e0-95bb-8257e2bf0221",e.ConsoleSports="796c328b-4a17-4996-99f8-0edb59bef85a",e.ConsoleShooters="72c5a54f-45f9-4723-970c-1c8040cffe2e",e.ConsoleActionAdventure="fafb048d-9850-4447-ae20-f8f698bd208a",e.ConsolePlatformers="5dfd8fdd-2fd3-4e7f-b9f8-175e96b1adac",e.ConsoleFighters="8e984232-c067-4f3f-8de3-39474956898e",e.CloudRecentlyAdded="44a55037-770f-4bbf-bde5-a9fa27dba1da",e.CloudMostPopular="e7590b22-e299-44db-ae22-25c61405454c",e.CloudTrendingNow="13cd1bce-4f82-46e9-9dce-1f86fedf5931",e.CloudPlayWithTouch="9c86f07a-f3e8-45ad-82a0-a1f759597059",e.CloudAll="29a81209-df6f-41fd-a528-2ae6b91f719c",e.CloudPlaysGreatOnMobile="88c10a22-33b5-4e24-90b6-125bee02da39",e.CloudActionAdventure="ebedc400-a688-4929-b794-4435b2e1ab0a",e.CloudFamilyFriendly="f576ca76-9aad-4ac7-a0f0-71429ef36850",e.CloudFighting="c4be032d-0f42-4df5-8934-1758748cf7f0",e.CloudIndies="95f39cf3-48ec-4d3c-83e6-a7f6916fbdfe",e.CloudRpg="e68225ce-e42f-4156-998d-697bf985da73",e.CloudShooters="38441e3f-26c6-498c-8b84-0ca20a3785af",e.CloudSimulation="200674bd-7bd4-4360-bd0f-af8cd899839f",e.CloudStrategy="5d6c2384-b30e-4717-86f6-e684e819622b",e.CloudEAPlay="76539f85-43fe-435a-99c8-78c3fbcdf915",e.CloudPlayWithMouseAndKeyboard="8fa264dd-124f-4af3-97e8-596fcdf4b486",e.CloudSmartTvLandingGallery="bb92c8c7-079b-4725-9880-533437117367",e.ConsoleRacingAndFlying="6d18c7d7-7f62-4c87-b1b7-b5555c5752d0",e.PCAll="fdd9e2a7-0fee-49f6-ad69-4354098401ff",e.PCRecentlyAdded="163cdff5-442e-4957-97f5-1050a3546511",e.PCLeavingSoon="d79ea370-cab3-486c-82ce-e1834c73401d",e.PCMostPopular="a884932a-f02b-40c8-a903-a008c23b1df1",e.PCActionAdventure="0f4967a6-7226-48bd-8ab4-a6ef40b09981",e.PCClassics="10f20ee2-333a-47d2-a89e-b1d0f487c7c8",e.PCIndies="1e2ce757-e84f-4d2c-9243-34b81912644a",e.PCPlatformers="1436fa3b-f1dc-47de-b2fd-d14a5e0e6271",e.PCPuzzle="68a80ea5-85a8-4143-9ced-107cfa560800",e.PCRpg="52c9f69b-fd70-4cc9-a621-6691ca893fa0",e.PCSimulation="9e3263ab-e625-4667-9895-869936f6b0ac",e.PCShooters="674d4dbe-32eb-4a05-8e0d-ce795337f600",e.PCSports="cdd6abaa-45b3-4d17-9c8a-e9fcab9ff71b",e.PCRacingAndFlying="563a00da-0c53-4fc5-9bad-3224b9e1c6f7",e.PCStrategy="7a3b01ac-93e4-4d52-81ad-980bc4cb4ff5",e.FreeToPlay="FreeToPlay"}(r||(r={}))},12175:(e,t,n)=>{"use strict";n.d(t,{LJ:()=>i,eo:()=>o,ld:()=>a});n(74407),n(26464),n(64903),n(6886);var r=n(70800);const o={[r.C.CloudStrategy]:"Genre_Strategy",[r.C.CloudIndies]:"Genre_Indie",[r.C.CloudFamilyFriendly]:"Genre_Family_Friendly",[r.C.CloudSimulation]:"Genre_Simulation",[r.C.CloudShooters]:"Genre_Shooters",[r.C.CloudActionAdventure]:"Genre_Action_Adventure",[r.C.CloudRpg]:"Genre_RPG",[r.C.CloudFighting]:"Genre_Fighters_Brawlers",[r.C.CloudMostPopular]:"Most_Popular",[r.C.FreeToPlay]:"FreeToPlay"},a={[r.C.CloudAll]:"all-games",[r.C.CloudRecentlyAdded]:"recently-added",[r.C.ConsoleLeavingSoon]:"leaving-soon",[r.C.CloudMostPopular]:"popular",[r.C.CloudStrategy]:"strategies",[r.C.CloudIndies]:"indies",[r.C.CloudFamilyFriendly]:"family-friendly",[r.C.CloudSimulation]:"simulations",[r.C.CloudShooters]:"shooters",[r.C.CloudActionAdventure]:"action-adventure",[r.C.CloudRpg]:"rpgs",[r.C.CloudFighting]:"fighters",[r.C.FreeToPlay]:"free-to-play",[r.C.CloudPlayWithMouseAndKeyboard]:"mouse-and-keyboard"},i=Object.entries(a).reduce(((e,t)=>{let[n,r]=t;return e[r]=n,e}),{})},20889:(e,t,n)=>{"use strict";var r;n.d(t,{k:()=>r}),function(e){e[e.Off=0]="Off",e[e.White=1]="White",e[e.Black=2]="Black"}(r||(r={}))},14290:(e,t,n)=>{"use strict";n.d(t,{Hi:()=>O,pQ:()=>M,Kf:()=>D,Lm:()=>z,YV:()=>re,Z1:()=>Y,l2:()=>W,pD:()=>U,CU:()=>V,$p:()=>Q,gS:()=>ie,Vf:()=>K,rQ:()=>B,nu:()=>j,IC:()=>Z,eT:()=>se,fD:()=>Ce,yd:()=>X,Pd:()=>ae,VO:()=>He,ND:()=>ce,_T:()=>m,Cv:()=>H,zt:()=>J,tA:()=>Fe,OE:()=>Be,tZ:()=>k,sL:()=>P,HR:()=>qe,fO:()=>R,Dp:()=>N,Zr:()=>L,Fc:()=>x,OP:()=>$,lD:()=>oe,OL:()=>te,kE:()=>G,a1:()=>ne,Os:()=>q,rt:()=>ee,V$:()=>be,iT:()=>_e,Wy:()=>F,US:()=>A,GK:()=>b,UX:()=>E,wF:()=>C,Z6:()=>we,nk:()=>ke,SP:()=>S,Xx:()=>Pe,VP:()=>I,Ie:()=>T,KJ:()=>Se,Xm:()=>Te,jb:()=>Ie,bU:()=>w,PZ:()=>Me,nQ:()=>Re,lU:()=>Oe,Bp:()=>Ne,xS:()=>xe,hz:()=>le,CQ:()=>gt,vT:()=>Ae,mP:()=>he,OD:()=>de,Xz:()=>Le});var r=n(16216),o=n(61030),a=n(12524),i=n.n(a),s=n(2784),c=n(74495),l=n(89872),u="Price-module__lowestPriceText___QdS-y",d="Price-module__moreText___sNMVr",h="Price-module__ubisoftPlusHorizontalLogo___XPMTJ";const m=e=>{let{historicalLowestListPrice:t,className:n,containerClassName:a}=e;const d=(0,c.useSelector)(r.yWe),h=(0,o.iV)("lowestListPriceText"),{listPrice:m,currency:p}=t,g=(0,r.xGv)(m,p,d),f=(0,r.WUZ)(h,g);return s.createElement("div",{className:i()(l.Km,a)},s.createElement("span",{className:i()(u,n)},f))};var p=n(24923),g=n.n(p),f=n(814),v=n.n(f),_=(n(88233),n(53249));const y=(e,t)=>v()(v()({},e.images),null===t||void 0===t?void 0:t.skuImages),b=(e,t)=>y(e,t).boxArt,E=(e,t)=>{var n;return(null===(n=e.curatedEditionInformation)||void 0===n?void 0:n.upsellImages)&&e.curatedEditionInformation.upsellImages[0]?e.curatedEditionInformation.upsellImages[0]:C(e,t)},C=(e,t)=>y(e,t).superHeroArt,S=(e,t)=>y(e,t).poster,T=(e,t)=>b(e,t)||w(e,t),I=(e,t)=>y(e,t).screenshots,w=(e,t)=>y(e,t).tile;var A,k,P,x,R,N,O,L,M,D;n(6886);!function(e){e[e.Unknown=0]="Unknown",e[e.Differential=1]="Differential",e[e.UpgradedDifferentialOffer=2]="UpgradedDifferentialOffer"}(A||(A={})),function(e){e.None="None",e.Affirmation="Affirmation",e.Remediation="Remediation"}(k||(k={})),function(e){e.Unknown="Unknown",e.GamePass="GamePass",e.XboxLiveGold="XboxLiveGold",e.GamePassUltimate="GamepassUltimate",e.GamePassCore="GamePassCore",e.EAAccess="EAAccess",e.PCGamePass="PCGamePass",e.BundleRemediation="BundleRemediation",e.XPrice="XPrice",e.UbisoftPlus="UbisoftPlus"}(P||(P={})),function(e){e.Game="Game",e.Consumable="Consumable",e.Durable="Durable",e.UnmanagedConsumable="UnmanagedConsumable",e.Pass="Pass",e.Bundles="Bundles"}(x||(x={})),function(e){e.Subscription="Subscription",e.Passes="Passes",e.Games="Games",e.Device="Devices"}(R||(R={})),function(e){e.Application="dapp",e.Consumable="Consumable",e.Durable="Durable",e.Game="dgame",e.GameDemo="dgamedemo"}(N||(N={})),function(e){e.Default="Default",e.Purchase="Purchase",e.Browse="Browse",e.Details="Details",e.Gift="Gift",e.Fulfill="Fulfill",e.Redeem="Redeem",e.Unknown="Unknown"}(O||(O={})),function(e){e.Application="Application",e.AvatarItem="AvatarItem",e.Bundles="Bundles",e.Consumable="Consumable",e.CSV="CSV",e.Devices="Devices",e.Durable="Durable",e.Game="Game",e.Movie="Movie",e.OperatingSystem="OperatingSystem",e.Pass="PASS",e.Physical="Physical",e.TVEpisode="TVEpisode",e.TVSeason="TVSeason",e.TVSeries="TVSeries",e.UnmanagedConsumable="UnmanagedConsumable"}(L||(L={})),function(e){e.Hololens="HoloLens",e.Hub="Hub",e.MobileDevice="MobileDevice",e.PC="PC",e.XboxOne="XboxOne",e.XboxSeriesX="XboxSeriesX"}(M||(M={})),function(e){e.xcloud="xcloud",e.geforcenow="geforcenow"}(D||(D={}));const U="CFQ7TTC0K5DJ",B="CFQ7TTC0P85B",F="CFQ7TTC0K6L8",H="CFQ7TTC0KGQ8",q="CFQ7TTC0KHS0",G="CFQ7TTC0HXBN",z="CFQ7TTC0K5DH",$="CFQ7TTC0QH5H",X="CFQ7TTC0HX8W",V="Game Pass Core",W="Xbox Game Pass Core",j="Game Pass Standard",K="Xbox Game Pass Standard",Z="Game Pass",Y="Xbox Game Pass",Q="Console",J="PC Game Pass",ee="Game Pass Ultimate",te="Xbox Game Pass Ultimate",ne="Friends & Family",re="EA Play",oe="Ubisoft+",ae="GTA+",ie=[F,H,q,G,U,B],se=[F,U,B,H,q,z];var ce;!function(e){e.CeroZ="CeroZ",e.CloudEnabled="CloudEnabled",e.DlcRequiresGame="DlcRequiresGame",e.InAppPurchase="InAppPurchase",e.PurchaseUnavailableOnWeb="PurchaseUnavailableOnWeb",e.SubscriptionDisclaimer="SubscriptionDisclaimer",e.SubscriptionDisclaimerUKOnly="SubscriptionDisclaimerUKOnly",e.UbisoftPlusSubscriptionDisclaimer="UbisoftPlusSubscriptionDisclaimer",e.XboxLiveGoldRequired="XboxLiveGoldRequired",e.XboxLiveGoldRequiredForOnline="XboxLiveGoldRequiredForOnline"}(ce||(ce={}));const le=e=>!(!e||e.hasTrial||!e.duration||!e.initialDuration),ue=(e,t,n,o)=>e<=0?o:(0,r.xGv)(e,t,n),de=(e,t)=>{const n=(0,c.useSelector)(r.yWe),[a,i,s,l]=(0,o.QF)("discountedPriceWithAfterTextAccessibilityTemplate","freeText","freePriceWithAfterTextAccessibilityTemplate","promoDurationOfferRecurringPriceAfter"),u=(()=>{const[e,t,n,a,i,s,c,l,u,d,h]=(0,o.QF)("dailyRecurrenceDisplayStringFormat","dailyRecurrenceAccessibilityLabelFormat","genericRecurrenceStringFormat","monthlyRecurrenceDisplayStringFormat","monthlyRecurrenceAccessibilityLabelFormat","priceForTimeStringFormat","quarterlyRecurrenceDisplayStringFormat","quarterlyRecurrenceAccessibilityLabelFormat","yearlyRecurrenceDisplayStringFormat","yearlyRecurrenceAccessibilityLabelFormat","freeText"),m=(0,_.Hr)();return(o,p,g,f)=>{let v=o,_=o;if(g&&g.isRecurring){const y=p?g.initialDuration:g.duration;if(y&&y.unitType&&y.units)if(p){const e=m(y.units,y.unitType);e&&(v=(0,r.WUZ)(s,o,e),_=v)}else if("DAY"===y.unitType.toUpperCase()){if(1===y.units)_=(0,r.WUZ)(t,o),v=(0,r.WUZ)(e,o);else{const e=m(y.units,y.unitType);e&&(v=(0,r.WUZ)(n,o,e),_=v)}f&&(v=h)}else if("MONTH"===y.unitType.toUpperCase()){switch(y.units){case 1:v=(0,r.WUZ)(a,o),_=(0,r.WUZ)(i,o);break;case 3:v=(0,r.WUZ)(c,o),_=(0,r.WUZ)(l,o);break;case 12:v=(0,r.WUZ)(u,o),_=(0,r.WUZ)(d,o);break;default:{const e=m(y.units,y.unitType);e&&(v=(0,r.WUZ)(n,o,e),_=v)}}f&&(v=h)}}return{priceLabel:v,accessibilityLabel:_}}})(),d=(0,_.KG)(),h=(()=>{const[e,t,n,r,a,i,s,c]=(0,o.QF)("withEAPlayText","withGamePassText","withGamePassUltimateText","withPCGamePassText","withXboxLiveGoldText","withGamePassCoreText","withText","withUbisoftPlusText");return o=>{let l,u,d;switch(o){case P.EAAccess:l=e;break;case P.GamePass:l=t,u=_.E0.XboxGamepassInline,d=s;break;case P.GamePassUltimate:l=n,u=_.E0.GamepassUltimateInline2,d=s;break;case P.PCGamePass:l=r,u=_.E0.XboxGamepassInline,d=s;break;case P.XboxLiveGold:l=a,u=_.E0.XboxGoldInline,d=s;break;case P.GamePassCore:l=i,u=_.E0.XboxGamepassInline,d=s;break;case P.UbisoftPlus:l=c,u=_.E0.UbisoftPlus,d=s}return{afterText:l,afterTextGlyph:u,afterTextPrefix:d}}})();if(!e)return;const{msrp:m,listPrice:p,currency:g,eligibilityInfo:f}=e;let v,y,b,E,C,S=ue(m,g,n,i),T=S,I=S;return(null===t||void 0===t?void 0:t.isRecurring)&&(({priceLabel:S,accessibilityLabel:T}=u(S,!1,t)),I=T),(p!==m||(null===t||void 0===t?void 0:t.initialDuration)&&(null===t||void 0===t?void 0:t.duration)&&(t.initialDuration.units!==t.duration.units||t.initialDuration.unitType!==t.duration.unitType))&&(v=S,y=T,S=ue(p,g,n,i),T=S,(null===t||void 0===t?void 0:t.isRecurring)&&({priceLabel:S,accessibilityLabel:T}=u(S,void 0!==t.initialDuration,t,p<=0)),f&&f.eligibility!==k.None&&(f.type===P.Unknown?f.eligibility===k.Remediation&&(S=v,T=y,v=void 0,y=void 0):({afterText:b,afterTextGlyph:E,afterTextPrefix:C}=h(f.type))),y&&(I=0===p&&b?(0,r.WUZ)(s,y||"",b):(0,r.WUZ)(a,y||"",T,b||""),(null===t||void 0===t?void 0:t.initialDuration)&&(I=d(I,(0,r.WUZ)(l,y))))),{originalPrice:v,lowestPrice:S,afterText:b,afterTextGlyph:E,afterTextPrefix:C,accessibilityText:I}},he=e=>{var t,n,a,i,s,l,u,d,h,m,p,g,f,v,y;const[b,E,C,S]=(0,o.QF)("freeText","priceForTimeStringFormat","promoDurationOffer","promoDurationOfferRecurringPriceAfter"),{sku:T,availability:I}=e,w=(0,c.useSelector)(r.yWe),A=de(I.price,T.recurrencePolicySummary),k=(0,_.Hr)(),P=k(null===(n=null===(t=T.recurrencePolicySummary)||void 0===t?void 0:t.initialDuration)||void 0===n?void 0:n.units,null===(i=null===(a=T.recurrencePolicySummary)||void 0===a?void 0:a.initialDuration)||void 0===i?void 0:i.unitType),x=k(null===(s=I.promotionalDuration)||void 0===s?void 0:s.units,null===(l=I.promotionalDuration)||void 0===l?void 0:l.unitType);let R,N,O;if(P&&(null===A||void 0===A?void 0:A.lowestPrice)){const{currency:e,listPrice:t,msrp:n}=I.price,o=ue(t,e,w,b),a=null!==(u=A.originalPrice)&&void 0!==u?u:A.lowestPrice;x?(R=(0,r.WUZ)(C,P,o,x),N=R):(null===(h=null===(d=T.recurrencePolicySummary)||void 0===d?void 0:d.initialDuration)||void 0===h?void 0:h.units)===(null===(p=null===(m=T.recurrencePolicySummary)||void 0===m?void 0:m.duration)||void 0===p?void 0:p.units)&&(null===(f=null===(g=T.recurrencePolicySummary)||void 0===g?void 0:g.initialDuration)||void 0===f?void 0:f.unitType)===(null===(y=null===(v=T.recurrencePolicySummary)||void 0===v?void 0:v.duration)||void 0===y?void 0:y.unitType)&&t===n||(R=(0,r.WUZ)(E,o,P)),R&&(O=le(T.recurrencePolicySummary)&&T.recurrencePolicySummary.isRecurring&&a?(0,r.WUZ)(S,a):void 0)}return{initialOfferText:R,conciseInitialOfferText:N,recurringPriceText:O}};var me=n(82279),pe=n(22970);const ge=function(e){var{title:t,titleId:n}=e,r=(0,pe.__rest)(e,["title","titleId"]);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 3392 2048",width:"1em",height:"1em","aria-labelledby":n},r),t?s.createElement("title",{id:n},t):null,s.createElement("path",{d:"M0 640h3392v768H0V640zm568 441V787h-82v290q0 28-5 53t-17 44-33 31-53 12q-33 0-55-11t-35-32-18-46-5-56V787h-82v301q0 96 44 148t144 52q102 0 149-54t48-153zm382 199v-69H759V787h-81v493h272zm339-423v-70H924v70h142v423h81V857h142zm150 423V787h-85v493h85zm644 0V787h-111q-39 97-79 192t-74 193h-1q-3-14-8-28t-11-29l-130-328h-115v493h75q0-61 1-122t1-122q0-43-1-85t-3-86h1q3 12 5 25t8 24l148 366h56l147-368q5-11 7-23t6-24h2q-2 24-3 48t-2 48v319h81zm520 0l-183-493h-92l-185 493h89l43-125h194l44 125h90zm-156-192h-151l68-197q2-8 3-15t4-16h1q2 8 3 15t4 16l68 197zm484-231v-70h-365v70h141v423h82V857h142zm342 423v-69h-195v-146h170v-69h-170V857h184v-70h-265v493h276z"}))};var fe=n(94988);const ve=["title","titleId"],_e=e=>{let{title:t,titleId:n}=e,r=g()(e,ve);return s.createElement("svg",v()({width:"48",height:"32",viewBox:"0 0 48 32",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?s.createElement("title",{id:n},t):null,s.createElement("path",{d:"M0 0V32H35.3067L48 0H0ZM22.08 18.1333C22.08 19.52 21.76 20.8 21.2267 21.8667C20.5867 22.9333 19.7333 23.7867 18.56 24.4267C17.3867 25.0667 16 25.3867 14.4 25.3867C12.8 25.3867 11.4133 25.0667 10.24 24.4267C9.06667 23.7867 8.21333 22.9333 7.57333 21.8667C6.93333 20.8 6.72 19.52 6.72 18.1333V7.68H10.6667V17.8133C10.6667 19.0933 10.9867 20.0533 11.6267 20.8C12.2667 21.44 13.12 21.8667 14.2933 21.8667C15.4667 21.8667 16.32 21.5467 16.96 20.8C17.6 20.16 17.92 19.0933 17.92 17.8133V7.68H22.08V18.1333ZM32.2133 15.36V19.9467H29.0133V15.36H24.32V12.2667H29.12V7.68H32.32V12.2667H37.6533L36.2667 15.36H32.2133Z"}))},ye=["title","titleId"],be=e=>{let{title:t,titleId:n}=e,r=g()(e,ye);return s.createElement("svg",v()({width:"191",height:"32",viewBox:"0 0 191 32",xmlns:"http://www.w3.org/2000/svg"},r),t?s.createElement("title",{id:n},t):null,s.createElement("path",{d:"M109.801 2.09836C107.39 0.691506 104.692 0 101.684 0C99.2722 0 97.028 0.405367 94.9747 1.2161C92.9215 2.02683 91.2741 3.05216 90.0326 4.31595L91.0831 5.36513C89.4835 6.70045 88.242 8.32191 87.3347 10.2772C86.4275 12.2325 85.9739 14.4739 85.9739 17.0015C85.9739 19.696 86.6424 22.1997 87.9555 24.4888C89.2925 26.7779 91.1309 28.5663 93.5184 29.9255C95.9059 31.2608 98.6276 31.9285 101.684 31.9285C104.692 31.9285 107.39 31.237 109.801 29.8301C112.213 28.4232 114.075 26.5156 115.412 24.0835C116.749 21.6513 117.417 18.9329 117.417 15.9523C117.417 12.9717 116.749 10.2772 115.412 7.84501C114.075 5.43666 112.213 3.50522 109.801 2.09836ZM109.515 20.9598C108.774 22.4143 107.724 23.5589 106.387 24.3696C105.026 25.2042 103.474 25.6095 101.707 25.6095C99.9169 25.6095 98.3411 25.2042 96.9802 24.4173C95.6194 23.6304 94.5927 22.5574 93.8765 21.2221C93.1602 19.8867 92.8021 18.4083 92.8021 16.8346C92.8021 15.2846 93.0886 13.9732 93.6377 12.924C94.1869 11.8748 94.9509 10.9687 95.882 10.158L94.8315 9.10879C95.5955 8.27422 96.5505 7.6304 97.7204 7.12966C98.8902 6.62891 100.227 6.39046 101.707 6.39046C103.474 6.39046 105.026 6.79583 106.387 7.6304C107.748 8.46498 108.798 9.58569 109.515 11.0402C110.255 12.4948 110.613 14.1401 110.613 16C110.613 17.8361 110.255 19.5052 109.515 20.9598Z"}),s.createElement("path",{d:"M71.0998 10.8018C72.0309 11.4456 73.6544 12.1848 76.018 13.0194C78.7875 13.9971 80.8408 15.1655 82.13 16.5962C83.4193 17.9553 84.0639 19.7914 84.0639 22.0805C84.0639 24.1312 83.5864 25.9196 82.6314 27.4218C81.6764 28.924 80.3872 30.0447 78.7637 30.8316C77.1402 31.6185 75.3495 32 73.3679 32C70.67 32 68.3303 31.4039 66.3964 30.2355C64.4387 29.0671 63.0539 27.3741 62.1944 25.2042L67.5424 21.2221C68.0199 22.5813 68.8078 23.6543 69.9299 24.4889C71.052 25.3234 72.2697 25.7288 73.5589 25.7288C74.681 25.7288 75.5883 25.4427 76.3045 24.8704C76.9969 24.2981 77.355 23.5351 77.355 22.5574C77.355 21.6036 76.9492 20.7929 76.1613 20.1252C75.3734 19.4337 73.8932 18.7184 71.7444 17.9553C69.0704 16.9777 67.0172 15.8093 65.5847 14.4024C64.1522 12.9956 63.4359 11.1118 63.4359 8.72731C63.4359 7.08201 63.8657 5.60361 64.7252 4.26829C65.5847 2.95682 66.7784 1.90764 68.3064 1.16844C69.8344 0.429249 71.5773 0.0477295 73.5112 0.0477295C75.8987 0.0477295 77.9758 0.52463 79.7187 1.47843C81.4854 2.43223 82.7747 3.83908 83.6342 5.699L78.2862 9.39497C77.2357 7.01047 75.5405 5.81822 73.2485 5.81822C72.2219 5.81822 71.3863 6.05667 70.7178 6.55742C70.0493 7.05816 69.715 7.70198 69.715 8.48886C69.715 9.37113 70.1687 10.1342 71.0998 10.8018Z"}),s.createElement("path",{d:"M47.9649 12.161C47.2486 13.2817 46.2459 14.0924 44.9805 14.617C48.6572 16 50.4956 18.5514 50.4718 22.2474C50.4718 24.0119 50.042 25.5857 49.1348 26.9926C48.2275 28.3994 46.9621 29.4724 45.3148 30.2593C43.6674 31.0462 41.7574 31.4277 39.537 31.4277H28.841V0.524597H39.1311C42.1394 0.524597 44.5508 1.19226 46.3414 2.52758C48.132 3.88674 49.0393 5.69896 49.0393 7.98808C49.0393 9.65723 48.6811 11.0641 47.9649 12.161ZM39.1073 6.462H35.5738V12.9955H39.1073C40.1578 12.9955 40.9934 12.7094 41.638 12.1371C42.2826 11.5648 42.593 10.7541 42.593 9.72877C42.593 8.70343 42.2826 7.8927 41.638 7.32042C41.0173 6.74814 40.1578 6.462 39.1073 6.462ZM39.2744 25.5142C40.7308 25.5142 41.829 25.1803 42.6169 24.5127C43.3809 23.8689 43.7868 22.8912 43.7868 21.6274C43.7868 20.3636 43.4048 19.4098 42.6169 18.7422C41.829 18.0745 40.7069 17.7407 39.2744 17.7407H35.5738V25.5142H39.2744Z"}),s.createElement("path",{d:"M17.2377 23.7735C18.2882 22.5574 18.8135 20.8167 18.8135 18.5514H18.8374V0.548462H25.5463V19.076C25.5463 21.5321 25.0449 23.7497 24.066 25.7049C23.0871 27.6602 21.6308 29.1863 19.6969 30.2832C17.763 31.3801 15.4471 31.9285 12.7731 31.9285C10.0753 31.9285 7.78325 31.3801 5.84938 30.2832C3.9155 29.1863 2.45912 27.6602 1.48025 25.7049C0.501374 23.7497 0 21.5559 0 19.076V0.548462H6.685V18.5514C6.685 20.8167 7.21025 22.5574 8.26075 23.7735C9.31125 24.9896 10.8154 25.6096 12.7492 25.6096C14.707 25.6096 16.1873 24.9896 17.2377 23.7735Z"}),s.createElement("path",{d:"M59.8069 0.548462H53.098V31.4277H59.8069V0.548462Z"}),s.createElement("path",{d:"M126.872 31.4277H120.163V0.548462H141.316V6.89123H126.872V13.997H140.003V19.1237H126.872V31.4277Z"}),s.createElement("path",{d:"M143.895 6.89123H152.585V31.4277H159.294V6.89123H167.961V0.548462H143.895V6.89123Z"}),s.createElement("path",{d:"M182.381 0.0238647V7.7258H191L188.803 12.924H182.381V20.6259H177.176V12.924H169.465V7.7258H177.176V0.0238647H182.381Z"}))},Ee=["title","titleId"],Ce=e=>{let{title:t,titleId:n}=e,r=g()(e,Ee);return s.createElement("svg",v()({width:"48",height:"48",viewBox:"0 0 744 523",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"GTATitle"},r),s.createElement("path",{d:"M635.55 6C653.89 6 668.8 20.92 668.8 39.25V74.88H704.43C722.77 74.88 737.68 89.8 737.68 108.13V156.22C737.68 174.56 722.76 189.47 704.43 189.47H668.8V225.1C668.8 243.44 653.88 258.35 635.55 258.35H584.17V445.4H431.59C429.11 445.4 416.34 445.1 402.93 439.69C398.12 437.75 393.73 435.35 389.79 432.54C385.86 435.35 381.47 437.76 376.68 439.7C363.27 445.13 350.51 445.46 348.09 445.47H260.08C257.66 445.46 244.91 445.11 231.51 439.68C229.09 438.7 226.78 437.6 224.58 436.39V456.57C224.57 460.28 223.93 473.23 216.03 486.61C209.52 497.64 193.54 516.15 159.71 516.15L6.00999 516.19L6.03 217.18C6.03 201.88 13.15 186.73 25.57 175.63C37.74 164.75 53.87 158.76 70.99 158.76H194.32L194.3 147.49H324.76L324.7 173.32H388.29C405.72 160.02 427.12 159.33 431.66 159.32H485.34V108.13C485.34 89.79 500.26 74.88 518.59 74.88H554.22V39.25C554.22 20.91 569.14 6 587.47 6H635.55ZM635.55 0H587.46C565.82 0 548.21 17.61 548.21 39.25V68.88H518.58C496.94 68.88 479.33 86.49 479.33 108.13V153.32H431.65C425.46 153.34 404.38 154.43 386.31 167.32H330.71L330.75 147.5C330.75 145.91 330.12 144.38 329 143.25C327.87 142.12 326.35 141.49 324.75 141.49H194.29C192.7 141.49 191.17 142.12 190.04 143.25C188.91 144.38 188.28 145.91 188.29 147.5L188.3 152.76H70.98C52.38 152.76 34.83 159.3 21.56 171.16C7.87 183.4 0.019989 200.18 0.019989 217.18L0 516.19C0 517.78 0.629995 519.31 1.75999 520.43C2.88999 521.55 4.41 522.19 6 522.19L159.7 522.15C196.51 522.15 214.02 501.79 221.19 489.66C229.86 474.97 230.56 460.63 230.57 456.58V445.76C244.48 451.1 257.5 451.45 260.03 451.47H348.07C350.71 451.46 364.49 451.1 378.91 445.26C382.74 443.71 386.38 441.86 389.77 439.75C393.17 441.86 396.82 443.71 400.67 445.26C415.1 451.08 428.94 451.4 431.57 451.4H584.17C587.48 451.4 590.17 448.71 590.17 445.4V264.35H635.55C657.19 264.35 674.8 246.74 674.8 225.1V195.47H704.43C726.07 195.47 743.68 177.86 743.68 156.22V108.13C743.68 86.49 726.07 68.88 704.43 68.88H674.8V39.25C674.8 17.61 657.19 0 635.55 0Z"}),s.createElement("path",{d:"M36.02 217.18L36 387.45C36 415.35 71.12 415.52 71.12 415.52H123.85V429.82H36.01V486.18L159.71 486.15C194.52 486.15 194.58 456.56 194.58 456.56V188.75H70.98C49.81 188.75 36.02 203.91 36.02 217.18ZM106.7 245.56H123.82V359.16H106.7V245.56ZM382.84 273.88H313.03V359.18H295.58V259.62H382.85V203.33H294.64L294.7 177.5H224.34L224.38 203.33H207.85V259.62H225.31V387.35C225.31 415.28 260.25 415.48 260.25 415.48H347.95C347.95 415.48 382.87 415.33 382.87 387.34H382.85V273.88H382.84ZM519.25 189.32H431.6C431.6 189.32 396.69 189.26 396.69 217.89V259.78H466.9V245.95H483.95V274.06H431.59C431.59 274.06 396.69 274.01 396.69 302.16V387.33C396.69 415.33 431.59 415.4 431.59 415.4H554.17V217.88C554.17 189.26 519.25 189.32 519.25 189.32ZM483.95 359.19H466.9V330.68H483.95V359.19Z"}),s.createElement("path",{d:"M704.43 104.88H638.8V39.25C638.8 37.45 637.34 36 635.55 36H587.46C585.66 36 584.21 37.46 584.21 39.25V104.88H518.58C516.78 104.88 515.33 106.34 515.33 108.13V156.22C515.33 158.02 516.79 159.47 518.58 159.47H584.21V225.1C584.21 226.9 585.67 228.35 587.46 228.35H635.55C637.35 228.35 638.8 226.89 638.8 225.1V159.47H704.43C706.23 159.47 707.68 158.01 707.68 156.22V108.13C707.68 106.34 706.22 104.88 704.43 104.88Z"}))},Se=e=>{switch((0,r.kgH)(e)){case F:case H:case U:case B:return _.E0.XboxGamepassInline;case q:return _.E0.GamepassUltimateInline2;default:return}},Te=e=>{switch((0,r.kgH)(e)){case F:case H:case U:case B:return me.Z;case q:return ge;case z:return fe.Z;case $:return _e;case X:return Ce;default:return}},Ie=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch((0,r.kgH)(e)){case F:case H:return Z;case B:return j;case q:return t?Z:ee;case U:return V;case z:return re;case $:return oe;case X:return ae;default:return""}},we=(e,t)=>0!==e?Math.round(100*Math.abs(1-t/e)):0,Ae=e=>{const{upsellProductId:t,isTrial:n,nonCatalogUpsellProductId:a,productEntitlement:i}=e,[s,c,l,u,d]=(0,o.QF)("upsellIncludedWithFormat","youOwnThisText","freeTrialUpsellFormat","freeTrial","geforceNowServiceUpsellTitle"),h=(0,r.kgH)(t)===$;let m,p=n?u:(null===i||void 0===i?void 0:i.isOwned)?c:"";if(a){if(a.toLowerCase()===D.geforcenow)p=(0,r.WUZ)(n?l:s,d)}else if(t){const e=Ie(t,!1);m=Se(t),p=(0,r.WUZ)(n?l:s,m||h?"":e)}return{affordingText:p,upsellGlyph:m}};n(634),n(31235);const ke=(e,t)=>(null===t||void 0===t?void 0:t.skuDescription)||e.description,Pe=(e,t)=>(null===t||void 0===t?void 0:t.skuTitle)||e.title,xe=e=>{var t,n;return e.actions.includes(O.Purchase)&&e.actions.includes(O.Details)&&(null===(n=null===(t=e.price)||void 0===t?void 0:t.eligibilityInfo)||void 0===n?void 0:n.eligibility)!==k.Remediation},Re=e=>(0,r.Ypc)(e,x.Consumable)||(0,r.Ypc)(e,x.Durable)||(0,r.Ypc)(e,x.UnmanagedConsumable),Ne=e=>(0,r.Ypc)(e,L.Devices),Oe=e=>!!(e&&e.product&&e.sku&&e.availability),Le=e=>{var t;const[n,a,i]=(0,o.QF)("promoFreeDayWithPluralizationFormatRules","promoFreeMonthWithPluralizationFormatRules","promoFreeYearWithPluralizationFormatRules");if(!e||!e.units)return;let s;switch(null===(t=e.unitType)||void 0===t?void 0:t.toLowerCase()){case _.zy.Year:s=i;break;case _.zy.Month:s=a;break;case _.zy.Day:s=n}return s?(0,r.yy9)(s,e.units):void 0};n(36728),n(9e4),n(74407),n(26464),n(18339),n(64903);const Me=(e,t)=>{var n;const r=[];return e.videos&&e.videos.length>0&&r.push(...e.videos.filter((e=>{var t;return null===(t=e.purpose)||void 0===t?void 0:t.toLowerCase().includes("trailer")}))),t&&(null===(n=e.cmsVideos)||void 0===n?void 0:n.length)&&r.push(...e.cmsVideos.reduce(((e,t)=>{var n;return(null===(n=t.purpose)||void 0===n?void 0:n.toLowerCase().includes("trailer"))&&e.push(v()(v()({},t),{},{isCmsVideo:!0})),e}),[])),r},De=["satisfyingPassId"],Ue=["className","isPass","productInfo","productPrice","discountDetailClassName","historicalLowestListPrice","hideDiscountMessage"],Be=e=>{let{afterText:t,afterTextGlyph:n,afterTextPrefix:r,className:o,hasAddOns:a,listedPriceClassName:c,lowestPrice:l,originalPrice:u,useBrandStyling:h}=e;return s.createElement(s.Fragment,null,s.createElement("div",{"aria-hidden":"true",className:o},!!u&&s.createElement("span",{className:i()(h?"Price-module__brandOriginalPrice___ayJAn":"Price-module__originalPrice___XNCxs")},u),s.createElement("span",{className:i()("Price-module__boldText___1i2Li",d,c,{"Price-module__listedDiscountPrice___A-+d5":!h&&!!u})},`${l}${a?"+":""}`),s.createElement(ze,{prefix:r,text:t,glyph:n})))},Fe=e=>{const t=de(e.productPrice,e.recurrencePolicySummary);return t?s.createElement(Be,v()(v()({},e),t)):null},He=e=>{let{satisfyingPassId:t}=e,n=g()(e,De);const a=(0,o.iV)("upsellIncludedWithFormat");if(t){const e=(0,r.kgH)(t),o=Ie(e,!1),i=Se(e),c=e===$,l=(0,r.WUZ)(a,i||c?"":o);return s.createElement("div",{className:n.className},s.createElement("span",null,l),i?s.createElement("span",{className:(0,_.ut)(_.JE.Prepend,i)}):c?s.createElement(be,{className:h}):"")}return s.createElement(Fe,v()({},n))},qe=e=>{let{className:t,isPass:n,productInfo:r,productPrice:o,discountDetailClassName:a,historicalLowestListPrice:i,hideDiscountMessage:c}=e,l=g()(e,Ue);const d=de(o,l.recurrencePolicySummary);if(o&&d){const{afterText:e,afterTextGlyph:h,afterTextPrefix:p}=d;return s.createElement("div",{className:t},s.createElement(Be,v()(v()(v()({},l),d),{},{afterText:void 0,afterTextPrefix:void 0,afterTextGlyph:void 0})),s.createElement("div",{className:a},n&&Oe(r)&&s.createElement("div",null,s.createElement($e,{productInfo:r})),!c&&!n&&s.createElement(Ge,{productPrice:o}),s.createElement(ze,{prefix:p,text:e,glyph:h}),s.createElement(Xe,{productInfo:r}),i&&s.createElement(m,{historicalLowestListPrice:i,className:u})))}return null},Ge=e=>{let{productPrice:t}=e;const n=(0,o.iV)("pricePercentageOffTemplate"),{msrp:a,listPrice:i}=t;if(i>=a)return null;{const e=Math.round((a-i)/a*100),t=(0,r.WUZ)(n,e.toString());return s.createElement("span",null,t)}},ze=e=>{let{glyph:t,prefix:n,text:r}=e;return r||t?s.createElement("span",{className:d},!!n&&s.createElement("span",{className:(0,_.W0)("margin","right",1)},n),t?t!==_.E0.UbisoftPlus?s.createElement("span",{className:(0,_.ut)(_.JE.Prepend,t)}):s.createElement(be,{className:h}):s.createElement("span",null,r)):null},$e=e=>{let{productInfo:t}=e;const n=(0,_.KG)(),{conciseInitialOfferText:r,recurringPriceText:o}=he(t),a=n(r,o);return a?s.createElement("span",null,a):null},Xe=e=>{let{productInfo:t,className:n}=e;var a;const c=(0,o.iV)("offerExpirationTemplate"),l=(0,_.v0)(null===(a=t.availability)||void 0===a?void 0:a.endDateUtc),{unit:u,unitType:h,durationString:m}=l;if(!u||!h||!m||h===_.zy.Month&&u>1||h===_.zy.Year)return null;{const e=(0,r.WUZ)(c,m);return s.createElement("span",{className:i()(d,"Price-module__discountExpiry___FMkkE",n)},e)}};var Ve;function We(e){return{updateAdditionalInformation:(0,r.PHw)("@productAdditionalInformation/UPDATE_PRODUCT_ADDITIONAL_INFORMATION",Ve.AdditionalInformation,e,(e=>({additionalInfo:e})))}}function je(e){return{updateAvailabilitySummaries:(0,r.PHw)("@availabilitySummaries/UPDATE_AVAILABILITY_SUMMARIES",Ve.AvailabilitySummary,e,(e=>({summaries:e})))}}function Ke(e){return{getProductInfo:(0,r.LG0)(Ve.ProductInfo,e,"@productInfoActions/GET_PRODUCT_INFO",(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{productId:e,onlyProductSummary:t}}),(e=>({productId:e})),((e,t)=>({productId:e,error:t}))),getBulkProductInfo:(0,r.LG0)(Ve.ProductInfo,e,"@productInfoActions/GET_BULK_PRODUCT_INFO",(e=>({productIds:e})),(e=>({productIds:e})),((e,t)=>({productIds:e,error:t})))}}function Ze(e){return{updateProductSummaries:(0,r.PHw)("@productSummaries/UPDATE_PRODUCT_SUMMARIES",Ve.ProductSummary,e,(e=>({summaries:e})))}}function Ye(e){return{updateSkuSummaries:(0,r.PHw)("@skuSummaries/UPDATE_SKU_SUMMARIES",Ve.SkuSummary,e,(e=>({summaries:e})))}}!function(e){e.AdditionalInformation="AdditionalInformation",e.AvailabilitySummary="AvailabilitySummary",e.ProductSummary="ProductSummary",e.SkuSummary="SkuSummary",e.ProductInfo="ProductInfo"}(Ve||(Ve={}));const Qe={};function Je(e){return(0,r.$ex)(Ve.AdditionalInformation,new r.h7h(Qe).on(e.updateAdditionalInformation,((e,t)=>{if(!t.additionalInfo)return e;const n=(0,r.Lx9)(t.additionalInfo.productId);return v()(v()({},e),{},{[n]:t.additionalInfo})})).build())}const et={};function tt(e){return(0,r.$ex)(Ve.AvailabilitySummary,new r.h7h(et).on(e.updateAvailabilitySummaries,((e,t)=>t.summaries.length?t.summaries.reduce(((e,t)=>{if(t){const n=(0,r.Lx9)(t.productId),o=(0,r.Lx9)(t.skuId),a=(0,r.Lx9)(t.availabilityId);e[n]?e[n][o]?e[n][o][a]=t:e[n][o]=v()(v()({},e[n][o]),{},{[a]:t}):e[n]={[o]:{[a]:t}}}return e}),v()({},e)):e)).build())}const nt={};function rt(e){return(0,r.$ex)(Ve.ProductSummary,new r.h7h(nt).on(e.updateProductSummaries,((e,t)=>t.summaries.length?t.summaries.reduce(((e,t)=>{if(t){e[(0,r.Lx9)(t.productId)]=t}return e}),v()({},e)):e)).build())}const ot={};function at(e){return(0,r.$ex)(Ve.SkuSummary,new r.h7h(ot).on(e.updateSkuSummaries,((e,t)=>t.summaries.length?t.summaries.reduce(((e,t)=>{if(t){const n=(0,r.Lx9)(t.productId),o=(0,r.Lx9)(t.skuId);e[n]?e[n][o]=t:e[n]={[o]:t}}return e}),v()({},e)):e)).build())}const it={},st={isLoading:!1,hasContent:!1,error:void 0};function ct(e){return{additionalInformation:Je(e.additionalInformationActions),availabilitySummaries:tt(e.availabilitySummaryActions),productSummaries:rt(e.productSummaryActions),productInfoMetadata:(t=e.productInfoActions,(0,r.$ex)(Ve.ProductInfo,new r.h7h(it).on(t.getProductInfo.start,(function(e,t){const n=(0,r.Lx9)(t.productId),o=e[n]||st;return v()(v()({},e),{},{[n]:v()(v()({},o),{},{isLoading:!0,error:void 0})})})).on(t.getProductInfo.success,(function(e,t){const n=(0,r.Lx9)(t.productId);return v()(v()({},e),{},{[n]:{isLoading:!1,hasContent:!0,error:void 0}})})).on(t.getProductInfo.error,(function(e,t){const n=(0,r.Lx9)(t.productId),o=e[n]||st;return v()(v()({},e),{},{[n]:v()(v()({},o),{},{isLoading:!1,error:t.error})})})).on(t.getBulkProductInfo.start,(function(e,t){const n=v()({},e);for(const o of t.productIds){const t=(0,r.Lx9)(o),a=e[t]||st;n[t]=v()(v()({},a),{},{isLoading:!0,error:void 0})}return n})).on(t.getBulkProductInfo.success,(function(e,t){const n=v()({},e);for(const o of t.productIds)n[(0,r.Lx9)(o)]={isLoading:!1,hasContent:!0,error:void 0};return n})).on(t.getBulkProductInfo.error,(function(e,t){const n=v()({},e);for(const o of t.productIds){const a=(0,r.Lx9)(o),i=e[a]||st;n[a]=v()(v()({},i),{},{isLoading:!1,error:t.error})}return n})).build())),skuSummaries:at(e.skuSummaryActions)};var t}n(34715),n(19570);const lt=e=>Object.values(e).reduce(((e,t)=>(Object.values(t).forEach((t=>{e.push(t)})),e)),[]);n(52856),n(57610);function ut(e){const t=t=>e(t).additionalInformation,n=t=>e(t).availabilitySummaries,o=t=>e(t).productSummaries,a=t=>e(t).productInfoMetadata,i=t=>e(t).skuSummaries,s=function(e){return{getProductAdditionalInformation:(t,n)=>e(t)[(0,r.Lx9)(n)]}}(t),c=function(e){const t=[];return{getAvailabilitySummary:(t,n,o,a)=>{var i,s;const c=(0,r.Lx9)(n),l=(0,r.Lx9)(o),u=(0,r.Lx9)(a),d=e(t);return null===(s=null===(i=null===d||void 0===d?void 0:d[c])||void 0===i?void 0:i[l])||void 0===s?void 0:s[u]},getAvailabilitySummaryProductState:(t,n)=>e(t)[(0,r.Lx9)(n)],getAvailabilitySummariesByProductId:(n,o)=>{const a=(0,r.Lx9)(o),i=e(n)[a];return i?lt(i):t},getAvailabilitySummariesByProductSkuId:(t,n,o)=>{var a,i;const s=(0,r.Lx9)(n),c=null!==(i=null===(a=e(t)[s])||void 0===a?void 0:a[o])&&void 0!==i?i:{};return Object.values(c)}}}(n),l=function(e){const t=(t,n)=>e(t)[(0,r.Lx9)(n)];return{getProductSummary:t,getLanguageSupportDetail:(e,n)=>{var r;return null===(r=t(e,n))||void 0===r?void 0:r.languagesSupported},getShowSupportedLanguageDisclaimer:(e,n)=>{var r;return null===(r=t(e,n))||void 0===r?void 0:r.showSupportedLanguageDisclaimer},getAchievementSummary:(e,n)=>{var r;return null===(r=t(e,n))||void 0===r?void 0:r.achievements},getProductIsComingSoon:(e,n)=>{var r;const o=null===(r=t(e,n))||void 0===r?void 0:r.passMetadataByPassProductId;return!!o&&Object.values(o).some((e=>!!(null===e||void 0===e?void 0:e.entryDateUTC)&&new Date(e.entryDateUTC).toISOString()>(new Date).toISOString()))}}}(o),u=function(e){return{getProductInfoMetadata:(t,n)=>e(t)[(0,r.Lx9)(n)]}}(a),d=function(e){const t=(t,n)=>e(t)[(0,r.Lx9)(n)],n=[],o=[];return{getSkuSummary:(t,n,o)=>{const a=(0,r.Lx9)(n),i=(0,r.Lx9)(o),s=e(t)[a];return null===s||void 0===s?void 0:s[i]},getSkuSummaryStateForProductId:t,getSkuIdsByProductId:(e,r)=>{const o=t(e,r);return o?Object.keys(o):n},getSkuSummariesByProductId:(e,n)=>{const r=t(e,n);return r?Object.values(r):o}}}(i);return{additionalInformationSelectors:s,availabilitySummarySelectors:c,productSummarySelectors:l,productInfoMetadataSelectors:u,skuSummarySelectors:d,getAdditionalInformationState:t,getAvailabilitySummaryState:n,getProductSummaryState:o,getProductInfoMetadataState:a,getSkuSummaryState:i,getPurchasableSkuSummariesWithDetailByProductId:(e,t)=>{const n=d.getSkuSummariesByProductId(e,t);return 0===n.length?n:n.filter((n=>{const r=c.getAvailabilitySummariesByProductSkuId(e,t,n.skuId);if(!r)return!1;for(const e of r)return xe(e);return!1}))}}}const dt=[];const ht=[],mt=[];function pt(e){const t=function(e){return{useGetSkuIdsByProductId:t=>{const n=(0,c.useSelector)((n=>e.getSkuSummaryStateForProductId(n,t)));return(0,s.useMemo)((()=>n?Object.keys(n):ht),[n])},useGetSkuSummariesByProductId:t=>{const n=(0,c.useSelector)((n=>e.getSkuSummaryStateForProductId(n,t)));return(0,s.useMemo)((()=>n?Object.values(n):mt),[n])}}}(e.skuSummarySelectors),n=function(e){return{useAvailabilitySummariesByProductId:function(t){const n=(0,c.useSelector)((n=>e.getAvailabilitySummaryProductState(n,t)));return(0,s.useMemo)((()=>n?lt(n):dt),[n])},useAvailabilitySummariesByProductSkuId:function(t,n){const r=(0,c.useSelector)((n=>e.getAvailabilitySummaryProductState(n,t))),o=null===r||void 0===r?void 0:r[n];return(0,s.useMemo)((()=>o?Object.values(o):dt),[o])}}}(e.availabilitySummarySelectors);return{skuSummaryHooks:t,availabilitySummaryHooks:n}}function gt(e,t){const n=function(e){return{additionalInformationActions:We(e),availabilitySummaryActions:je(e),productSummaryActions:Ze(e),productInfoActions:Ke(e),skuSummaryActions:Ye(e)}}(e),r=ct(n),o=ut(t);return{productsActions:n,productsReducers:r,productsSelectors:o,productsHooks:pt(o)}}},54433:(e,t,n)=>{"use strict";n.d(t,{xe:()=>g,SV:()=>p});var r=n(814),o=n.n(r),a=n(24923),i=n.n(a),s=(n(22799),n(87342)),c=n(2784),l=n(7158);const u=["children"],d=e=>{let{renderChildren:t}=e;return c.createElement(c.Fragment,null,t())};class h extends c.Component{constructor(e){super(e),this.state={}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){const n=`Error while rendering content. \n OriginalMessage: ${e.message} \n ComponentStack: ${t.componentStack}`;this.props.logger?this.props.logger.error(n,e):console.error(n)}render(){return this.state.error?this.props.renderError(this.state.error):c.createElement(c.Fragment,null,this.props.children)}}const m=e=>{let{children:t}=e,n=i()(e,u);return c.createElement(h,o()({},n),c.createElement(d,{renderChildren:t}))},p=e=>{const t=(0,s.Fj)(),n=e.renderError||(e=>c.createElement(l.mf,{error:e}));return c.createElement(m,o()(o()({},e),{},{renderError:n,logger:t}))},g=e=>{const t=`Error code: ${e.cV}`,n=e.renderError||(e=>c.createElement(l.WA,{title:"We are sorry, the page you requested cannot be found.",error:e,errorCodeDisplayString:t,subtitle:"The URL may be misspelled or the page you're looking for is no longer available."}));return c.createElement(m,o()(o()({},e),{},{renderError:n}))}},7158:(e,t,n)=>{"use strict";n.d(t,{mf:()=>k,WA:()=>P,Jr:()=>x});var r=n(814),o=n.n(r),a=(n(6886),n(87995)),i=n(16216),s=n(61030),c=n(87342),l=n(2784),u=n(4517),d=n(23667),h=n(79458),m=n(51295);const p=n.p+"static/media/error-hero-01.156ff95c.jpg";var g=n(49993),f=n(98900),v=n(8520),_=n(74495),y=n(32355);const b=n.p+"static/media/error-page-tile-games.bc4d4d57.jpg",E=n.p+"static/media/error-page-tile-consoles.726e67f4.jpg",C=n.p+"static/media/error-page-tile-support.94a896fe.svg";var S=n(46650);const T=()=>{const[e,t,n]=(0,s.QF)("errorPageTileXboxGamesHeader","errorPageTileXboxGamesBody","errorPageTileXboxGamesLinkText"),r=(0,_.useSelector)(i.Yzi),o=(0,i.uQr)(y.n5,{locale:r});return l.createElement(A,{imgSrc:b,header:e,body:t,linkText:n,href:o})},I=()=>{const[e,t,n]=(0,s.QF)("errorPageTileXboxConsolesHeader","errorPageTileXboxConsolesBody","errorPageTileXboxConsolesLinkText"),r=(0,_.useSelector)(i.Yzi),o=(0,i.uQr)(y.nG,{locale:r});return l.createElement(A,{imgSrc:E,header:e,body:t,linkText:n,href:o})},w=()=>{const[e,t,n]=(0,s.QF)("errorPageTileXboxSupportHeader","errorPageTileXboxSupportBody","errorPageTileXboxSupportLinkText"),r=(0,_.useSelector)(i.Yzi),o=(0,i.uQr)(y.PF,{locale:r});return l.createElement(A,{imgSrc:C,header:e,body:t,linkText:n,href:o})},A=e=>{let{imgSrc:t,header:n,body:r,href:o,linkText:a}=e;const[c]=(0,s.QF)("errorPageTileImageAltText");return l.createElement("div",{className:S.u5},l.createElement("img",{src:t,alt:(0,i.WUZ)(c,n),className:S.G5}),l.createElement("h3",{className:S.yU},n),l.createElement("p",{className:S.cI},r),l.createElement("div",null,l.createElement(f.k,{as:"a",href:o,buttonType:v.L$.Tertiary,target:"_blank",rel:"noopener noreferrer",className:S.xB,"aria-label":a},l.createElement("span",{className:S.xB},a))))},k=e=>{const[t,n,r,u,h]=(0,s.QF)("errorPageMessage","errorPageSubMessage","errorCodeTemplate","errorPageNotFoundMessage","errorPageNotFoundSubMessage"),p=(0,c.Qc)(),g=(0,i.WUZ)(r,p.cv().get());return(0,c.Li)(c.uZ.Error,d.G.Error,{additionalRerunParameter:e.error.name,data:(0,i.NqY)({errorName:e.error.name,errorMessage:e.error.message,errorStack:e.error.stack})}),l.createElement(m.B,{status:e.statusCode||a.WE.InternalServerError},l.createElement(P,o()({errorCodeDisplayString:g,title:e.statusCode===a.WE.NotFound?u:t,subtitle:e.statusCode===a.WE.NotFound?h:n},e)))},P=e=>{let{errorCodeDisplayString:t,error:n,subtitle:r,title:o,children:a}=e;const[c]=(0,s.QF)("errorPageBackgroundImageAltText");return l.createElement("div",null,l.createElement("div",{className:g.L$},l.createElement("img",{src:p,alt:c,className:g.$m}),l.createElement("div",{className:g.li},l.createElement("h2",{className:g.eE},o),!!r&&l.createElement("p",{className:g.BX},r),t&&l.createElement("p",{className:g.uY},t),l.createElement(h.m,{featureGate:i.vCX.ShowStackOnError},l.createElement("p",null,n.stack)),a)),l.createElement("div",{className:g.T5},l.createElement(T,null),l.createElement(I,null),l.createElement(w,null)))},x=e=>{let{messageOverride:t}=e;const n=(0,s.iV)("genericErrorMessage"),r=(0,u.k6)(),o=r.createHref(r.location);return(0,c.Li)(c.uZ.GenericError,d.G.Error,{data:(0,i.NqY)({errorMessage:t||n,pageHref:o})}),l.createElement("div",null,l.createElement("h3",null,t||n))}},40974:(e,t,n)=>{"use strict";n.d(t,{d:()=>f});var r=n(814),o=n.n(r),a=(n(6886),n(12524)),i=n.n(a),s=n(98900),c=n(8520),l=n(82008),u=n(2784),d=n(16763),h=n(87342),m=n(16216),p=n(61030),g=n(78489);const f=e=>{const{innerTextAriaLabelOverride:t,href:n,linkClassName:r,linkIconClassName:a,linkIconSize:f,linkText:v,linkTextClassName:_,telemetryProps:y}=e,b=(0,h.iZ)((0,h._d)({behavior:h.cg.NAVIGATIONFORWARD,contentName:v,id:"ExternalLink"},y)),[E,C]=(0,p.QF)("buttonWithStateAccessibilityTemplate","openInNewTabLinkLabel"),S=(0,m.WUZ)(E,t||v,C);return u.createElement(s.k,o()({"aria-label":S,as:"a",buttonType:c.L$.Tertiary,className:i()(g.DK,r),href:n,rel:"noopener noreferrer",target:"_blank"},b),u.createElement("span",{className:_},v),u.createElement(l.JO,{icon:d.Z,iconSize:null!==f&&void 0!==f?f:l.Jh.XXSmall,className:i()(g.IA,a)}))}},68493:(e,t,n)=>{"use strict";n.d(t,{yY:()=>a,WV:()=>i,PE:()=>s.P});n(34715),n(26464),n(19570);var r=n(2784),o=n(3829);function a(){const e=(0,r.useContext)(o.D);return(0,r.useCallback)(((t,n)=>{Object.keys(e).forEach((t=>delete e[t]));const r=e;r.type="RawResponse",r.raw=t,r.contentType=n}),[e])}function i(){const e=(0,r.useContext)(o.D);return(0,r.useCallback)(((t,n)=>{Object.keys(e).forEach((t=>delete e[t]));const r=e;r.type="Redirect",r.url=t,r.statusCode=n}),[e])}var s=n(36712)},48276:(e,t,n)=>{"use strict";n.d(t,{h:()=>d});var r=n(12524),o=n.n(r),a=n(2784),i=n(71275),s=n(58264),c=n(12594),l=n(32542),u=n(48727);const d=()=>a.createElement(i.Z,null,a.createElement(s.Z,{className:o()(u.x,"justify-content-center","align-items-center")},a.createElement(c.Z,{className:"col-auto"},a.createElement(l.d,null))))},50421:(e,t,n)=>{"use strict";n.d(t,{G:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(59158);const c=(0,s.cx)({resolved:{},chunkName:()=>"PageNotFoundErrorPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(35755).then(n.bind(n,91827))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 91827}})},72416:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});n(77950),n(94908);var r=n(2784),o=n(4517),a=n(16216),i=n(82498);const s=e=>{let{children:t,onNewNavigationOnly:n,ignoreHash:s,ignoreSearch:c}=e;const l=(0,i.iY)(),u=(0,o.TH)(),{location:d}=(0,a.vzw)();return(0,r.useEffect)((()=>{const e=null!=d&&d.pathname===u.pathname&&(s||d.hash===u.hash)&&(c||d.search===u.search);if(!u.hash&&!e)if(n)l||window.scrollTo(0,0);else{const e=l||{x:0,y:0};requestAnimationFrame((()=>requestAnimationFrame((()=>window.scrollTo(e.x,e.y)))))}}),[u]),t?r.createElement(r.Fragment,null,t):null}},82498:(e,t,n)=>{"use strict";n.d(t,{RV:()=>l,iY:()=>c});n(77950),n(94908);var r=n(2784),o=n(4517),a=n(16216);const i=r.createContext({}),s=e=>e.key||`${e.pathname}${e.search}${e.hash}`,c=()=>{const e=(0,o.TH)();return(0,r.useContext)(i)[s(e)]},l=e=>{let{children:t}=e;const n=(0,a.vzw)(),o=(0,r.useRef)(),c=(0,r.useRef)({});if(n.location!==o.current){if(n.location){const e=s(n.location);c.current[e]={x:window.scrollX,y:window.scrollY}}o.current=n.location}return r.createElement(i.Provider,{value:c.current},t)}},13934:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r=n(2784),o=n(20404);const a=e=>{let{featureGate:t,children:n}=e;const a=(0,r.useCallback)((()=>n),[n]);return r.createElement(o._,{featureGate:t,renderEnabled:a})}},59158:(e,t,n)=>{"use strict";n.d(t,{hx:()=>m,cx:()=>g,Ed:()=>i,LB:()=>s});var r=n(3963),o=n.n(r),a=n(16216);const i=15e3,s=e=>(0,a.Fbb)(i,o()(e,200));var c=n(814),l=n.n(c),u=(n(43105),n(2784)),d=n(45595),h=n(54433);function m(e){const t=(0,d.ZP)(e);return Object.assign((e=>u.createElement(h.SV,{renderError:()=>null},(()=>u.createElement(t,l()({},e))))),{preload:t.preload.bind(t),load:t.load.bind(t)})}var p=n(98973);function g(e){return(0,d.ZP)(e,{fallback:u.createElement(p.h,null)})}},56734:(e,t,n)=>{"use strict";n.d(t,{h:()=>p});var r=n(814),o=n.n(r),a=n(24923),i=n.n(a),s=n(12524),c=n.n(s),l=n(2784),u=n(70561),d=n(58264),h=n(55184);const m=["className","iconClassName","iconName","children"],p=e=>{const{className:t,iconClassName:n,iconName:r,children:a}=e,s=i()(e,m),p=(0,h.ut)(h.JE.Prepend,r),g=l.createElement("span",{className:c()([p,n])});return l.createElement(u.Z,o()({className:t},s),l.createElement(d.Z,{className:c()(["align-items-center",(0,h.W0)("margin","all","auto")])},g,!!a&&l.createElement("span",{className:(0,h.W0)("margin","leftRight",2)},a)))}},32036:(e,t,n)=>{"use strict";n.d(t,{t:()=>u});var r=n(814),o=n.n(r),a=n(24923),i=n.n(a),s=n(2784);const c=["className","src","alt","sources"],l=(0,s.forwardRef)(((e,t)=>{let{className:n,src:r,alt:a,sources:l}=e,u=i()(e,c);const d=s.createElement("img",o()({ref:t,className:n,src:r,alt:a},u));return l?s.createElement("picture",null,s.createElement(s.Fragment,null,l),d):d})),u=(0,s.memo)(l)},40028:(e,t,n)=>{"use strict";n.d(t,{Ie:()=>o,P1:()=>i,U9:()=>r,d:()=>a});const r=2.592*Math.pow(10,9),o=8.64*Math.pow(10,7),a=3.6*Math.pow(10,6),i=6e4},68687:(e,t,n)=>{"use strict";n.d(t,{a:()=>r,r:()=>a});var r,o=n(2784);!function(e){e[e.None=0]="None",e[e.Desktop=1]="Desktop",e[e.MobilePortrait=2]="MobilePortrait",e[e.MobileLandscape=3]="MobileLandscape"}(r||(r={}));const a=(0,o.createContext)({currentExperience:r.None})},55184:(e,t,n)=>{"use strict";n.d(t,{zy:()=>s,k6:()=>m,Lx:()=>g,E0:()=>v.E0,JE:()=>v.JE,JD:()=>h.JD,Ds:()=>r.D,jG:()=>y.j,fz:()=>v.fz,Fo:()=>v.Fo,ut:()=>v.ut,Iw:()=>_.I,al:()=>v.al,Np:()=>v.Np,Nl:()=>v.Nl,W0:()=>v.W0,Wp:()=>h.Wp,G1:()=>h.G1,df:()=>h.df,RO:()=>h.RO,KG:()=>f,Hr:()=>c,v0:()=>l,M9:()=>h.M9,Nj:()=>v.Nj,p$:()=>v.p$});var r=n(87848),o=(n(6886),n(16216)),a=n(61030),i=n(40028);var s;!function(e){e.Day="day",e.Hour="hour",e.Minute="minute",e.Month="month",e.Year="year",e.Unknown="unknown"}(s||(s={}));const c=()=>{const[e,t,n,r]=(0,a.QF)("monthWithPluralizationFormatRules","dayWithPluralizationFormatRules","hourWithPluralizationFormatRules","minuteWithPluralizationFormatRules");return(a,i)=>{if(!a||!i)return;let c;switch(i.toLowerCase()){case s.Month:c=e;break;case s.Day:c=t;break;case s.Hour:c=n;break;case s.Minute:c=r;break;default:return}return(0,o.yy9)(c,a)}},l=e=>{let t,n=0;const r=c();if(e){const r=new Date,o=(e=>{let t=e;const n=Math.floor(t/i.U9);t-=Math.max(0,n*i.U9);const r=Math.floor(t/i.Ie);t-=Math.max(0,r*i.Ie);const o=Math.floor(t/i.d);t-=Math.max(0,o*i.d);const a=Math.floor(t/i.P1);return t-=Math.max(0,a*i.P1),{month:n,day:r,hour:o,minute:a}})(new Date(e).getTime()-r.getTime());o.month>0?(n=o.month,t=s.Month):o.day>0?(n=o.day,t=s.Day):o.hour>0?(n=o.hour,t=s.Hour):o.minute>0&&(n=o.minute,t=s.Minute)}return{unit:n,unitType:t,durationString:r(n,t)}};var u=n(68687),d=n(2784),h=n(78817);const m=e=>{let{children:t,initialExperience:n=u.a.None}=e;const[r,o]=(0,d.useState)(n);(0,d.useEffect)((()=>{const e=e=>{let t;t=e?window.innerHeight<=h.M9[h.JD.XS]?u.a.MobileLandscape:u.a.Desktop:window.innerWidth<=h.M9[h.JD.XS]?u.a.MobilePortrait:u.a.Desktop,o(t)},t=window.matchMedia("(orientation: landscape)"),n=t=>{e(t.matches)},r=()=>{e(t.matches)};return window.addEventListener("resize",r),t.addEventListener("change",n),e(t.matches),()=>{t.removeEventListener("change",n),window.removeEventListener("resize",r)}}),[]);const a={currentExperience:r};return d.createElement(u.r.Provider,{value:a},t)};var p=n(15946);const g=()=>((0,p.useRequestNavigationKeys)([p.NavigationKey.ArrowUp,p.NavigationKey.ArrowDown,p.NavigationKey.Tab]),null),f=()=>{const e=(0,a.iV)("periodSeparatorTemplate");return(t,n)=>t&&n?(0,o.WUZ)(e,t,n):t||(n||"")};var v=n(24155),_=n(8249),y=n(38205)},80273:(e,t,n)=>{"use strict";n.d(t,{Fo:()=>o,fz:()=>r});const r=e=>`float-${e}`,o=(e,t)=>`float-${t}-${e}`},24155:(e,t,n)=>{"use strict";n.d(t,{E0:()=>a.E0,JE:()=>a.JE,fz:()=>o.fz,Fo:()=>o.Fo,ut:()=>a.ut,al:()=>g,Np:()=>f,Nl:()=>s,W0:()=>c.W,Nj:()=>p,p$:()=>v});var r,o=n(80273),a=n(82717);!function(e){e.SMALL="sm",e.LARGE="lg"}(r||(r={}));const i={width:"w",height:"h",maxWidth:"mw",maxHeight:"mh"},s=(e,t)=>`${i[e]}-${t}`;var c=n(81236),l=n(12524),u=n.n(l);const d=["xs","sm","md","lg","xl",void 0],h=e=>d[d.indexOf(e)+1],m=e=>e&&"xs"!==e?`d-${e}-none`:"d-none",p=e=>e&&"xs"!==e?u()([m(),`d-${e}-block`]):"d-block",g=e=>e&&h(e)?u()([m(e),p(h(e))]):m(e),f=e=>e&&h(e)?p(h(e)):g(),v=e=>e&&h(e)?m(h(e)):(e=>e&&h(e)?u()([p(e),m(h(e))]):p(e))()},8249:(e,t,n)=>{"use strict";n.d(t,{I:()=>c});n(88233),n(31235),n(34715),n(26464),n(19570),n(6886),n(14121),n(60523);const r={};var o;!function(e){e[e.CMS=1]="CMS",e[e.EDS=2]="EDS",e[e.DSC=3]="DSC",e[e.Bing=4]="Bing"}(o||(o={}));const a={"images-eds":o.EDS,"store-images":o.DSC,cms:o.CMS,"img-s-msn-com":o.CMS,"bing.com":o.Bing},i=[34,38,40,43,44,46,50,52,56,60,64,68,72,75,80,84,85,86,95,99,100,105,107,108,110,112,120,124,128,131,132,135,136,138,144,145,147,148,150,151,152,154,156,160,164,170,172,173,175,177,178,180,181,200,207,208,210,213,215,219,224,230,234,235,237,240,243,245,248,253,258,260,262,265,267,270,275,278,280,282,285,288,290,296,300,307,310,313,316,318,320,327,329,336,343,347,361,366,367,370,380,395,400,402,420,423,424,426,430,441,448,464,467,470,480,496,518,526,540,553,556,562,576,580,584,588,592,594,598,640,648,666,672,720,724,725,754,756,770,788,789,796,800,810,818,853,854,864,896,934,935,938,980,981,1012,1021,1024,1051,1066,1067,1080,1138,1190,1191,1206,1276,1277,1280,1315,1350,1351,1366,1440,1499,1501,1561,1562,1593,1793,1795,1830,1831,1919,1920,2020,2021,2048,2100,2398,2399,2470,2471,2560],s=e=>{let t=0,n=i.length,r=0,o=0;for(;;){if(t>n){const e=i[t],r=i[n];return e?r?Math.max(e,r):e:r}if(r=Math.floor((n+t)/2),o=i[r],o===e)return o;o<e?t=r+1:n=r-1}},c=(e,t,n,i,c,l,u,d)=>{if(0===t&&0===n||!e)return e;const h=c||"90",m=u,p=new URL(e),g=p.hostname||p.pathname;let f;Object.keys(a).forEach((e=>{e&&g.includes(e)&&a[e]&&(f=a[e])}));let v=r[t];v||(v=s(t),r[t]=v);let _=r[n];_||(_=s(n),r[n]=_);let y=new URL(e);if(g&&f){switch(f){case o.CMS:y=((e,t,n,r,o,a)=>(e.searchParams.set("q",t),e.searchParams.set("o","f"),n&&e.searchParams.set("m",n),r&&e.searchParams.set("f",r),n&&"0"!==n&&e.searchParams.set("m",n),a&&"jpg"===r&&e.searchParams.set("b",a),o&&e.searchParams.set("p",o),e))(y,h,m,i,null===d||void 0===d?void 0:d.toString(),l);break;case o.EDS:_=v=Math.max(_,v),y=((e,t)=>(t&&e.searchParams.set("format",t),e))(y,i);break;case o.DSC:y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"90",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return e.searchParams.set("q",t),n&&e.searchParams.set("format",n),o&&"jpg"===n&&e.searchParams.set("background",o),r&&e.searchParams.set("padding",r),e}(y,h,i,null===d||void 0===d?void 0:d.toString(),l);break;case o.Bing:y=((e,t,n)=>(e.searchParams.set("w",t.toString()),e.searchParams.set("h",n.toString()),e.searchParams.set("c","1"),e))(y,t,n)}y.searchParams.set("w",v.toString()),y.searchParams.set("h",_.toString())}return y.toString()}},38205:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});n(13489);function r(e,t,n){const r=e.current;if(!r)return;const o=window.getComputedStyle(r).getPropertyValue("line-height"),a=parseFloat(o),i=r.offsetHeight;t(Math.ceil(i/a)>n)}},78817:(e,t,n)=>{"use strict";n.d(t,{G1:()=>f,JD:()=>r,M9:()=>u,RO:()=>v,Wp:()=>p,df:()=>g});n(6886);var r,o=n(2784),a=n(74495),i=n(16216),s=n(67446),c=n(87848),l=n(68687);!function(e){e[e.XXS=0]="XXS",e[e.XS=1]="XS",e[e.SM=2]="SM",e[e.MD=3]="MD",e[e.LG=4]="LG",e[e.XL=5]="XL"}(r||(r={}));const u={[r.XXS]:400,[r.XS]:540,[r.SM]:860,[r.MD]:1084,[r.LG]:1400,[r.XL]:Number.MAX_SAFE_INTEGER},d=[{minWidth:0,viewPort:r.XXS},{minWidth:400,viewPort:r.XS},{minWidth:540,viewPort:r.SM},{minWidth:860,viewPort:r.MD},{minWidth:1084,viewPort:r.LG},{minWidth:1400,viewPort:r.XL}],h=u[r.LG],m=()=>document.documentElement.clientWidth||document.body.clientWidth,p=e=>{const t=(0,o.useContext)(l.r),{currentExperience:n}=t;switch(n){case l.a.Desktop:return e.desktopComponent;case l.a.MobilePortrait:return e.mobilePortraitComponent;case l.a.MobileLandscape:return e.mobileLandscapeComponent;default:return null}},g=()=>{const e=(()=>{const e=(0,a.useSelector)(i.ZU_),t=(0,a.useSelector)(i.Xnf).userAgent,n=(0,o.useMemo)((()=>new s.LK(t)),[t]);return e?t?n.isMobile?u[r.XS]:n.isTablet?u[r.MD]:h:h:m()})(),[t,n]=(0,o.useState)(e);return((e,t)=>{const n=(0,a.useSelector)(i.ZU_);(0,o.useEffect)((()=>{if(!n)return e()}),[...t,n])})((()=>{const e=(0,c.D)((()=>{n(m())}),150);return n(m()),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),t},f=()=>{const e=g();let t=r.XL;for(const n of d){if(!(e>=n.minWidth))break;t=n.viewPort}return t},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0px";const[n,r]=(0,o.useState)(null);return(0,o.useEffect)((()=>{const o=new IntersectionObserver((e=>{let[t]=e;t.isIntersecting!==n&&r(t.isIntersecting)}),{rootMargin:t});e.current&&o.observe(e.current);const a=e.current;return()=>{o.unobserve(a)}}),[e,t]),n}},53249:(e,t,n)=>{"use strict";n.d(t,{Db:()=>i,bZ:()=>_,pF:()=>s,vz:()=>ke,FX:()=>It,sg:()=>ct,W2:()=>dt,xe:()=>C.xe,G1:()=>se,oc:()=>E,zy:()=>b.zy,SV:()=>C.SV,mf:()=>S.mf,WA:()=>S.WA,bf:()=>mt,k6:()=>b.k6,dL:()=>T.d,Ux:()=>w,Lx:()=>b.Lx,Jr:()=>S.Jr,E0:()=>b.E0,JE:()=>b.JE,hU:()=>ce.h,Ee:()=>Ae,l$:()=>te,h$:()=>L,Dp:()=>B,F1:()=>H,Fd:()=>me,h2:()=>G.h,mo:()=>W,u_:()=>_t,Lk:()=>Z,EM:()=>ee,lg:()=>oe,ef:()=>qe,au:()=>Ge,pJ:()=>Ve,GP:()=>We.G,Gr:()=>x,Wv:()=>$e.W,J1:()=>Je,X2:()=>Et,RV:()=>tt.RV,pQ:()=>at,TT:()=>rt,oo:()=>et,yx:()=>Oe,$j:()=>Me,JD:()=>b.JD,dj:()=>Ct.d,Ds:()=>b.Ds,jG:()=>b.jG,fz:()=>b.fz,Fo:()=>b.Fo,ut:()=>b.ut,Iw:()=>b.Iw,al:()=>b.al,Np:()=>b.Np,hx:()=>q.hx,cx:()=>q.cx,Ed:()=>q.Ed,Ie:()=>wt.Ie,Nl:()=>b.Nl,W0:()=>b.W0,Wp:()=>b.Wp,EX:()=>b.G1,df:()=>b.df,RO:()=>b.RO,KG:()=>b.KG,Hr:()=>b.Hr,v0:()=>b.v0,yY:()=>I.yY,M9:()=>b.M9,Nj:()=>b.Nj,p$:()=>b.p$,LB:()=>q.LB});n(6886);var r=n(2784),o=n(16216),a=n(40959);const i=()=>{const e=(0,r.useRef)(null),[t,n]=(0,r.useState)(!1),i=(0,o.$Ft)();(0,r.useEffect)((()=>{const e=e=>{if("https://www.microsoft.com"===e.origin&&e.data.id&&"AdsOptOutSyncSuccess"===e.data.id){const t=i.get(o.J6I),n=e.data.adsOptOut;t===n||"0"!==n&&"1"!==n||i.set(o.J6I,n,{sameSite:"lax",path:"/",secure:!0,domain:".xbox.com",essential:!0})}};return window.addEventListener("message",e),n(!0),()=>window.removeEventListener("message",e)}),[i]);const s=(0,r.useCallback)((()=>{var t;(null===(t=e.current)||void 0===t?void 0:t.contentWindow)&&e.current.contentWindow.postMessage({id:"AdsOptOutSyncStart"},"https://www.microsoft.com")}),[e]);return t?r.createElement("iframe",{ref:e,onLoad:s,key:"adsOptOut-sync-iframe",name:"adsOptOut-sync-iframe",referrerPolicy:"strict-origin",sandbox:"allow-scripts allow-same-origin",src:"https://www.microsoft.com/store/XboxComMsCom3PAdsOptOutCookieSync.html",width:"0",height:"0",className:a.O}):null};var s,c=n(814),l=n.n(c),u=(n(64925),n(54819),n(87342)),d=n(12524),h=n.n(d),m=n(22736),p=n(70561),g=n(24155);!function(e){e[e.Information=0]="Information",e[e.Warning=1]="Warning",e[e.Error=2]="Error"}(s||(s={}));const f={[s.Warning]:g.E0.Warning,[s.Error]:g.E0.Warning},v=e=>{const t=e.link||"#",n=e.link?void 0:e.onClick;return r.createElement(m.Z.Link,{key:e.text,href:t,onClick:n,className:(0,g.W0)("margin","left",3)},e.text)},_=e=>{const{text:t,actions:n,closeAction:o,level:a=s.Information,contentTelemetry:i={}}=e,c=f[a],d=!!c&&(0,g.ut)(g.JE.Prepend,c),_=(0,u._d)(i,{contentName:"Alert",templateName:"AlertComponent"}),y=(e=>{switch(e){case s.Warning:return"warning";case s.Error:return"danger";default:return"info"}})(a);return r.createElement(m.Z,l()({className:h()([d,{"alert-dismissible":o}]),variant:y},(0,u.iZ)(_)),r.createElement("div",{className:"alert-content"},t,n&&n.map(v)),o&&(b=o,r.createElement(p.Z,{className:"close",bsPrefix:"close-btn","aria-label":b.text,"data-dismiss":"alert",onClick:b.onClick})));var b};var y=n(40380),b=n(55184);const E=function(e){const[t,n]=(0,r.useState)(!1);return r.createElement("div",{onKeyDown:e=>{(0,o.Ypc)(e.key,"escape")&&t&&(n(!1),e.stopPropagation(),e.preventDefault())}},r.createElement(b.Lx,null),r.createElement(y.c,l()(l()({},e),{},{isOpen:t,setIsOpen:n})))};n(35653);var C=n(54433),S=n(7158),T=n(40974),I=(n(77950),n(85940),n(68493));const w=e=>{let{to:t,status:n=302}=e;(0,I.WV)();return window.location.replace(t),null};var A=n(24923),k=n.n(A);const P=["title","titleId"],x=e=>{let{title:t,titleId:n}=e,o=k()(e,P);return r.createElement("svg",l()({width:"64px",height:"64px",viewBox:"0 0 64 64",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-labelledby":n},o),t?r.createElement("title",{id:n},t):null,r.createElement("g",{id:"PC",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"55.61 18.67 39.88 27.76 24.13 18.67 8.39 9.59 24.13 0.5 39.88 9.59 55.61 18.67"}),r.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"39.88 27.76 39.88 63.5 24.13 54.41 8.39 45.32 8.39 9.59 24.13 18.67 39.88 27.76"}),r.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"55.61 18.67 55.61 54.41 42.5 61.98 39.88 63.5 39.88 27.76 55.61 18.67"}),r.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"53.33 48.36 53.33 52.73 44.02 58.1 42.16 59.18 42.16 54.82 53.33 48.36"}),r.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"53.33 41.5 53.33 45.87 44.02 51.24 42.16 52.32 42.16 47.96 53.33 41.5"}),r.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"53.33 23.16 53.33 27.52 44.02 32.89 42.16 33.97 42.16 29.61 53.33 23.16"}),r.createElement("ellipse",{fill:"#FFFFFF",cx:"48.18",cy:"38.08",rx:"2.59",ry:"1.49",transform:"translate(-8.89 60.77) rotate(-60)"})))};var R=n(98900),N=n(8520),O=n(78489);const L=e=>{const{href:t,linkClassName:n,linkText:o,linkTextClassName:a}=e;return r.createElement(R.k,{"aria-label":o,as:"a",buttonType:N.L$.Tertiary,className:h()(O.DK,n),href:t},r.createElement("span",{className:a},o))};n(94908),n(14121),n(60523);var M=n(4517),D=n(74495),U=n(51295);const B=e=>{const t=(0,D.useSelector)(o.Yzi),n=new URL(e.to,o.V9f),a=(0,o.Sl8)(n.pathname,t),i=(0,o.Sph)(a);if(!(0,o.rpX)(n.host))return r.createElement(w,l()({},e));if(!i)return r.createElement(w,l()({},e));const s=`${a}${n.search}${n.hash}`;return e.status?r.createElement(U.B,{status:e.status},r.createElement(M.l_,{to:s})):r.createElement(M.l_,{to:s})};var F=n(18671);const H=()=>r.createElement(F.q,null,r.createElement("body",{className:"legacyBackground"}));var q=n(59158),G=n(98973);n(71372);const z=5e3,$=()=>r.createElement(G.h,null),X=e=>r.createElement(S.mf,{error:e}),V=e=>{const{timeoutInMilliseconds:t=z,renderLoading:n=$,renderError:o=X}=e,[a,i]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=setTimeout((()=>i(!0)),t);return()=>clearTimeout(e)}),[]),a?o(new Error(`Loading Page timed out. Timeout: ${t} ms`)):n()},W=e=>{const t=(0,M.k6)(),n=(0,M.TH)(),a=(0,D.useDispatch)(),i=(0,D.useSelector)(o.ZU_),s=(0,r.useRef)();(0,r.useEffect)((()=>{s.current===n||i||a(o.ej0.navigateToPath(n,s.current)),s.current=n}),[n,a,i]);const c=(0,r.useRef)(),l=(0,r.useRef)({direction:o.fEB.New});let u,d;if(n===c.current)d=l.current;else{if(c.current)switch(t.action){case"PUSH":u=o.fEB.Forward;break;case"POP":u=o.fEB.Back;break;case"REPLACE":u=o.fEB.Replace}else u=o.fEB.New;d={location:c.current,direction:u},c.current=n,l.current=d}return r.createElement(o.Gti.Provider,{value:d},e.children)};n(36728);var j=n(11372);const K=["className","children","xs","sm","md","lg","as"],Z=e=>{const{className:t,children:n,xs:o,sm:a,md:i,lg:s,as:c="div"}=e,u=k()(e,K),d=[];return o&&d.push(j[`col${o}`]),a&&d.push(j[`colSm${a}`]),i&&d.push(j[`colMd${i}`]),s&&d.push(j[`colLg${s}`]),d.length<1&&d.push(j.col),r.createElement(c,l()({className:h()(d,t)},u),n)};var Y=n(4945);const Q=["className","children","as"],J=["className","children","as"],ee=e=>{const{className:t,children:n,as:o="div"}=e,a=k()(e,Q);return r.createElement(o,l()({className:h()(Y.nC,t)},a),n)},te=r.forwardRef(((e,t)=>{const{className:n,children:o,as:a="div"}=e,i=k()(e,J);return r.createElement(a,l()({className:h()(Y.Oj,Y.nC,Y.oH,n),ref:t},i),o)}));var ne=n(5672);const re=["className","children","as"],oe=e=>{const{className:t,children:n,as:o="div"}=e,a=k()(e,re);return r.createElement(o,l()({className:h()(ne.O,t)},a),n)};var ae=n(81236),ie=n(20855);const se=e=>r.createElement("ul",{className:"accordion"},e.children);se.Collapse=e=>{const[t,n]=(0,r.useState)(!e.defaultCollapsed),o=e.customClassName||h()("accordion-header",(0,ae.W)("margin","left",2)),a=e.eventKey?`accordion-${e.eventKey}`:void 0;return r.createElement("li",null,r.createElement("h2",{className:o},r.createElement("button",{"aria-controls":a,"aria-expanded":t,className:h()(["btn","btn-collapse",ie.KF]),onClick:()=>{n(!t)},tabIndex:e.tabIndex},e.title)),r.createElement("div",{className:h()([ie.zY,t?ie.zh:ie.Il,{[ie.fm]:e.isScrollable}])},r.createElement("div",{id:a,className:h()(["accordion-body",(0,ae.W)("padding","left",0)])},e.children)))};n(99139);var ce=n(2565),le=n(94622),ue=n(72095),de=n(89872),he=n(13750);const me=e=>{let{buttonTitle:t,children:n,className:a,selectedChoicesCount:i}=e;const[s,c]=(0,r.useState)(!0),l={color:(0,D.useSelector)(o.gzb)===o.Q2A.Dark?"White":"Black",fontSize:"1rem"},u=r.createElement(le.Z,{"aria-hidden":!0,style:l}),d=r.createElement(ue.Z,{"aria-hidden":!0,style:l}),m=s?d:u;return r.createElement("div",{className:h()(he.nC,a)},r.createElement("button",{className:he.jW,onClick:()=>c(!s)},r.createElement("span",{className:h()(de.gC,he.WB)},t),r.createElement("div",{className:he.CM},!!i&&r.createElement("span",{className:he.g3},i),m)),!s&&n)};var pe=n(61030),ge=n(8249),fe=(n(34715),n(26464),n(19570),n(32036)),ve=n(67555);const _e=["containerProps","children","contentClassName","className","fluid"],ye=["className"],be=(0,r.forwardRef)(((e,t)=>{let{containerProps:n,children:o,contentClassName:a,className:i,fluid:s}=e,c=k()(e,_e);const u=null!==n&&void 0!==n?n:{},{className:d}=u,m=k()(u,ye);return o?r.createElement("div",l()({ref:t,className:h()(ve.be,d)},m),r.createElement(fe.t,l()({className:h()([ve.BH,s?ve.OZ:void 0,i])},c)),r.createElement("div",{className:h()(ve.kQ,a)},o)):r.createElement(fe.t,l()({className:h()([ve.BH,s?ve.OZ:void 0,i])},c))})),Ee=(0,r.memo)(be),Ce=n.p+"static/media/PlaceholderImage.7ebed917.svg",Se=["fallbackImage","containerProps","contentClassName","onError"],Te=e=>{let{fallbackImage:t,containerProps:n,contentClassName:o,onError:a}=e,i=k()(e,Se);const s=i.src||i.sources||i.srcSet,[c,u]=(0,r.useState)(!1),d=(0,r.useRef)(null),m=(0,r.useCallback)((()=>{u(!0)}),[]);(0,r.useEffect)((()=>{var e;const t=null===(e=d.current)||void 0===e?void 0:e.querySelectorAll("img");t&&0!==t.length&&t.forEach((e=>{e.complete&&0===e.naturalWidth&&0===e.naturalHeight&&m()}))}),[m]);const p=(0,r.useCallback)((e=>{null===a||void 0===a||a(e),m()}),[a,m]),g=(0,r.useMemo)((()=>l()(l()({},n),{},{className:h()(null===n||void 0===n?void 0:n.className)})),[n]);return r.createElement(r.Fragment,null,c||!s?"string"===typeof t?r.createElement(Ee,l()(l()({},i),{},{className:h()(i.className),src:t||Ce,srcSet:void 0,sources:void 0,onError:a,contentClassName:o,containerProps:g})):r.createElement("div",l()(l()({},n),{},{className:h()(ve.be,null===n||void 0===n?void 0:n.className)}),t,i.children&&r.createElement("div",{className:h()(ve.kQ,o)},i.children)):r.createElement(Ee,l()(l()({ref:d,containerProps:n,contentClassName:o},i),{},{onError:p})))};var Ie=n(76200);const we=["width","height","className","src","background","format","resizeMode","quality","padding","customBackupSrc","hideShadow","alt"],Ae=e=>{const{width:t,height:n,className:o,src:a,background:i,format:s,resizeMode:c,quality:u,padding:d,customBackupSrc:m,hideShadow:p,alt:g}=e,f=k()(e,we);let v=a&&(0,ge.I)(a,t,n,s,u,i,c,d)||m;v&&0===v.indexOf("http://")&&(v=v.replace("http://","https://"));const _=(0,pe.iV)("noCaptionAvailableAltText"),y=((e,t,n,o)=>{const a={width:e,height:t};return r.createElement("div",{className:h()(n,Ie.ro,{"depth-4":!o}),style:a},r.createElement("div",{className:h()("d-flex","justify-content-center","align-items-center",(0,b.Nl)("width",100),(0,b.Nl)("height",100))},r.createElement("p",{className:h()([(0,b.ut)(b.JE.Prepend,b.E0.XboxLogo),"text-center",(0,b.W0)("margin","bottom",0),Ie.xw])})))})(t,n,o,p);return r.createElement(Te,l()({alt:g||_,className:o,src:v,fallbackImage:y},f))};var ke,Pe=n(82717),xe=n(78817);!function(e){e.ButtonBorderLightGreen="border-light-green",e.ButtonBorderGreen="border-green",e.ButtonTextLightGreen="text-light-green",e.ButtonBackgroundLightGreen="bg-light-green",e.ProductCardBorder="border-black",e.TextGray="text-gray-900"}(ke||(ke={}));var Re=n(38205),Ne=n(8564);const Oe=e=>{const{text:t,className:n}=e,[a,i]=(0,r.useState)(!1),[s,c]=(0,r.useState)(!1),{moreText:l,lessText:u,moreTextAccessibilityLabel:d,lessTextAccessibilityLabel:m}=(0,pe.y_)("moreText","lessText","moreTextAccessibilityLabel","lessTextAccessibilityLabel"),g=(0,r.useRef)(null),f=(0,r.useRef)(null),v=(0,xe.df)();(0,r.useEffect)((()=>{(0,Re.j)(g,c,5)}),[v]);const _=(0,D.useSelector)(o.gzb)===o.Q2A.Dark,y=a?Pe.E0.RemoveFrom:Pe.E0.CirclePlus,b=a?Ne.Dk:Ne.d9;return r.createElement(r.Fragment,null,r.createElement("div",{className:h()(Ne.lr,n,Ne.nC,b)},r.createElement("p",{ref:f,className:h()(Ne.fL,b)},t),r.createElement("p",{ref:g,className:Ne.Y9},t)),s&&r.createElement(p.Z,{"aria-label":a?m:d,variant:"link",className:h()([(0,Pe.ut)(Pe.JE.Prepend,y),Ne.p4,{[ke.ButtonTextLightGreen]:_}]),onClick:()=>i(!a)},a?u:l))},Le=e=>{const t=`spinner-dot-${e}`;return r.createElement("span",{className:h()(["spinner-dot",t]),key:t,role:"presentation"})},Me=e=>{const{size:t}=e;return r.createElement("div",{className:h()(["spinner",{"spinner-lg":"lg"===t}]),role:"alert",tabIndex:-1,"aria-live":"assertive"},(e=>{const t=[];for(let n=0;n<e;n++)t.push(Le(n));return t})(7))};n(88682);var De=n(29934);let Ue,Be=0;const Fe=e=>{e===Be?He():console.warn("Attempt to hide a different banner blocked")},He=()=>{Ue((()=>null)),Be=0},qe=()=>{const[e,t]=(0,r.useState)((()=>()=>null));Ue=e=>t((()=>e));const n=e();return r.createElement("div",{id:"pageBannerContainer",className:h()(De.Cg,{[De.al]:!n},{[De.oP]:!!n})},n&&r.createElement("div",l()({},(0,u.iZ)({contentName:"Page Banner Container",templateName:"PageBannerComponent",contentType:"Banner"})),n))},Ge={displayBanner:e=>{Be&&console.warn("Double rendering banner. Another banner is already visible."),Ue(e);const t=(0,o.LUC)(1e3);return Be=t,()=>Fe(t)},hideAllBanners:He};var ze=n(87995),$e=n(2197);const Xe=e=>(0,ze.kV)(e&&(0,ze.NU)(e)),Ve=e=>{const t=(0,M.TH)(),n=(0,o._RZ)(t),a=(0,D.useSelector)(o._B2),i=(0,o.ByS)(a),s=(0,D.useSelector)((0,r.useCallback)((e=>{let t=(0,o.OLU)(e,n);return t===o.tVd&&"/"===n&&(t=(0,o.OLU)(e,i)),t}),[n,i]));let c;return s.hasContent?(s.isLoading,c=e.children||(()=>null)):c=s.isLoading?()=>(e=>e.renderLoadingOverride?e.renderLoadingOverride():r.createElement(G.h,null))(e):s.error?()=>((e,t)=>t.renderErrorOverride?t.renderErrorOverride(e):r.createElement(S.mf,{error:e,statusCode:Xe(e)}))(s.error,e):()=>r.createElement(V,null),r.createElement($e.W,{onNewNavigationOnly:!0,ignoreHash:!0},c())};var We=n(50421),je=n(71275),Ke=n(58264),Ze=n(12594),Ye=n(23667),Qe=n(72256);const Je=e=>{let{retryAction:t}=e;const{genericErrorMessage:n,tryAgainText:o}=(0,pe.y_)("genericErrorMessage","tryAgainText"),a=(0,M.k6)(),i=a.createHref(a.location);return(0,u.Li)(u.uZ.Retry,Ye.G.Retry,{data:{pageHref:i}}),r.createElement(je.Z,null,r.createElement(Ke.Z,{className:h()(Qe.t,"justify-content-center","align-items-center")},r.createElement(Ze.Z,{className:"col-12"},r.createElement("div",{className:h()(["text-center",(0,ae.W)("margin","topBottom",5)])},r.createElement("h3",null,n),r.createElement(ce.h,l()({"aria-label":o,className:h()("rounded-circle",(0,ae.W)("margin","top",4)),iconClassName:h()(Qe.O,"align-middle"),iconName:Pe.E0.Refresh,onClick:t},(0,u.iZ)({id:"RetryButton",contentName:o})))))))};var et,tt=n(82498);n(634),n(88233);!function(e){e.None="none",e.Follow="follow",e.Index="index",e.NoFollow="nofollow",e.NoIndex="noindex",e.NoImageIndex="noimageindex",e.NoArchive="noarchive",e.NoCache="nocache",e.NoSnippet="nosnippet"}(et||(et={}));const nt=e=>Array.isArray(e)?e.join(","):e,rt=e=>{let{title:t,keywords:n,description:a,robotsMetaTags:i,canonicalUrl:s}=e;const[c,l]=(0,pe.QF)("pageTitleTemplate","defaultPageTitle"),u=(0,o.WUZ)(c,"%s"),d=(e=>{const t=(0,M.TH)(),n=(0,D.useSelector)(o.Yzi);return e||new URL(`${n}${t.pathname}`.toLowerCase(),o.V9f).toString()})(s);return r.createElement(F.q,{titleTemplate:u,defaultTitle:l,title:t||void 0},a&&r.createElement("meta",{name:"description",content:a}),n&&r.createElement("meta",{name:"keywords",content:n}),i&&r.createElement("meta",{name:"robots",content:nt(i)}),r.createElement("link",{rel:"canonical",href:d}))},ot=()=>{const e=(0,M.TH)(),t=(0,o.L_O)(e);return t?r.createElement(rt,{title:t.title,description:t.description,robotsMetaTags:t.robots,keywords:t.keywords,canonicalUrl:t.canonicalUrl}):r.createElement(rt,{title:void 0})},at=()=>{const e=(0,o.Sph)();return e?e.seoComponent?r.createElement(M.AW,l()({},e),r.createElement(e.seoComponent,null)):null===e.seoComponent?null:r.createElement(ot,null):r.createElement(ot,null)};n(58115),n(21279);var it=n(43143);const st=["className","children","xs","sm","md","lg","xl","as"],ct=e=>{const{className:t,children:n,xs:o,sm:a,md:i,lg:s,xl:c,as:u="div"}=e,d=k()(e,st),m=[];return o&&m.push(it[`col${o}`]),a&&m.push(it[`colSm${a}`]),i&&m.push(it[`colMd${i}`]),s&&m.push(it[`colLg${s}`]),c&&m.push(it[`colXl${c}`]),m.length<1&&m.push(it.col),r.createElement(u,l()({className:h()(m,t)},d),n)};var lt=n(78070);const ut=["className","children","as"],dt=e=>{const{className:t,children:n,as:o="div"}=e,a=k()(e,ut);return r.createElement(o,l()({className:h()(lt.n,t)},a),n)};var ht=n(30032);const mt=e=>{const{children:t,contentTelemetry:n,displayedChildrenCountWhenCollapsed:o,footer:a,innerContainer:i="div"}=e,{showMore:s,showLess:c}=(0,pe.y_)("showMore","showLess"),[d,h]=(0,r.useState)(!0),m=t.slice(0,o),p=t.slice(o),g=d?s:c,f=(0,u._d)({behavior:d?u.cg.EXPAND:u.cg.REDUCE,contentName:g,contentType:u.zc.Button,id:"expandingListButton"},n);return r.createElement("div",null,r.createElement("div",{className:ht.Nl},r.createElement(i,null,m,r.createElement("div",{className:ht.jK}),!d&&p)),a&&r.createElement("div",{className:ht.Mv},a),r.Children.count(p)>0&&r.createElement(R.k,l()({as:"button",className:ht.o0,buttonSize:N.qE.Medium,buttonType:N.L$.Primary,overlayMode:N.gT.Solid,onClick:()=>{h(!d)}},(0,u.iZ)(f)),g))};var pt=n(61248),gt=n(7722),ft=n(73471),vt=(n(10264),n(97706));const _t=e=>{let{ariaLabel:t,ariaLabelledBy:n,children:o,className:a,closeable:i,initialFocusRef:s,fullscreenOnMobile:c,onCloseBtnClick:l,onHide:u,overlayClassName:d,closeContainerClassName:m,closeButtonClassName:p,show:g}=e;const{closeButtonText:f}=(0,pe.y_)("closeButtonText");return r.createElement(ft.t9,{className:h()(vt.DY,vt.Xu,d),isOpen:g,initialFocusRef:s,onDismiss:u},r.createElement(ft.cZ,{"aria-label":t,"aria-labelledby":n,className:h()(vt.K9,c?vt.VE:void 0)},r.createElement("div",{className:h()(vt.Tr,c?vt.vq:void 0,a)},o,i&&r.createElement("div",{className:h()(vt.tK,m)},r.createElement(pt.$,{as:"button","aria-label":f,className:p,icon:gt.Z,buttonType:N.L$.Tertiary,onClick:null!==l&&void 0!==l?l:u,title:f})))))};_t.Header=e=>{let{className:t,children:n}=e;return r.createElement("div",{className:h()(t,vt.X3)},n)},_t.Body=e=>{let{className:t,children:n}=e;return r.createElement("div",{className:h()(t,vt.o_)},n)};var yt=n(64514);const bt=["className","children","as"],Et=e=>{const{className:t,children:n,as:o="div"}=e,a=k()(e,bt);return r.createElement(o,l()({className:h()(yt.O,t)},a),n)};var Ct=n(32542),St=n(82008),Tt=n(64807);const It=e=>{const{innerTextAriaLabelOverride:t,href:n,linkClassName:o,linkIconClassName:a,linkIconSize:i,linkText:s,linkTextClassName:c,telemetryProps:d}=e,m=(0,u.iZ)((0,u._d)({behavior:u.cg.NAVIGATIONFORWARD,contentName:s,id:"ExternalLink"},d)),p=t||s;return r.createElement(R.k,l()({"aria-label":p,as:"a",buttonType:N.L$.Tertiary,className:h()(O.DK,o),href:n,rel:"noopener noreferrer"},m),r.createElement("span",{className:c},s),r.createElement(St.JO,{icon:Tt.Z,iconSize:null!==i&&void 0!==i?i:St.Jh.XXSmall,className:h()(O.IA,a)}))};var wt=n(40028)},44345:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});const r={gamepassPC:"e5ada363-6ac5-4c74-bc19-d8ed821aa5fd"}},48074:(e,t,n)=>{"use strict";n.d(t,{lO:()=>r,iB:()=>a,H6:()=>i,Q2:()=>s,Rm:()=>c,Kp:()=>o.K});var r;n(44345);!function(e){e.Unknown="Unknown",e.AppLoad="AppLoad",e.InteractiveSignIn="InteractiveSignIn",e.DeviceCodeSignIn="DeviceCodeSignIn",e.SilentSignIn="SilentSignIn",e.SignInUnavailable="SignInUnavailable",e.ConsentValuesUpdated="ConsentValuesUpdated"}(r||(r={}));var o=n(40762);const a={telemetry:"telemetry",authentication:"authentication",cookies:"cookies",session:"session",partners:"partners"};var i,s;!function(e){e[e.Undefined=0]="Undefined",e[e.Unknown=1]="Unknown",e[e.Other=2]="Other",e[e.Success=3]="Success",e[e.CallerError=4]="CallerError",e[e.TransportError=5]="TransportError",e[e.ServiceError=6]="ServiceError"}(i||(i={})),function(e){e.Light="Light",e.Dark="Dark",e.DarkHeader="DarkHeader"}(s||(s={}));const c="x-theme"},40762:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});const r=["AR","HE"]},49090:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});const r=(e,t)=>(null===e||void 0===e?void 0:e.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())},21997:(e,t,n)=>{"use strict";n.d(t,{By:()=>c,NR:()=>l,Oj:()=>u,my:()=>d,yu:()=>s});n(77950),n(31235),n(85940),n(9e4),n(64925),n(74407),n(26464),n(18339),n(54819),n(64903);var r=n(74495),o=n(71138),a=n(508),i=n(26049);const s=(e,t)=>`${e}-${t}`,c=e=>{const t=(0,r.useSelector)(o.Yz);return(0,i.S)(e,t)},l=e=>e.map((e=>e.replace(/ /g,"\xa0"))),u=(e,t)=>0===t.length?"":t.reduce(((t,n,r)=>r?(0,a.WU)(e,t,n):n),""),d=e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.filter((e=>e.toLowerCase().includes("adobe-"))).join("|"))&&void 0!==t?t:""}},37736:(e,t,n)=>{"use strict";n.d(t,{J6:()=>q,UV:()=>G,Gt:()=>he,vX:()=>g,zI:()=>f,we:()=>z,jm:()=>$,fE:()=>de,_M:()=>Ee,vP:()=>y,lT:()=>_,Ui:()=>b,V9:()=>v,Yp:()=>r.Y,Lx:()=>se,yu:()=>te.yu,MR:()=>ke,dF:()=>B,kT:()=>W,WU:()=>p.WU,my:()=>te.my,xG:()=>Y,vv:()=>p.vv,oB:()=>u,$E:()=>d,Nn:()=>Ae.N,ew:()=>ve,Sl:()=>Te.S,Yg:()=>ae,td:()=>Ie,lX:()=>we,NT:()=>m.N,hA:()=>oe,o8:()=>re.o,by:()=>U,rp:()=>Te.r,xU:()=>J.x,BH:()=>ue,r$:()=>A,lF:()=>x,qG:()=>F,Oj:()=>te.Oj,uQ:()=>p.uQ,VJ:()=>p.VJ,r5:()=>ce,kg:()=>ie,Av:()=>ee.A,nv:()=>pe.nv,Nx:()=>p.Nx,yy:()=>p.yy,LU:()=>Ce.L,Q2:()=>be,Nq:()=>pe.Nq,NR:()=>te.NR,as:()=>p.as,d8:()=>V,_O:()=>l,up:()=>P,CW:()=>N,$3:()=>O,UD:()=>w,$w:()=>k,HO:()=>R,Iz:()=>H,_R:()=>_e,vz:()=>me,aM:()=>h,Gq:()=>Se,By:()=>te.By,JD:()=>pe.JD,Fb:()=>ye,No:()=>X});var r=n(49090),o=n(2784),a=n(44345),i=(n(71372),n(77950),n(88233),n(94908),n(6886),n(14121),n(60523),n(74495)),s=n(4517),c=n(71138);n(34715),n(64925),n(26464),n(19570),n(54819);const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={};return e.forEach(((e,r)=>n[t?r.toLowerCase():r]=e)),n},u=(e,t)=>{let n;const r=t.toLowerCase();return e.forEach(((e,t)=>{n||r!==t.toLowerCase()||(n={value:e,originalKey:t})})),n},d=function(e){const t={};e.forEach(((e,n)=>t[n.toLowerCase()]={value:e,originalKey:n}));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.map((e=>t[e.toLowerCase()]))},h=e=>{var t;const n=(0,s.TH)(),r=new URLSearchParams(n.search);return null===(t=u(r,e))||void 0===t?void 0:t.value};var m=n(55147),p=n(508);const g="https://account.microsoft.com/billing/orders",f="https://www.microsoft.com",v="https://www.xbox.com",_="XboxInstaller.exe",y="https://aka.ms/XboxInstaller",b=`https://dlassets-ssl.xboxlive.com/public/content/XboxInstaller/${_}?productId={0}`,E="/auth/msa?action=logIn&returnUrl={returnUrl}",C="sandboxId",S=e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,p.uQ)(E,{returnUrl:encodeURIComponent(t)});const{coBrandEnable:o,coBrandId:a,sandboxId:i,prompt:s}=n;return o&&a&&(r+=`&cobrandid=${a}`),i&&(r+=`&sandboxId=${i}`),s&&(r+=`&prompt=${s}`),e?`/${e}${r}`:r},T=e=>(t,n)=>{let r=(0,p.uQ)("/auth/msa?action=logOut&returnUrl={returnUrl}",{returnUrl:encodeURIComponent(t)});return n&&(r+=`&sandboxId=${n}`),e?`/${e}${r}`:r},I=e=>(t,n)=>S(e)(t,{sandboxId:n}),w=()=>{const e=(0,s.TH)(),t=(0,i.useSelector)(c.Yz),n=(0,i.useSelector)(c.Xn).origin;if(!(0,m.N)())return window.location.href;const r=new URL(`/${t}${e.pathname}`,n);return r.search=e.search,r.toString()},A=e=>S(e),k=()=>{const e=(0,i.useSelector)(c.Yz);return A(e)},P=e=>{const t=w(),n=h(C),r=(0,i.useSelector)(c.Yz);return A(r)(e||t,{sandboxId:n})},x=e=>T(e),R=()=>{const e=(0,i.useSelector)(c.Yz);return x(e)},N=e=>{const t=w(),n=h(C),r=(0,i.useSelector)(c.Yz);return x(r)(e||t,n)},O=e=>{const t=w(),n=h(C),r=(e=>I(e))((0,i.useSelector)(c.Yz));return r(e||t,n)},L="/account/signin",M="/account/signout",D="/accountcreation";function U(e){return"https://account.xbox.com"===e.origin&&[L,M,D].includes(e.pathname.toLowerCase())}function B(e,t){var n,r;if(!U(e))throw new Error("URL is not a V1 auth URL.");const o=e.pathname.toLowerCase(),a=null!==(n=e.searchParams.get("sbx"))&&void 0!==n?n:void 0,i=null!==(r=e.searchParams.get("cobrandid"))&&void 0!==r?r:void 0,s=window.location.href;if(o===L)return S(t)(s,{sandboxId:a,coBrandId:i,coBrandEnable:void 0!==i});if(o===M)return T(t)(s,a);if(o===D)return I(t)(s,a);throw new Error(`Unexpected path name: "${o}"`)}const F=e=>{const t=A(e);return e=>t(e,{sandboxId:void 0,coBrandEnable:!0,coBrandId:a.X.gamepassPC})},H=()=>{const e=k();return(0,o.useCallback)((t=>e(t,{sandboxId:void 0,coBrandEnable:!0,coBrandId:a.X.gamepassPC})),[e])};n(44112),n(48166),n(52856),n(45162),n(57610);const q="3PAdsOptOut",G="cartMuid",z="MSCC",$="MUID",X=".xbox.com";function V(e){let{name:t,value:n,expires:r,path:o,domain:a,secure:i,sameSite:s,sessionCookie:c}=e;const l=r instanceof Date?r:(e=>{const t=new Date;return t.setDate(t.getDay()+(e||45)),t})(45),u=null!==o&&void 0!==o?o:"/",d=null===i||void 0===i||i,h=null!==a&&void 0!==a?a:window.location.hostname;let m=`${t}=${n}`;!0!==c&&(m+=`; expires=${l.toUTCString()}`),m+=`; path=${u}`,m+=`; domain=${h}`,d&&(m+="; secure"),s&&(m+=`; samesite=${s}`),document.cookie=m}function W(e,t,n){(function(e){return document.cookie.split("; ").some((t=>t.startsWith(`${e}=`)))})(e)&&(document.cookie=`${e}=${t?`;path=${t}`:""}${n?`;domain=${n}`:""};expires=Thu, 01 Jan 1970 00:00:00 GMT`)}n(61657),n(85940);const j=JSON.parse('{"usd~en-us~us":["$",",",".","2",""],"eur~de-de~de":["",".",",","2"," \u20ac"],"gbp~en-gb~gb":["\xa3",",",".","2",""],"brl~pt-br~br":["R$",".",",","2",""],"eur~fr-fr~fr":["","\xa0",",","2"," \u20ac"],"eur~it-it~it":["",".",",","2"," \u20ac"],"mxn~es-mx~mx":["$",",",".","2",""],"jpy~ja~jp":["\xa5",",","","0",""],"rub~ru~ru":["","\xa0",",","2"," \u20bd"],"aud~en-au~au":["$",",",".","2",""],"cad~en-ca~ca":["$",",",".","2",""],"eur~es-es~es":["",".",",","2"," \u20ac"],"cny~zh-hans-cn~cn":["\xa5",",",".","2",""],"eur~nl-nl~nl":["\u20ac ",".",",","2",""],"pln~pl~pl":["","\xa0",",","2"," z\u0142"],"chf~de-ch~ch":["CHF ","\'",".","2",""],"try~tr~tr":["",".",",","2"," \u20ba"],"ars~es-ar~ar":["$ ",".",",","2",""],"cad~en-us~ca":["$",",",".","2",""],"cny~zh-cn~cn":["\xa5",",",".","2",""],"vnd~vi~vn":["",".",",","2"," \u20ab"],"czk~cs~cz":["","\xa0",",","2"," K\u010d"],"inr~en-in~in":["\u20b9 ",",",".","2",""],"cad~fr-ca~ca":["","\xa0",",","2"," $"],"sek~sv-se~se":["",".",",","2"," kr"],"dkk~da~dk":["",".",",","2"," kr."],"eur~pt-pt~pt":["","\xa0",",","2"," \u20ac"],"gbp~en-us~gb":["\xa3",",",".","2",""],"eur~de-at~at":["\u20ac ",".",",","2",""],"krw~ko~kr":["\u20a9",",","","0",""],"eur~nl-be~be":["\u20ac ",".",",","2",""],"nok~nb~no":["kr ","\xa0",",","2",""],"mxn~es-es~mx":["$",",",".","2",""],"huf~hu~hu":["","\xa0",",","2"," HUF"],"aud~en-us~au":["$",",",".","2",""],"eur~fr-be~be":["",".",",","2"," \u20ac"],"eur~fi~fi":["","\xa0",",","2"," \u20ac"],"cop~es-co~co":["$",".","","0",""],"clp~es-cl~cl":["$",".","","0",""],"nzd~en-nz~nz":["$",",",".","2",""],"chf~fr-ch~ch":["CHF ","\xa0",".","2",""],"twd~zh-hant-tw~tw":["NT$",",",".","2",""],"ars~es-es~ar":["$ ",".",",","2",""],"usd~en-gb~us":["$",",",".","2",""],"pen~es-pe~pe":["S/.",",",".","2",""],"idr~id~id":["Rp",".","","0",""],"eur~en-ie~ie":["\u20ac",",",".","2",""],"eur~el~gr":["",".",",","2"," \u20ac"],"eur~de-de~at":["\u20ac ",".",",","2",""],"inr~en-us~in":["\u20b9 ",",",".","2",""],"idr~en-us~id":["Rp",".","","0",""],"eur~sk~sk":["","\xa0",",","2"," \u20ac"],"zar~en-za~za":["R","\xa0",",","2",""],"vnd~en-us~vn":["\u20ab",",",".","2",""],"php~en-ph~ph":["\u20b1",",",".","2",""],"ils~he~il":["\u202a\u20aa\u200e",",",".","2","\u202c"],"sar~ar-sa~sa":["\u202a\u0631.\u0633.\u200f\u200e",",",".","2","\u202c"],"ron~ro-ro~ro":["",".",",","2"," RON"],"usd~en-ca~us":["$",",",".","2",""],"uah~ru~ua":["","\xa0",",","2"," \u20b4"],"hkd~zh-hant-hk~hk":["HK$",",",".","2",""],"usd~es-ec~ec":["$",".",",","2",""],"thb~th~th":["\u0e3f",",",".","2",""],"sgd~en-sg~sg":["SG$",",",".","2",""],"mxn~en-us~mx":["$",",",".","2",""],"uah~es-es~ua":["","\xa0",",","2"," \u20b4"],"rub~en-us~ru":["","\xa0",",","2"," \u20bd"],"usd~pt-br~us":["",".",",","2"," $"],"chf~de-de~ch":["CHF ","\'",".","2",""],"usd~en-in~us":["$",",",".","2",""],"crc~es-cr~cr":["\u20a1",".","","0",""],"eur~es-mx~es":["",".",",","2"," \u20ac"],"cny~en-us~cn":["\xa5",",",".","2",""],"hrk~hr-hr~hr":["",".",",","2"," kn"],"usd~ru~us":["",".",",","2"," $"],"cad~fr-fr~ca":["","\xa0",",","2"," $"],"brl~en-us~br":["R$",".",",","2",""],"egp~ar-eg~eg":["\u202a\u062c.\u0645.\u200f\u200e",",",".","3","\u202c"],"eur~en-us~nl":["\u20ac ",".",",","2",""],"eur~en-us~de":["",".",",","2"," \u20ac"],"eur~sl~si":["",".",",","2"," \u20ac"],"eur~de-at~de":["",".",",","2"," \u20ac"],"nzd~en-us~nz":["$",",",".","2",""],"twd~zh-tw~tw":["NT$",",",".","2",""],"usd~zh-cn~us":["",".",",","2"," $"],"aud~en-gb~au":["$",",",".","2",""],"usd~es-us~us":["$",",",".","2",""],"cop~es-es~co":["$",".","","0",""],"myr~en-my~my":["RM",",",".","2",""],"eur~fr-fr~be":["",".",",","2"," \u20ac"],"uah~en-us~ua":["","\xa0",",","2"," \u20b4"],"eur~nl-nl~be":["\u20ac ",".",",","2",""],"idr~en-id~id":["Rp",".","","0",""],"gbp~pl~gb":["\xa3",",",".","2",""],"usd~en-us~ae":["$",",",".","2",""],"usd~es-mx~us":["",".",",","2"," $"],"eur~en-us~gr":["",".",",","2"," \u20ac"],"uah~ko~ua":["","\xa0",",","2"," \u20b4"],"uah~uk~ua":["","\xa0",",","2"," \u20b4"],"usd~ko~us":["",".",",","2"," $"],"bgn~bg~bg":["","\xa0",",","2"," \u043b\u0432."],"zar~en-us~za":["R","\xa0",",","2",""],"inr~en-gb~in":["\u20b9 ",",",".","2",""],"usd~es-ve~ve":["$",",",".","2",""],"ils~en-us~il":["\u20aa",",",".","2",""],"clp~es-es~cl":["$",".","","0",""],"eur~en-my~de":["",".",",","2"," \u20ac"],"nok~nb-no~no":["kr ","\xa0",",","2",""],"ron~en-us~ro":["",".",",","2"," RON"],"usd~vi~us":["",".",",","2"," $"],"usd~de-de~us":["",".",",","2"," $"],"php~en-us~ph":["\u20b1",",",".","2",""],"rsd~sr-latn-rs~rs":["",".","","0"," RSD"],"eur~fi-fi~fi":["","\xa0",",","2"," \u20ac"],"usd~en-au~us":["$",",",".","2",""],"usd~es-es~ve":["$",",",".","2",""],"eur~en-gb~de":["",".",",","2"," \u20ac"],"eur~en-us~fr":["","\xa0",",","2"," \u20ac"],"usd~es-es~us":["",".",",","2"," $"],"eur~et~ee":["","\xa0",",","2"," \u20ac"],"jpy~en-us~jp":["\xa5",",","","0",""],"eur~lt~lt":["","\xa0",",","2"," \u20ac"],"pen~es-es~pe":["S/.",",",".","2",""],"pkr~en-us~pk":["Rs",",","","0",""],"usd~ar-sa~us":["",".",",","2"," $"],"usd~es-gt~gt":["$",",",".","2",""],"jpy~ja-jp~jp":["\xa5",",","","0",""],"sek~en-us~se":["","\xa0",",","2"," kr"],"eur~en-us~it":["",".",",","2"," \u20ac"],"eur~en-us~ie":["\u20ac",",",".","2",""],"usd~ru~by":["$",",",".","2",""],"usd~es-uy~uy":["$",",",".","2",""],"usd~es-es~ec":["$",".",",","2",""],"eur~de-ch~de":["",".",",","2"," \u20ac"],"vnd~pt-br~vn":["\u20ab",",",".","2",""],"chf~en-us~ch":["CHF ",".",",","2",""],"usd~fa~us":["",".",",","2"," $"],"chf~it-ch~ch":["CHF ","\'",".","2",""],"jod~ar-jo~jo":["\u202a\u062f.\u0627.\u200f\u200e",",",".","3","\u202c"],"usd~es-do~do":["$",",",".","2",""],"uah~ru-ua~ua":["","\xa0",",","2"," \u20b4"],"usd~ar-kw~us":["",".",",","2"," $"],"eur~en-us~be":["",".",",","2"," \u20ac"],"jpy~zh-hans-cn~jp":["\xa5",",","","0",""],"myr~en-us~my":["RM",",",".","2",""],"dkk~da-dk~dk":["",".",",","2"," kr."],"iqd~ar-iq~iq":["\u202a\u062f.\u0639.\u200f\u200e",",",".","2","\u202c"],"nok~en-us~no":["kr ","\xa0",",","2",""],"usd~ja~us":["",".",",","2"," $"],"eur~en-gb~ie":["\u20ac",",",".","2",""],"gbp~en-in~gb":["\xa3",",",".","2",""],"eur~en-gb~nl":["\u20ac ",".",",","2",""],"dkk~en-us~dk":["",".",",","2"," kr."],"kwd~en-us~kw":["\u202a\u062f.\u0643.\u200f\u200e",",",".","3","\u202c"],"rsd~en-us~rs":["",".",",","2"," \u0434\u0438\u043d."],"usd~id~us":["",".",",","2"," $"],"dzd~fr-fr~dz":["","\xa0",",","2"," DA"],"eur~en-us~es":["",".",",","2"," \u20ac"],"kzt~ru~kz":["","\xa0",",","2"," \u20b8"],"bdt~en-us~bd":["",",",".","2","\u09f3"],"chf~fr-fr~ch":["CHF ","\xa0",".","2",""],"iqd~en-us~iq":["\u202a\u062f.\u0639.\u200f\u200e",",",".","2","\u202c"],"eur~en-gb~fr":["","\xa0",",","2"," \u20ac"],"bgn~en-us~bg":["","\xa0",",","2"," \u043b\u0432."],"eur~es-co~es":["",".",",","2"," \u20ac"],"pln~en-us~pl":["","\xa0",",","2"," z\u0142"],"usd~en-id~us":["$",",",".","2",""],"ars~es-419~ar":["$ ",".",",","2",""],"huf~it-it~hu":["","\xa0",",","2"," HUF"],"usd~es-sv~sv":["$",",",".","2",""],"mad~fr-fr~ma":["",".",",","2"," DH"],"rub~zh-cn~ru":["","\xa0",",","2"," \u20bd"],"ttd~en-tt~tt":["$",",",".","2",""],"eur~en-us~lt":["","\xa0",",","2"," \u20ac"],"usd~en-ph~us":["$",",",".","2",""],"usd~sv-se~us":["",".",",","2"," $"],"zar~en-gb~za":["R","\xa0",",","2",""],"eur~en-gb~es":["",".",",","2"," \u20ac"],"usd~nl-nl~us":["",".",",","2"," $"],"eur~nl-be~nl":["\u20ac ",".",",","2",""],"hrk~en-us~hr":["",".",",","2"," kn"],"nzd~en-au~nz":["$",",",".","2",""],"usd~es-es~uy":["$",",",".","2",""],"usd~ru-by~by":["$",",",".","2",""],"usd~en-us~ke":["$",",",".","2",""],"usd~es-ec~us":["",".",",","2"," $"],"eur~en-gb~pt":["","\xa0",",","2"," \u20ac"],"pkr~en-gb~pk":["Rs",",","","0",""],"pkr~en-pk~pk":["Rs",",","","0",""],"rub~ru-ru~ru":["","\xa0",",","2"," \u20bd"],"twd~en-us~tw":["NT$",",",".","2",""],"usd~zh-hans-cn~us":["",".",",","2"," $"],"czk~en-us~cz":["","\xa0",",","2"," K\u010d"],"eur~en-gb~it":["",".",",","2"," \u20ac"],"eur~en-us~pt":["","\xa0",",","2"," \u20ac"],"sek~en-gb~se":["","\xa0",",","2"," kr"],"usd~en-gb~ae":["$",",",".","2",""],"usd~en-us~lk":["$",",",".","2",""],"usd~es-pa~pa":["$",",",".","2",""],"eur~fr-ch~fr":["","\xa0",",","2"," \u20ac"],"usd~en-gb~ng":["$",",",".","2",""],"eur~en-gb~be":["",".",",","2"," \u20ac"],"eur~en-us~fi":["","\xa0",",","2"," \u20ac"],"eur~ru~de":["",".",",","2"," \u20ac"],"jod~en-us~jo":["\u202a\u062f.\u0627.\u200f\u200e",",",".","3","\u202c"],"pln~en-gb~pl":["","\xa0",",","2"," z\u0142"],"pln~pl-pl~pl":["","\xa0",",","2"," z\u0142"],"usd~fr-fr~re":["$",",",".","2",""],"omr~ar-sa~om":["\u0631.\u0639.\u200f\u200e ",",",".","3",""],"usd~ko-us~us":["",".",",","2"," $"],"kzt~kk-kz~kz":[""," ",",","2"," \u20b8"],"eur~de-de~lu":["",".",",","2"," \u20ac"],"uah~ru-ru~ua":[""," ",",","2"," \u20b4"],"kzt~ru-kz~kz":[""," ",",","2"," \u20b8"],"jod~ar-sa~jo":["\u202a\u062f.\u0627.\u200f\u200e",",",".","3","\u202c"],"eur~en-us~me":["",".",",","2"," \u20ac"],"eur~en-us~si":["",".",",","2"," \u20ac"],"rub~en-us~by":[""," ",",","2"," \u20bd"],"crc~es-es~cr":["\u20a1",".","","0",""],"eur~tr-tr~cy":["",".",",","2"," \u20ac"],"usd~fa-us~us":["",".",",","2"," $"],"ils~he-il~il":["\u202a\u20aa\u200e",",",".","2","\u202c"],"eur~hr-hr~hr":["",".",",","2"," \u20ac"],"mad~ar-sa~ma":["\u062f.\u0645.\u200f\u200e ",",",".","2",""],"try~tr-tr~tr":["",".",",","2"," \u20ba"],"uah~uk-ua~ua":[""," ",",","2"," \u20b4"],"eur~en-us~mt":["\u20ac",",",".","2",""],"eur~sk-sk~sk":[""," ",",","2"," \u20ac"],"qar~en-us~qa":["QAR",",",".","2",""],"eur~ru-de~de":["",".",",","2"," \u20ac"],"bgn~bg-bg~bg":[""," ",",","2"," \u043b\u0432."],"eur~en-us~sk":[""," ",",","2"," \u20ac"],"eur~en-us~ee":[""," ",",","2"," \u20ac"],"eur~el-gr~gr":["",".",",","2"," \u20ac"],"bhd~ar-sa~bh":["\u202aBD \u200f\u200e",",",".","3","\u202c"],"eur~sr-latn-rs~me":["",".",",","2"," \u20ac"],"usd~id-us~us":["",".",",","2"," $"],"eur~el-gr~cy":["",".",",","2"," \u20ac"],"krw~ko-kr~kr":["\u20a9",",","","0",""],"usd~vi-us~us":["",".",",","2"," $"],"eur~lv-lv~lv":[""," ",",","2"," \u20ac"],"uah~ko-ua~ua":[""," ",",","2"," \u20b4"],"gtq~es-es~gt":["Q",",",".","2",""],"ttd~en-us~tt":["TT$",",",".","2",""],"isk~en-us~is":["kr.",",",".","2",""],"omr~en-us~om":["",",",".","3","\u0631.\u0639."],"thb~th-th~th":["\u0e3f",",",".","2",""],"myr~ms-my~my":["RM",",",".","2",""],"mkd~en-us~mk":["\u0434\u0435\u043d ",".",",","2",""],"mkd~bg-bg~mk":["\u0434\u0435\u043d ",".",",","2",""],"tnd~fr-fr~tn":[""," ",",","3"," DT"],"usd~ja-us~us":["",".",",","2"," $"],"eur~fr-fr~lu":["",".",",","2"," \u20ac"],"krw~en-us~kr":["\u20a9",",","","0",""],"gbp~pl-gb~gb":["\xa3",",",".","2",""],"uyu~es-es~uy":["$U ",".",",","2",""],"ils~ar-sa~il":["\u20aa\u200e ",",",".","2","\u202c"],"tnd~ar-sa~tn":["\u062f.\u062a.\u200f\u200e ",",",".","3",""],"eur~sv-se~fi":[""," ",",","2"," \u20ac"],"czk~cs-cz~cz":[""," ",",","2"," K\u010d"],"vnd~vi-vn~vn":["",".",",","2"," \u20ab"],"lkr~en-us~lk":["\u0dbb\u0dd4.",",",".","2",""],"bhd~en-us~bh":["BD",",",".","3",""],"huf~hu-hu~hu":[""," ",",","2"," HUF"],"kwd~ar-sa~kw":["\u202a\u062f.\u0643.\u200f\u200e",",",".","3","\u202c"],"inr~hi-in~in":["\u20b9",",",".","2",""],"pyg~es-es~py":["\u20b2 ",".","","0",""],"usd~ru-us~us":["",".",",","2"," $"],"idr~id-id~id":["Rp",".","","0",""],"mkd~sr-latn-rs~mk":["\u0434\u0435\u043d ",".",",","2",""],"eur~et-ee~ee":[""," ",",","2"," \u20ac"],"kes~en-us~ke":["Ksh",",",".","2",""],"eur~en-us~lv":[""," ",",","2"," \u20ac"],"rub~ru-ru~by":[""," ",",","2"," \u20bd"],"eur~en-us~cy":["\u20ac",",",".","2",""],"eur~lt-lt~lt":[""," ",",","2"," \u20ac"],"eur~sl-si~si":["",".",",","2"," \u20ac"],"try~en-us~tr":["",".",",","2"," \u20ba"],"kzt~ru-ru~kz":[""," ",",","2"," \u20b8"],"eur~es-es~pa":["",".",",","2"," \u20ac"],"gtq~es-gt~gt":["Q",",",".","2",""],"ngn~en-us~ng":["\u20a6",",",".","2",""],"dzd~ar-sa~dz":["\u062f.\u062c.\u200f\u200e ",",",".","2",""],"qar~ar-sa~qa":["\u0631.\u0642.\u200f\u200e ",",",".","2",""],"eur~en-us~hr":["",".",",","2"," \u20ac"]}'),K={AUD:"AU",NZD:"NZ",TWD:"TW"},Z={USD:["$",",",".","2",""],CHF:["CHF ","'",".","2",""],NZD:["$",",",".","2",""],SAR:["\u202a\u0631.\u0633.\u200f\u200e",",",".","2",""],EGP:["\u202a\u062c.\u0645.\u200f\u200e",",",".","3",""],THB:["\u0e3f",",",".","2",""],SGD:["SG$",",",".","2",""],HKD:["HK$",",",".","2",""]},Y=(e,t,n)=>{if(isNaN(e))throw new Error(`Invalid price passed to format currency: ${e}`);const r=Q(t,n);if(r){const t=e.toFixed(r.precision).replace(".",r.separator).replace(/\B(?=(\d{3})+(?!\d))/g,r.thousandSeparator);return r.beforePrice+t+r.afterPrice}return Intl?new Intl.NumberFormat(n.localeWithScript,{style:"currency",currency:t}).format(e):`${t} ${e}`},Q=(e,t)=>{let{market:n,language:r,locale:o}=t;const a=j[`${e.toLowerCase()}~${o.toLowerCase()}~${n.toLowerCase()}`]||j[`${e.toLowerCase()}~${r.toLowerCase()}~${n.toLowerCase()}`]||Z[e.toUpperCase()];if(a){if("US"!==n.toUpperCase()&&"CL"!==n.toUpperCase()){const t=K[e.toUpperCase()]||e.toUpperCase();if("USD"===t&&"$"===a[0])a[0]="USD$";else if("USD"===t&&" $"===a[4])a[4]=" $USD";else if("$"===a[0]||"$ "===a[0]){const e="CAD"===t;a[0]=t+(e?" ":"")+a[0]}else" $"===a[4]&&(a[4]=` $${t}`)}return{beforePrice:a[0],thousandSeparator:a[1],separator:a[2],precision:a[3],afterPrice:a[4]}}};var J=n(8478),ee=n(69459),te=n(21997),ne=n(48074),re=n(32017);const oe=e=>e>=200&&e<400,ae=e=>{let t=ne.H6.Undefined;return t=(0,re.o)(e)?ne.H6.Unknown:0===e?ne.H6.TransportError:e>=100&&e<200?ne.H6.Other:e>=200&&e<400?ne.H6.Success:e>=400&&e<500?ne.H6.CallerError:e>=500?ne.H6.ServiceError:ne.H6.Unknown,t},ie=e=>e?e.trim().toUpperCase():"",se=(e,t,n)=>{let r=ie(e);return t&&(r+=`/${ie(t)}`,n&&(r+=`/${ie(n)}`)),r},ce=e=>{const t=(0,p.fy)(e,"/");return t||"home"};n(82488),n(9e4),n(30390),n(18339);var le=n(21883);const ue=(e,t)=>{let n;return e.every((e=>(0,le.isNotRequested)(e)))?n=t.isNotRequested?t.isNotRequested(e):void 0:e.find((e=>(0,le.isFetching)(e)))?n=t.isFetching?t.isFetching(e.filter((e=>(0,le.isFetching)(e)))):void 0:e.find((e=>(0,le.isError)(e)))?n=t.error?t.error(e.filter((e=>(0,le.isError)(e)))):void 0:e.every((e=>(0,le.isContent)(e)))&&(n=t.content?t.content(e):void 0),n||(n=t.default?t.default(e):void 0),n};var de;!function(e){e[e.New=0]="New",e[e.Forward=1]="Forward",e[e.Replace=2]="Replace",e[e.Back=3]="Back"}(de||(de={}));const he=(0,o.createContext)({direction:de.New}),me=()=>(0,o.useContext)(he);var pe=n(11348),ge=(n(74069),n(59496)),fe=n(74990);const ve=(e,t)=>{var n;return e.formatPageId?e.formatPageId(e,t):(null===(n=e.match)||void 0===n?void 0:n.url)||"/"},_e=e=>{const t=(0,i.useSelector)(ge.Tr),n=(0,i.useSelector)(c.Yz);let r;try{r=(0,fe.o$)(e.pathname,t,void 0,n)}catch(o){}return void 0!==r?ve(r,n):e.pathname||"/"};n(73439),n(21515);const ye=(e,t)=>{let n;const r=new Promise(((t,r)=>{n=setTimeout((()=>{r(new Error(`Promise timed out in ${e} ms.`))}),e)}));return Promise.race([t,r]).finally((()=>{n&&clearTimeout(n)}))},be=()=>new Promise(((e,t)=>t()));var Ee,Ce=n(23483);!function(e){e.Idle="idle",e.Loading="loading",e.Ready="ready",e.Error="error"}(Ee||(Ee={}));const Se=(e,t)=>{const[n,r]=(0,o.useState)(e?Ee.Loading:Ee.Idle);return(0,o.useEffect)((()=>{if(!e)return void r(Ee.Idle);let n=document.querySelector(`script[src="${e}"]`);if(n)r(n.getAttribute("data-status"));else{n=document.createElement("script"),t&&n.setAttribute("type","module"),n.src=e,n.async=!0,n.setAttribute("data-status","loading"),document.body.appendChild(n);const r=e=>{null===n||void 0===n||n.setAttribute("data-status","load"===e.type?Ee.Ready:Ee.Error)};n.addEventListener("load",r),n.addEventListener("error",r)}const o=t=>{r("load"===t.type?Ee.Ready:Ee.Error),"load"!==t.type&&(console.log(`${e} script failed to load`),document.body.removeChild(n))};return n.addEventListener("load",o),n.addEventListener("error",o),()=>{n&&(n.removeEventListener("load",o),n.removeEventListener("error",o))}}),[e,t]),n};var Te=n(26049);n(31235);const Ie=()=>null===window||void 0===window?void 0:window.navigator.userAgent.toLowerCase().includes("windows"),we=()=>{const e=null===window||void 0===window?void 0:window.navigator.userAgent.toLowerCase();return e.includes("windows 10")||e.includes("windows nt 10")||e.includes("windows 11")||e.includes("windows nt 11")};var Ae=n(84338);const ke=(e,t)=>{const n=!!(null===t||void 0===t?void 0:t.every((t=>e.consentState[t])));return!e.isConsentRequired||n}},11348:(e,t,n)=>{"use strict";n.d(t,{JD:()=>l,Nq:()=>c,nv:()=>d,wH:()=>u});var r=n(24923),o=n.n(r),a=n(47739),i=n.n(a),s=(n(64925),n(74407),n(26464),n(54819),n(64903),n(32017));const c=e=>Object.keys(e).reduce(((t,n)=>{const r=e[n];return(0,s.o)(r)||(t[n]=r),t}),{}),l=e=>Object.keys(e).reduce(((t,n)=>(t[n.toLowerCase()]=e[n],t)),{}),u=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d=(e,t)=>{const{[t]:n}=e;return o()(e,[t].map(i()))}},508:(e,t,n)=>{"use strict";n.d(t,{Nx:()=>o,VJ:()=>c,WU:()=>i,as:()=>u,fy:()=>l,uQ:()=>a,vv:()=>s,yy:()=>d});n(71372),n(36728),n(68995),n(17368),n(24471),n(77950),n(88233),n(74069),n(85940),n(79727),n(34715),n(26464),n(19570);var r=n(2784);const o=e=>{try{return!!(e&&JSON.parse(e.toLowerCase()))}catch(t){return!1}},a=(e,t)=>{let n=e;return t&&Object.keys(t).forEach((e=>{const r=new RegExp(`\\{${e}\\}`,"gi");n=n.replace(r,t[e]||"")})),n},i=function(e){let t=e;for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach(((e,n)=>{t=t.replace(new RegExp(`\\{${n}\\}`,"g"),e)})),t},s=function(e){const t=/{(\d+)}/g;let n,o=0;const a=[];let i=0;for(var s=arguments.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=arguments[l];for(;null!==(n=t.exec(e));){a.push(r.createElement(r.Fragment,null,e.substring(o,n.index)));if(void 0===c[parseInt(n[1],10)])throw new Error("Number of input params is lesser than the format string params");a.push(c[parseInt(n[1],10)]),o=t.lastIndex,i++}if(i!==c.length)throw new Error("Number of input params is greater than the format string params");return a.push(r.createElement(r.Fragment,null,e.substring(o))),a},c=(e,t)=>{const n=[];let o,a=0;const i=[];Object.keys(t).forEach((e=>{i.push(`\\{${e}\\}`)}));const s=new RegExp(i.join("|"),"gi");for(;null!==(o=s.exec(e));){n.push(r.createElement(r.Fragment,null,e.substring(a,o.index)));const i=t[o[0].substring(1,o[0].length-1)];n.push(i),a=s.lastIndex}return n.push(r.createElement(r.Fragment,null,e.substring(a))),n},l=(e,t)=>((e,t)=>e&&0!==e.indexOf(t)?e:e?e.substr(t.length):"")(((e,t)=>e&&e.lastIndexOf(t)!==e.length-t.length?e:e?e.substr(0,e.length-t.length):"")(e,t),t),u=e=>{if(e)try{return JSON.parse(e)}catch(t){}},d=(e,t)=>{const n=new RegExp("(?:\\[\\[([0-9\\*]+)\\]([^\\]]*?)\\])"),r=new RegExp("\\[\\[\\*\\]([^\\]]*?)\\]");if(!e.match(n))return i(e,t.toString());const o=new RegExp(`\\[\\[${t}\\]([^\\]]*?)\\]`);let a=e.match(o);return a||(a=e.match(r)),a?i(a[1],t.toString()):void 0}},26049:(e,t,n)=>{"use strict";n.d(t,{S:()=>r,r:()=>o});n(17368),n(24471),n(77950),n(88233),n(74069);const r=(e,t)=>{if(e===`/${t}`)return"/";const n=new RegExp(`^(/${t})?(/.*)$`,"i"),r=e.match(n);return r?r[2]:e},o=e=>!e||"www.xbox.com"===e||e===window.location.host},16216:(e,t,n)=>{"use strict";n.d(t,{J6I:()=>u.J6,zHJ:()=>C.zH,Mji:()=>S.Mj,zGj:()=>C.zG,kac:()=>C.k,UVO:()=>u.UV,PJd:()=>c,pb1:()=>S.pb,lO9:()=>r.lO,vCX:()=>C.vC,Gti:()=>u.Gt,vXL:()=>u.vX,zIV:()=>u.zI,weN:()=>u.we,jmv:()=>u.jm,cP9:()=>S.cP,fEB:()=>u.fE,h7h:()=>S.h7,Hw9:()=>T.Hw,iBy:()=>r.iB,sXi:()=>S.sX,_M1:()=>u._M,$uU:()=>S.$u,H62:()=>r.H6,Q2A:()=>r.Q2,XZq:()=>S.XZ,RmD:()=>r.Rm,euC:()=>S.eu,ZOQ:()=>C.ZO,Grh:()=>C.Gr,vPf:()=>u.vP,lTi:()=>u.lT,Uim:()=>u.Ui,V9f:()=>u.V9,itn:()=>S.it,Ypc:()=>u.Yp,Lx9:()=>u.Lx,yuW:()=>u.yu,gTX:()=>S.gT,lBj:()=>S.lB,MR9:()=>u.MR,dFq:()=>u.dF,PHw:()=>S.PH,mqE:()=>S.mq,FZu:()=>S.FZ,Krg:()=>S.Kr,LG0:()=>S.LG,tVd:()=>S.tV,kTi:()=>u.kT,ehd:()=>T.eh,D65:()=>S.D6,WUZ:()=>u.WU,myw:()=>u.my,xGv:()=>u.xG,vvg:()=>u.vv,hEW:()=>S.hE,gjf:()=>S.gj,abJ:()=>S.ab,$Pr:()=>S.$P,_89:()=>S._8,DiP:()=>S.Di,UwQ:()=>S.Uw,$Zt:()=>S.$Z,oB7:()=>u.oB,$E$:()=>u.$E,Nn:()=>u.Nn,FMS:()=>i,gzb:()=>S.gz,Zws:()=>S.Zw,i9B:()=>S.i9,Jbn:()=>S.Jb,m2K:()=>S.m2,LAY:()=>S.LA,QLG:()=>S.QL,TrC:()=>S.Tr,KdS:()=>S.Kd,Yzi:()=>S.Yz,yWe:()=>S.yW,o$o:()=>T.o$,zUJ:()=>T.zU,XTy:()=>S.XT,eCV:()=>S.eC,ew0:()=>u.ew,OLU:()=>S.OL,Qij:()=>S.Qi,Sl8:()=>u.Sl,Xnf:()=>S.Xn,_B2:()=>S._B,YgT:()=>u.Yg,sQA:()=>T.sQ,PE2:()=>S.PE,WBU:()=>S.WB,NDL:()=>S.ND,fUH:()=>S.fU,Pej:()=>S.Pe,BtQ:()=>S.Bt,Xwy:()=>S.Xw,LyP:()=>S.Ly,g48:()=>S.g4,ZU_:()=>S.ZU,tdh:()=>u.td,lXB:()=>u.lX,NT7:()=>u.NT,hAT:()=>u.hA,o8e:()=>u.o8,byQ:()=>u.by,rpX:()=>u.rp,xUA:()=>u.xU,BHT:()=>u.BH,r$u:()=>u.r$,lF6:()=>u.lF,qG9:()=>u.qG,OjV:()=>u.Oj,UoI:()=>S.Uo,uQr:()=>u.uQ,VJC:()=>u.VJ,ej0:()=>S.ej,r5C:()=>u.r5,kgH:()=>u.kg,Kp2:()=>r.Kp,AvI:()=>u.Av,nvS:()=>u.nv,Nxr:()=>u.Nx,yy9:()=>u.yy,LUC:()=>u.LU,Q2j:()=>u.Q2,NqY:()=>u.Nq,NRv:()=>u.NR,asx:()=>u.as,E$u:()=>S.E$,d8j:()=>u.d8,uQd:()=>S.uQ,j4h:()=>S.j4,Cqs:()=>T.Cq,_O7:()=>u._O,upz:()=>u.up,CWW:()=>u.CW,$37:()=>u.$3,$Ft:()=>l,UDx:()=>u.UD,$wQ:()=>u.$w,HOP:()=>u.HO,IzA:()=>u.Iz,Sph:()=>T.Sp,_RZ:()=>u._R,L_O:()=>S.L_,FL2:()=>b,XY5:()=>y,s8U:()=>E,iNM:()=>p,Fsx:()=>_,WD1:()=>g,vzw:()=>u.vz,aM2:()=>u.aM,_yM:()=>T._y,Gq1:()=>u.Gq,ByS:()=>u.By,JDj:()=>u.JD,$ex:()=>S.$e,Fbb:()=>u.Fb,Nox:()=>u.No});var r=n(48074),o=(n(70063),n(20608));function*a(){return yield(0,o.getContext)(r.iB.cookies)}function i(){return(0,o.call)(a)}var s=n(2784);const c=(0,s.createContext)({}),l=()=>(0,s.useContext)(c);var u=n(37736),d=(n(77950),n(48319),n(34715),n(64925),n(26464),n(19570),n(54819),n(6886),n(92150)),h=n(9207);const m=Array.from({length:9},((e,t)=>`{${t}}`)),p=function(e,t){const n=(0,d.FC)((0,s.useContext)(h.E),[t,e]);for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];return n(o.length>0?o:m)},g=function(e){const t=(0,s.useContext)(h.E);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.map((n=>(0,d.FC)(t,[e,n])(m)))};function f(e,t){let n=e;if(n)for(const r of t){if("object"!==typeof n)return;if(n=n[r],void 0===n)return}return n}function v(e,t){return Array.isArray(e)?e:t?e.split(t):[e]}function _(e,t,n){const r=(0,s.useContext)(h.E),{locales:o,messages:a,pathSep:i}=r,c=v([e,t],i);for(var l=arguments.length,d=new Array(l>3?l-3:0),m=3;m<l;m++)d[m-3]=arguments[m];for(const s of o){const e=f(a[s],c);if(void 0!==e&&"function"===typeof e)return e(d)}return n?(0,u.WU)(n,...d):void 0}function y(e,t){return(0,d.FC)((0,s.useContext)(h.E),[e,t])}function b(e,t,n){return y(e,t)(n)}function E(e){const t=(0,s.useContext)(h.E),n={};for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return o.forEach((r=>{const o=(0,d.FC)(t,[e,r]);n[r]="function"===typeof o?o():o})),n}var C=n(20617),S=n(12928),T=n(74990)},20617:(e,t,n)=>{"use strict";var r,o;n.d(t,{zH:()=>i,zG:()=>r,k:()=>o,vC:()=>a,ZO:()=>s.Z,Gr:()=>s.G}),function(e){e[e.None=0]="None",e[e.Msa=1]="Msa",e[e.MsaAndXbox=2]="MsaAndXbox"}(r||(r={})),function(e){e[e.None=0]="None",e[e.SignedIn=1]="SignedIn"}(o||(o={}));var a;n(83001);!function(e){e.EnableTestNav="EnableTestNav",e.EnableTestTools="EnableTestTools",e.EnableTestPages="EnableTestPages",e.EnableCookieSourceDebugConsole="EnableCookieSourceDebugConsole",e.ShowStackOnError="ShowStackOnError",e.StagingFD="StagingFD",e.TestBuyNowFlights="TestBuyNowFlights",e.BuyNowExpIdTestFeatureGate="BuyNowExpIdTestFeatureGate",e.UglyUhf="UglyUhf",e.SiteThemeOverride="SiteThemeOverride",e.DisableUhfXboxCart="DisableUhfXboxCart",e.EnableUhfCache="EnableUhfCache",e.DisableUhfWcp="DisableUhfWcp",e.EnableAllLocales="EnableAllLocales",e.EnableGatedLocales="EnableGatedLocales",e.ClientErrorSampleRate="ClientErrorSampleRate",e.ServiceErrorSampleRate="ServiceErrorSampleRate",e.SentryTransactionSampleRate="SentryTransactionSampleRate",e.MCWSSentryClientSampleRate="MCWSSentryClientSampleRate",e.MCWSSentryServiceSampleRate="MCWSSentryServiceSampleRate",e.MCWSSentryTransactionSampleRate="MCWSSentryTransactionSampleRate",e.EnableServerSideUserFeatureAssignments="EnableServerSideUserFeatureAssignments",e.EnableSisuUcsSupport="EnableSisuUcsSupport",e.EnableContentPreviewTools="EnableContentPreviewTools",e.EnableAAMScript="EnableAAMScript",e.EnableBundleBuilderAdobeLaunch="EnableBundleBuilderAdobeLaunch",e.CartPreview="CartPreview",e.CheckoutPreview="CheckoutPreview",e.StorePPE="StorePPE",e.DisableErrorMessageService="DisableErrorMessageService",e.browseScoringTreatment="browseScoringTreatment",e.EnableNewSearchExperience="EnableNewSearchExperience",e.EnableNewSearchGeneralTab="EnableNewSearchGeneralTab",e.EnableStoreHomePage="EnableStoreHomePage",e.EnableStickyDesktopHeader="EnableStickyDesktopHeader",e.EnableStickyMobileHeader="EnableStickyMobileHeader",e.searchScoringTreatment="searchScoringTreatment",e.EnableBuyNowHoverButton="EnableBuyNowHoverButton",e.EnableDealXPriceText="EnableDealXPriceText",e.EnableMultiUpsellButton="EnableMultiUpsellButton",e.EnableReactCheckout="EnableReactCheckout",e.DisableGamepadNavigationOnPurchase="DisableGamepadNavigationOnPurchase",e.EnableBuyNowXboxUiExp="EnableBuyNowXboxUiExp",e.EnableBuyNowFCRedeemWithTax="EnableBuyNowFCRedeemWithTax",e.EnableMiniPDPRefreshExp="EnableMiniPDPRefreshExp",e.EnableMiniPDPSubsRefreshExp="EnableMiniPDPSubsRefreshExp",e.UsePostMessageHelper="UsePostMessageHelper",e.EnablePIDLTestHeader="EnablePIDLTestHeader",e.EnablePIDLStandarizedForms="EnablePIDLStandarizedForms",e.EnableV2MeControl="EnableV2MeControl",e.EnableReactGiftFlow="EnableReactGiftFlow",e.EnableWishlistGifting="EnableWishlistGifting",e.WishlistV2Menu="WishlistV2Menu",e.OsWishlistSharing="OsWishlistSharing",e.UsePurchasePPE="UsePurchasePPE",e.EnableLibraryPage="EnableLibraryPage",e.PIGroupingExpId="PIGroupingExpId",e.PIGroupingFlightId="PIGroupingFlightId",e.EnableRedeemCodeModal="EnableRedeemCodeModal",e.EnablePrivacyControls="EnablePrivacyControls",e.EnableLaunchpad="EnableLaunchpad",e.EnableLaunchpadDownload="EnableLaunchpadDownload",e.EnableYearInReview="EnableYearInReview",e.EnableYearInReviewMarketing="EnableYearInReviewMarketing",e.EnableRemoteInstallToPc="EnableRemoteInstallToPc",e.EnableEditionUpgradeOffer="EnableEditionUpgradeOffer",e.PurchaseSdkCartCheckout="PurchaseSdkCartCheckout",e.SkipXTokenCookies="SkipXTokenCookies",e.SkipRedirectCounter="SkipRedirectCounter",e.EnableSkipActivateStoreExp="EnableSkipActivateStoreExp",e.EnableFranchisePageLink="EnableFranchisePageLink",e.EnablePurchaseLaunchOnLogin="EnablePurchaseLaunchOnLogin",e.EnableMultiCloudPlayButton="EnableMultiCloudPlayButton",e.EnableXboxGamePadLite="EnableXboxGamePadLite",e.EnableXboxOneRFSetupRedirectPage="EnableXboxOneRFSetupRedirectPage",e.EnableMCWSSite="EnableMCWSSite",e.EnableUniversalMediaPlayer="EnableUniversalMediaPlayer",e.EnableMaunaLoa="EnableMaunaLoa",e.EnableDynamicFlags="EnableDynamicFlags",e.EnableMutualFriendsPrivacySettings="EnableMutualFriendsPrivacySettings",e.EnableGarrisonInlineRedeem="EnableGarrisonInlineRedeem",e.EnablePlayableOnExperiment="EnablePlayableOnExperiment",e.EnableXPAStringChange="EnableXPAStringChange",e.EnableComingSoonUpsell="EnableComingSoonUpsell",e.EnableSearchPromo="EnableSearchPromo"}(a||(a={}));var i,s=n(90431);!function(e){e.Child="Child",e.Teen="Teen",e.Adult="Adult",e.Unknown="Unknown"}(i||(i={}))},10363:(e,t,n)=>{"use strict";function r(){return{anonToken:void 0}}n.d(t,{g:()=>r})},16180:(e,t,n)=>{"use strict";n.d(t,{h7:()=>d.h,gT:()=>f,lB:()=>v,PH:()=>a,mq:()=>c,FZ:()=>i,Kr:()=>l,LG:()=>s,gj:()=>u.g,Uo:()=>h.U,$e:()=>p});var r=n(814),o=n.n(r);n(43105),n(6886);function a(e,t,n,r){return r?Object.assign((function(){const a=r(...arguments);return o()({type:e,scope:t,partner:n},a)}),{getType:()=>e,getPartner:()=>n}):Object.assign((()=>({type:e,scope:t,partner:n})),{getType:()=>e,getPartner:()=>n})}function i(e,t,n,r,a,i,s,c){return{start:Object.assign((function(){const a=r(...arguments);return o()({type:n,scope:e,partner:t},a)}),{getType:()=>n,getPartner:()=>t}),success:Object.assign((function(){const n=i(...arguments);return o()({type:a,scope:e,partner:t},n)}),{getType:()=>a,getPartner:()=>t}),error:Object.assign((function(){const n=c(...arguments);return o()({type:s,scope:e,partner:t},n)}),{getType:()=>s,getPartner:()=>t})}}function s(e,t,n,r,a,i){const s=`${n}_START`,c=`${n}_SUCCESS`,l=`${n}_FAILURE`;return{start:Object.assign((function(){const n=r(...arguments);return o()({type:s,scope:e,partner:t},n)}),{getType:()=>s,getPartner:()=>t}),success:Object.assign((function(){const n=a(...arguments);return o()({type:c,scope:e,partner:t},n)}),{getType:()=>c,getPartner:()=>t}),error:Object.assign((function(){const n=i(...arguments);return o()({type:l,scope:e,partner:t},n)}),{getType:()=>l,getPartner:()=>t})}}const c=e=>(t,n,r)=>a(t,n,e,r),l=e=>(t,n,r,o,a,s,c)=>i(t,e,n,r,o,a,s,c);var u=n(10363),d=n(92318),h=n(88709),m=(n(36728),n(77950),n(21850),n(9e4),n(34715),n(26464),n(18339),n(19570),n(67526),n(86668),n(33354),n(25870),n(10930),n(40574),n(94116),n(43267),n(74614),n(19852),n(44306),n(26077),n(71072),n(50183),n(76026));function p(e,t){return{scopes:[].concat(e),reducer:t}}function g(e,t){const n=new Map,r=new Map;for(const o in e){const{scopes:t,reducer:a}=e[o];t.forEach((e=>{n.has(e)?n.get(e).push(o):n.set(e,[o])})),r.set(o,a)}return p(Array.from(n.keys()),((e,a)=>{let i=!1;if(void 0===e){const e={};return r.forEach(((t,n)=>{e[n]=t(void 0,a)})),e}if(/^(@@redux\/(INIT|REPLACE)|@@INIT)/.test(a.type)){const t=o()({},e);return r.forEach(((n,r)=>{const o=e[r];t[r]=n(o,a)})),t}const{scope:s,partner:c}=a;let l=e;const u=n.get(s);return u&&u.filter((e=>!t||(c?e===c:(0,m.W)(e)))).forEach((t=>{const n=e[t],s=r.get(t)(n,a);s!==n&&(i||(l=o()({},e)),i=!0),l[t]=s})),l}))}function f(e){return g(e,!1)}function v(e){return g(e,!0).reducer}},88709:(e,t,n)=>{"use strict";function r(e){return function(t){const n=t;return e.getType()===n.type&&e.getPartner()===n.partner}}n.d(t,{U:()=>r})},12928:(e,t,n)=>{"use strict";n.d(t,{Mj:()=>o.M,pb:()=>a.p,cP:()=>r,h7:()=>m.h7,sX:()=>s.s,$u:()=>l,XZ:()=>d.X,eu:()=>h.e,it:()=>o.i,gT:()=>m.gT,lB:()=>m.lB,PH:()=>m.PH,mq:()=>m.mq,FZ:()=>m.FZ,Kr:()=>m.Kr,LG:()=>m.LG,tV:()=>f,D6:()=>a.D,hE:()=>g.hE,gj:()=>m.gj,ab:()=>p.ab,$P:()=>g.$P,_8:()=>g._8,Di:()=>p.Di,Uw:()=>g.Uw,$Z:()=>g.$Z,gz:()=>C.g,Zw:()=>p.Zw,i9:()=>g.i9,Jb:()=>g.Jb,m2:()=>g.m2,LA:()=>g.LA,QL:()=>g.QL,Tr:()=>g.Tr,Kd:()=>p.Kd,Yz:()=>p.Yz,yW:()=>p.yW,XT:()=>g.XT,eC:()=>g.eC,OL:()=>_,Qi:()=>v.Qi,Xn:()=>p.Xn,_B:()=>p._B,PE:()=>g.PE,WB:()=>p.WB,ND:()=>v.ND,fU:()=>A,Pe:()=>x,Bt:()=>w,Xw:()=>P,Ly:()=>k,g4:()=>p.g4,ZU:()=>p.ZU,Uo:()=>m.Uo,ej:()=>c,E$:()=>u,uQ:()=>d.u,j4:()=>h.j,L_:()=>E,$e:()=>m.$e});var r,o=n(48066),a=n(25268),i=n(22229),s=n(26280);!function(e){e.LOCATION_CHANGE="@navigation/LOCATION_CHANGE",e.PAGE_DATA_REQUEST_START="@navigation/PAGE_DATA_REQUEST_START",e.PAGE_DATA_REQUEST_SUCCESS="@navigation/PAGE_DATA_REQUEST_SUCCESS",e.PAGE_DATA_REQUEST_ERROR="@navigation/PAGE_DATA_REQUEST_ERROR"}(r||(r={}));const c={navigateToPath:(0,i.P)(r.LOCATION_CHANGE,s.s.Navigation,((e,t,n)=>({newLocation:e,oldLocation:t,forceRefresh:n}))),pageDataRequest:(0,i.F)(s.s.Navigation,r.PAGE_DATA_REQUEST_START,(e=>({pageId:e})),r.PAGE_DATA_REQUEST_SUCCESS,(e=>({pageId:e})),r.PAGE_DATA_REQUEST_ERROR,((e,t)=>({pageId:e,error:t})))};var l;!function(e){e.UPDATE_PAGE_SEO_TAGS="@seo/UPDATE_PAGE_SEO_TAGS"}(l||(l={}));const u={updatePageSeoTags:(0,i.P)(l.UPDATE_PAGE_SEO_TAGS,s.s.Seo,((e,t)=>({tags:e,pageId:t})))};var d=n(45328),h=n(85527),m=n(16180),p=n(71138),g=n(59496);const f={isLoading:!1,hasContent:!1,error:void 0};var v=n(34815);const _=(e,t)=>(0,v.S)(e)[t]||f;var y=n(74495),b=n(37736);const E=e=>{const t=(0,b._R)(e);return(0,y.useSelector)((e=>((e,t)=>(0,v.dF)(e)[t])(e,t)))};var C=n(49657),S=n(48074),T=n(20617);const I=(e,t)=>{var n,r;let o;switch(t){case S.Q2.Light:o=null===(n=(0,v.v3)(e).data)||void 0===n?void 0:n.light;break;case S.Q2.Dark:o=null===(r=(0,v.v3)(e).data)||void 0===r?void 0:r.dark}return o},w=(e,t)=>{var n;return null===(n=I(e,t===S.Q2.DarkHeader?S.Q2.Dark:t))||void 0===n?void 0:n.headerHtml},A=(e,t)=>{var n;return null===(n=I(e,t===S.Q2.DarkHeader?S.Q2.Light:t))||void 0===n?void 0:n.footerHtml},k=e=>(0,g.$P)(e,T.vC.UglyUhf)?S.Q2.Light:(0,C.g)(e),P=e=>(0,v.v3)(e).headerMode,x=e=>(0,v.v3)(e).footerMode||T.ZO.Full},71138:(e,t,n)=>{"use strict";n.d(t,{Di:()=>p,Kd:()=>a,WB:()=>d,Xn:()=>c,Yz:()=>i,ZU:()=>m,Zw:()=>l,_B:()=>u,ab:()=>o,g4:()=>h,yW:()=>s});var r=n(34815);const o=e=>c(e).anonToken,a=e=>s(e).locale,i=e=>s(e).localeWithScript,s=e=>(0,r.oV)(e).marketInfo,c=e=>(0,r.oV)(e).requestInfo,l=e=>(0,r.oV)(e).deviceId,u=e=>c(e).path,d=e=>(0,r.oV)(e).telemetryInfo,h=e=>(0,r.oV)(e).isPreviewMode,m=e=>(0,r.oV)(e).isReactDomHydrating,p=e=>(0,r.oV)(e).clientBootstrapInfo.initialized},59496:(e,t,n)=>{"use strict";n.d(t,{$P:()=>S,$Z:()=>w,Jb:()=>p,LA:()=>v,PE:()=>b,QL:()=>_,Tr:()=>d,Uw:()=>A,XT:()=>E,_8:()=>C,eC:()=>g,hE:()=>I,i9:()=>m,m2:()=>f});var r=n(814),o=n.n(r),a=(n(36728),n(31235),n(9e4),n(74407),n(26464),n(18339),n(64903),n(97698)),i=n(21883),s=n(20617),c=n(21997),l=n(34815);const u={},d=(0,a.createSelector)(l.Wr,(e=>{var t;return o()(o()(o()({},e.environmentFeatureGates),null!==(t=(0,i.getDataOrPrevious)(e.expFeatureGates))&&void 0!==t?t:u),e.overrideFeatureGates)})),h=e=>{var t;return null===(t=f(e))||void 0===t?void 0:t.flights},m=e=>(0,l.Wr)(e).environmentFeatureGates,p=e=>{var t;return null!==(t=(0,i.getDataOrPrevious)((0,l.Wr)(e).expFeatureGates))&&void 0!==t?t:u},g=e=>(0,l.Wr)(e).overrideFeatureGates,f=e=>(0,i.getDataOrPrevious)((0,l.Wr)(e).experimentationInfo),v=e=>(0,l.Wr)(e).experimentationInfo,_=(e,t)=>t?e[t.toLowerCase()]:void 0,y=(e,t)=>_(d(e),t),b=(e,t)=>{const n=y(e,t);if("string"===typeof n)return n},E=(e,t)=>{const n=y(e,t);if("number"===typeof n)return n},C=(e,t)=>{const n=y(e,t);if("boolean"===typeof n)return n},S=(e,t)=>{const n=d(e);return T(n,t)},T=(e,t)=>!0===_(e,t),I=e=>{const t=h(e);let n="";return t&&(n=(0,c.my)(t)),n},w=e=>{const t=h(e);let n=[];return t&&(n=t.filter((e=>e.toLowerCase().includes("sc_")))),n},A=e=>Object.values(s.vC).filter((e=>e.toLowerCase().includes("buynowexpid"))).reduce(((t,n)=>{const r=b(e,n);return r&&t.push(r),t}),[])},34815:(e,t,n)=>{"use strict";n.d(t,{ND:()=>c,Qi:()=>i,S:()=>a,Wr:()=>o,dF:()=>s,oV:()=>r,v3:()=>l});const r=e=>e.appContext,o=e=>e.experiments,a=e=>e.pageRequestMetadata,i=(e,t)=>e[t],s=e=>e.seo,c=e=>e.theme,l=e=>e.uhf},74990:(e,t,n)=>{"use strict";n.d(t,{Hw:()=>r.H,eh:()=>o.e,o$:()=>p,zU:()=>_,sQ:()=>g,Cq:()=>m,Sp:()=>f,_y:()=>y._});var r=n(58565),o=n(98410),a=n(814),i=n.n(a),s=(n(71372),n(6886),n(74495)),c=n(4517),l=n(20608),u=n(71138),d=n(59496);let h=[];const m=e=>h=e,p=(e,t,n,r)=>{if(0===h.length)throw new Error("No routes have been registered. Invalid use of getMatchedRouteConfig.");for(const a of h)if((0,o.e)(a.constraint,t,r)){const t=(0,c.LX)(e,a);if(t)return i()(i()({},a),{},{isPreview:!!n,match:t})}},g=()=>h,f=e=>{const t=(0,s.useSelector)(d.Tr),n=(0,c.TH)(),r=(0,s.useSelector)(u.g4),o=(0,s.useSelector)(u.Yz),a=e||n.pathname;return p(a,t,r,o)};function*v(e){const t=yield(0,l.select)(d.Tr),n=yield(0,l.select)(u.g4),r=yield(0,l.select)(u.Yz);return yield(0,l.call)(p,e,t,n,r)}function _(e){return(0,l.call)(v,e)}var y=n(56097)},41677:(e,t,n)=>{"use strict";var r,o,a,i;n.d(t,{zc:()=>a,JS:()=>i,uZ:()=>r,GV:()=>o}),function(e){e.Browse="Browse",e.Cart="Cart",e.Checkout="Checkout",e.Error="Error",e.GenericError="GenericError",e.Library="Library",e.LocalePicker="LocalePicker",e.Overlay="Overlay",e.ProductDetailsPage="ProductDetailsPage",e.PDP="PDP",e.Retry="Retry",e.Search="Search",e.Settings="Settings",e.StoreHome="StoreHome",e.Wishlist="Wishlist"}(r||(r={})),function(e){e.Cart="CART",e.Checkout="CHECKOUT",e.PDP="PDP"}(o||(o={})),function(e){e.Button="Button",e.Link="Link",e.PageContent="PageContent"}(a||(a={})),function(e){e.CemService="CemService",e.DisplayCatalogService="DisplayCatalogService",e.EmeraldXbetService="EmeraldXbetService",e.InventoryService="InventoryService",e.GamingContext="GamingContext",e.PeopleHub="PeopleHub",e.SISU="SISU",e.StoreCartService="StoreCartService",e.XboxLiveAccountService="XboxLiveAccountService",e.Duke="Duke"}(i||(i={}))},71619:(e,t,n)=>{"use strict";n.d(t,{pC:()=>y,dz:()=>u,aR:()=>i,cH:()=>h,fs:()=>s,u_:()=>d,Xy:()=>l,Do:()=>c,TA:()=>a,Si:()=>S,I4:()=>T,wl:()=>_,Lo:()=>p,EW:()=>g,Qc:()=>m,Fj:()=>f});n(71372);var r=n(16216),o=n(2784);const a=(0,o.createContext)({}),i=(0,o.createContext)({}),s=(0,o.createContext)({}),c=(0,o.createContext)({}),l=(0,o.createContext)({}),u=(0,o.createContext)({}),d=(0,o.createContext)({}),h=(0,o.createContext)({}),m=()=>(0,o.useContext)(a),p=()=>(0,o.useContext)(i),g=()=>(0,o.useContext)(s),f=()=>m().logger(),v=(0,o.createContext)(void 0),_=()=>(0,o.useContext)(v),y=e=>{let{children:t}=e;const n=m().getCurrentPage()||void 0,a=(0,o.useRef)(n),i=f();if(void 0!==_()&&(i.error("can not nest BackingPageProvider"),"prod"!==r.xUA.DEPLOYMENT_ENV))throw new Error("can not nest BackingPageProvider");return o.createElement(v.Provider,{value:a.current},t)};var b=n(20608);function*E(){return yield(0,b.getContext)(r.iBy.telemetry)}function*C(){return(yield E()).logger()}function S(){return(0,b.call)(E)}function T(){return(0,b.call)(C)}},81690:(e,t,n)=>{"use strict";n.d(t,{iZ:()=>u,r_:()=>d,Vg:()=>f.V,Z1:()=>m,gR:()=>p.g,_d:()=>h,XP:()=>f.X,Li:()=>g.L});var r=n(24923),o=n.n(r),a=n(814),i=n.n(a),s=(n(6710),n(16216));const c=["areaName","behavior","componentName","contentName","contentType","id","productId","productName","skuId","slotNumber","templateName","videoDuration","videoId","videoName","videoPercentageComplete","videoWatchTime"];var l;!function(e){e.Sku="sku"}(l||(l={}));const u=e=>({"data-m":JSON.stringify(m(e))}),d=()=>({"data-bi-dnt":!0}),h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(0,s.NqY)(e),o=(0,s.NqY)(t),a=(0,s.NqY)(n),c=i()(i()(i()({},a),o),r);return c},m=e=>{const{areaName:t,behavior:n,componentName:r,contentName:a,contentType:s,id:l,productId:u,productName:d,skuId:h,slotNumber:m,templateName:p,videoDuration:g,videoId:f,videoName:v,videoPercentageComplete:_,videoWatchTime:y}=e,b=o()(e,c);return i()({aN:t,bhvr:n,cN:a,compnm:r,cT:s,id:l,pid:u,prod:d,sku:h,sN:m,tN:p,viddur:g,vidid:f,vidnm:v,vidpct:_,vidwt:y},b)};var p=n(97339),g=n(10089),f=n(27302)},27302:(e,t,n)=>{"use strict";n.d(t,{V:()=>o,X:()=>r});const r="telemetryTags",o=e=>e.metadata&&e.metadata[r]},87342:(e,t,n)=>{"use strict";n.d(t,{Lz:()=>s.Lz,xu:()=>s.xu,pC:()=>o.pC,cg:()=>i.cg,dz:()=>o.dz,qJ:()=>c.qJ,zc:()=>r.zc,x8:()=>i.x8,JS:()=>r.JS,Mk:()=>s.Mk,aR:()=>o.aR,uZ:()=>r.uZ,DV:()=>l.D,GV:()=>r.GV,cH:()=>o.cH,OR:()=>o.fs,u_:()=>o.u_,rB:()=>s.rB,F:()=>l.F,Xy:()=>o.Xy,Do:()=>o.Do,TA:()=>o.TA,Lg:()=>s.Lg,Yr:()=>b,iZ:()=>a.iZ,r_:()=>a.r_,zX:()=>E,Si:()=>o.Si,I4:()=>o.I4,gR:()=>a.gR,_d:()=>a._d,XP:()=>a.XP,Lo:()=>o.Lo,Li:()=>a.Li,EW:()=>o.EW,Qc:()=>o.Qc,Fj:()=>o.Fj});var r=n(41677),o=n(71619),a=n(81690),i=(n(21422),n(52747)),s=n(75581),c=n(32392),l=(n(17203),n(22068)),u=n(814),d=n.n(u),h=(n(68995),n(73439),n(88233),n(6886),n(81497),n(75640),n(1871),n(14121),n(60523),n(51175)),m=n(16216),p=n(66465),g=n(92642);const f=(e,t,n)=>{var r,o,i,s,c,l;let u=0;const f=Date.now();t.metadata&&t.metadata.timeStamp&&(u=f-t.metadata.timeStamp);let v=e.cv().get(),_="";if(t.headers){const e=t.headers.get(h.HttpHeader.CorrelationVector);e&&(v=e),_=null!==(r=t.headers.get("X-MS-API-Version"))&&void 0!==r?r:""}const y=t.url&&new URL(t.url);let b,E,C,S;const T=(0,a.Vg)(t);let I,w,A,k,P,x;if(T?(E=T.dependencyName,C=T.dependencyOperationName,b=T.operationName,S=T.dependencyOperationVersion||_):y&&(E=y.hostname,C=y.pathname),n){I=n.headers,w=(0,m.hAT)(n.status),A=n.status.toString(),k=(0,m.YgT)(n.status).toString(),P=null!==(o=n.headers.get(h.HttpHeader.ContentType))&&void 0!==o?o:void 0;const e=n.headers.get(h.HttpHeader.ContentLength);e&&(x=parseInt(e,10))}else I=new Headers,w=!1,A="500",k=m.H62.TransportError.toString();const R={op:C,startTimestamp:null===(i=t.metadata)||void 0===i?void 0:i.timeStamp};if("true"!=="MISSING_ENV_VAR".RAZZLE_DISABLE_SERVER_SENTRY){const e=null===(c=null===(s=p.Gd())||void 0===s?void 0:s.getScope())||void 0===c?void 0:c.getTransaction(),t=null!==(l=null===n||void 0===n?void 0:n.status)&&void 0!==l?l:500;if(e){const n=e.startChild(R);null===n||void 0===n||n.setHttpStatus(t),null===n||void 0===n||n.finish(f)}else{const e=g.Yr(d()(d()({},R),{},{name:C}));null===e||void 0===e||e.setHttpStatus(t),null===e||void 0===e||e.finish(f)}}e.logOutgoingServiceReliability({cV:v,latencyMs:u,requestHeaders:t.headers||new Headers,requestMethod:t&&t.method&&t.method.toUpperCase(),responseHeaders:I,succeeded:w,dependencyName:E,dependencyOperationName:C,dependencyOperationVersion:S,dependencyType:"WebService",operationName:b,protocol:y&&y.protocol.toUpperCase(),protocolStatusCode:A,requestStatus:k,responseContentType:P,responseSizeBytes:x,target:t.url})};class v{constructor(e){this._telemetryProvider=e,this.priority=Number.MAX_VALUE,this.intercept=async e=>{const t=e.metadata||{};t.timeStamp=Date.now();const n=e.headers||new Headers;return n.set(h.HttpHeader.CorrelationVector,this._telemetryProvider.cv().increment()),h.InterceptedRequest.fromRequest(e,{metadata:t,additionalHeaders:n})}}}class _{constructor(e){this._telemetryProvider=e,this.priority=Number.MAX_VALUE}async intercept(e,t){return f(this._telemetryProvider,e,t),t}}class y{constructor(e){this._telemetryProvider=e,this.priority=Number.MAX_VALUE}async intercept(e,t){throw t instanceof h.HttpError?f(this._telemetryProvider,e,t.response):t instanceof DOMException&&f(this._telemetryProvider,e,void 0),t}}const b=(e,t)=>e.requestInterceptor(new v(t)).responseInterceptor(new _(t)).errorInterceptor(new y(t)),E=e=>({request:[new v(e)],response:[new _(e)],error:[new y(e)]})},52747:(e,t,n)=>{"use strict";n.d(t,{cg:()=>o.c,x8:()=>r,ye:()=>a.y});var r,o=n(62270);!function(e){e.LeftClick="CL",e.MiddleClick="CM",e.RightClick="CR",e.Scroll="S",e.Zoom="Z",e.Resize="R",e.KeyboardEnter="KE",e.KeyboardSpace="KS",e.GamepadA="CGA",e.GamepadMenu="CGM",e.Automatic="A",e.AutomaticTimer="AT",e.Other="O"}(r||(r={}));var a=n(11494)},56159:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(28248),o=(n(6886),n(2784)),a=n(94969);function i(e,t){return function(e,t,n){const r=(0,a.X)(),[i,s]=(0,o.useState)();return(0,o.useEffect)((()=>{function r(e){null!=n&&n(e),s(e)}return null===e||void 0===e||e.addEventListener(t,r),()=>{null===e||void 0===e||e.removeEventListener(t,r)}}),[e,t,n]),[i,(0,o.useCallback)((()=>{r.current&&s(void 0)}),[r])]}((0,r.Tv)().getAuthProvider(),e,t)}},56231:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});var r=n(28248),o=n(92397),a=n(20608);function*i(){const e=(yield(0,r.le)()).getAuthProvider();if(!e.isInitialized()){const t=(0,o.eventChannel)((t=>{const n=e=>{t(e)};return e.addEventListener("initialized",n),()=>e.removeEventListener("initialized",n)}));yield(0,a.take)(t),t.close()}return e.getActiveAuthUser()}},46778:(e,t,n)=>{"use strict";n.d(t,{f:()=>s});var r=n(28248),o=n(21883),a=n(2784),i=n(56159);const s=()=>{(0,i.o)(r.S_.type),(0,i.o)(r.Nb.type);const e=(0,r.Tv)().getAuthProvider(),t=e.isInitialized(),n=e.getActiveAuthUser();return(0,a.useMemo)((()=>t?(0,o.lceContent)(n):o.LCE_IS_FETCHING),[t,n])}},33866:(e,t,n)=>{"use strict";n.d(t,{R:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249),c=n(16216);const l=(0,s.hx)({resolved:{},chunkName:()=>"NavLinksPane",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,c.Fbb)(s.Ed,n.e(55547).then(n.bind(n,49783))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 49783}})},72795:(e,t,n)=>{"use strict";n.d(t,{X:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(53249),c=n(16216);const l=(0,s.hx)({resolved:{},chunkName:()=>"ToolsPane",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,c.Fbb)(s.Ed,Promise.all([n.e(9885),n.e(76902),n.e(8805)]).then(n.bind(n,76902))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 76902}})},49377:(e,t,n)=>{"use strict";n.d(t,{bJ:()=>o,go:()=>r,w8:()=>a});var r;n(36728),n(88233),n(6886);!function(e){e.arAE="ar-AE",e.arSA="ar-SA",e.csCZ="cs-CZ",e.daDK="da-DK",e.deAT="de-AT",e.deCH="de-CH",e.deDE="de-DE",e.elGR="el-GR",e.enAU="en-AU",e.enCA="en-CA",e.enGB="en-GB",e.enHK="en-HK",e.enIE="en-IE",e.enIN="en-IN",e.enMY="en-MY",e.enNZ="en-NZ",e.enPH="en-PH",e.enSG="en-SG",e.enUS="en-US",e.enZA="en-ZA",e.esAR="es-AR",e.esCL="es-CL",e.esCO="es-CO",e.esES="es-ES",e.esMX="es-MX",e.fiFI="fi-FI",e.frBE="fr-BE",e.frCA="fr-CA",e.frCH="fr-CH",e.frFR="fr-FR",e.heIL="he-IL",e.huHU="hu-HU",e.idID="id-ID",e.itIT="it-IT",e.jaJP="ja-JP",e.koKR="ko-KR",e.nbNO="nb-NO",e.nlBE="nl-BE",e.nlNL="nl-NL",e.plPL="pl-PL",e.ptBR="pt-BR",e.ptPT="pt-PT",e.ruRU="ru-RU",e.skSK="sk-SK",e.svSE="sv-SE",e.thTH="th-TH",e.trTR="tr-TR",e.viVN="vi-VN",e.zhCN="zh-CN",e.zhHK="zh-HK",e.zhTW="zh-TW",e.ukUA="uk-UA",e.roRO="ro-RO",e.hrHR="hr-HR",e.srLatnRS="sr-Latn-RS",e.bsLatnBA="bs-Latn-BA",e.slSI="sl-SI",e.etEE="et-EE",e.lvLV="lv-LV",e.ltLT="lt-LT",e.isIS="is-IS",e.deLI="de-LI",e.bgBG="bg-BG",e.enCY="en-CY",e.mtMT="mt-MT",e.frLU="fr-LU",e.deLU="de-LU",e.sqAL="sq-AL",e.kaGE="ka-GE",e.mkMK="mk-MK",e.roMD="ro-MD",e.ruMD="ru-MD",e.srLatnME="sr-Latn-ME",e.esBO="es-BO",e.esCR="es-CR",e.esEC="es-EC",e.esSV="es-SV",e.esGT="es-GT",e.esHN="es-HN",e.esNI="es-NI",e.esPA="es-PA",e.esPY="es-PY",e.esPE="es-PE",e.esUY="es-UY",e.arBH="ar-BH",e.arKW="ar-KW",e.arOM="ar-OM",e.arQA="ar-QA",e.arDZ="ar-DZ",e.arEG="ar-EG",e.arLY="ar-LY",e.arMA="ar-MA",e.arTN="ar-TN"}(r||(r={}));const o=[],a=(r.arSA,r.csCZ,r.daDK,r.deDE,r.elGR,r.enGB,r.esMX,r.fiFI,r.frFR,r.heIL,r.huHU,r.idID,r.itIT,r.jaJP,r.koKR,r.nbNO,r.nlNL,r.plPL,r.ptBR,r.ruRU,r.skSK,r.svSE,r.thTH,r.trTR,r.viVN,r.zhCN,e=>{const t=[];for(const n of Object.values(r))!e&&o.includes(n)||t.push(n.toString().toLowerCase());return t})},23060:(e,t,n)=>{"use strict";n.d(t,{$t:()=>o,EK:()=>r,K5:()=>i,NL:()=>s,TY:()=>c,Y$:()=>a});const r="xbcpreview",o="/auth/msa",a="/auth/msa/blank.html",i="user.read",s="29663c6d-b490-4c35-a2ab-1e1342d9fc0b",c="72f988bf-86f1-41af-91ab-2d7cd011db47"},36562:(e,t,n)=>{"use strict";n.d(t,{y:()=>r});const r="defCulture"},27256:(e,t,n)=>{"use strict";n.d(t,{gV:()=>ee,t8:()=>cn,lP:()=>ne.lP,HR:()=>Re,m3:()=>Ce,a7:()=>te.a,J9:()=>Ct,fP:()=>Et,e:()=>re.e,yU:()=>ln.y,r2:()=>hn.r,w8:()=>dn.w8,Xt:()=>an,c:()=>Xe,tP:()=>un.t,fE:()=>oe.f,NW:()=>ne.NW});n(6886);var r=n(24117),o=n(4802),a=n(73844),i=n(69821),s=n(71972),c=n(53249),l=n(16216),u=n(12524),d=n.n(u),h=n(2784),m=n(18671),p=n(74495),g=(n(65103),n(24923)),f=n.n(g),v=n(814),_=n.n(v),y=(n(64925),n(54819),n(67446)),b=n(15946),E=n(4517),C=n(56958);n(77950),n(88233),n(94908),n(60523);const S=e=>h.createElement(c.SV,null,(()=>h.createElement(E.AW,_()({},e)))),T=e=>h.createElement(S,_()(_()({},e),{},{render:t=>h.createElement(I,_()(_()({},t),e))})),I=e=>{const t=new URLSearchParams(e.location.search);if(e.queryParams)for(const[n,r]of Object.entries(e.queryParams))t.append(n,r);return h.createElement(E.l_,{to:{pathname:e.redirectTo,search:t.toString()}})};var w=n(33866),A=(n(85940),n(28248)),k=n(23060),P=n(4371);const x=()=>{const e=(0,p.useSelector)(l.g48),t=(0,E.TH)(),n=(0,p.useDispatch)(),r=(0,p.useSelector)(A.mh),o=()=>{n(l.ej0.navigateToPath(t,t,!0))};return h.createElement(h.Fragment,null,r?h.createElement(h.Fragment,null,h.createElement(c.hU,{className:P.s,iconName:e?c.E0.CheckMark:c.E0.Checkbox,title:"Toggle Preview",onClick:()=>(n(l.itn.setIsPreviewMode(!e)),(0,l.d8j)({name:k.EK,value:`${!e}`}),void o())}),h.createElement(c.hU,{iconName:c.E0.Refresh,title:"Client Refresh",onClick:()=>o()}),h.createElement(c.hU,{className:P.e,iconName:c.E0.Refresh,title:"Server Refresh",onClick:()=>{window.location.reload()}})):h.createElement(c.hU,{className:P.s,iconName:c.E0.Lock,title:"Sign In to enable preview",onClick:()=>window.location.replace("/aad/login")}))};var R=n(72795),N=n(3358),O=n(38870);const L=e=>{let{htmlContent:t,className:n}=e;return t?h.createElement("div",{className:n,dangerouslySetInnerHTML:{__html:t}}):null},M=()=>{const e=(0,p.useSelector)(l.Pej);return e===l.ZOQ.Off?null:h.createElement(D,{mode:e})},D=e=>{let{mode:t}=e,n=(0,p.useSelector)(l.LyP);n=n===l.Q2A.DarkHeader?l.Q2A.Light:n;const r=(0,p.useSelector)((e=>(0,l.fUH)(e,n)));return h.createElement(N.Z,{mode:"out-in"},h.createElement(O.Z,{key:n,in:!0,timeout:{appear:300,enter:300,exit:100},classNames:"uhf-footer"},h.createElement(L,{htmlContent:r,className:d()("uhf-footer",{"uhf-dark":n===l.Q2A.Dark},`uhf-footer-mode-${t.toLowerCase()}`)})))};n(4173),n(16401),n(73439);var U=n(87342);const B="CFQ7TTC0KGQ8";let F,H,q;const G=e=>{const t=window.location.pathname.toLocaleLowerCase().indexOf(B.toLowerCase())>0?q(window.location.href):F(window.location.href);window.location.href=t,e.preventDefault()},z=e=>{const t=H(window.location.href);window.location.href=t,e.preventDefault()},$=e=>{if(!e.userInfo||e.authenticationState!==l.zGj.MsaAndXbox)return{idp:"msa",authenticatedState:"3"};const{firstName:t,lastName:n,email:r,cid:o,gamerTag:a,publicGamerPic:i,accountTier:s}=e.userInfo;return{idp:"msa",authenticatedState:"1",firstName:t,lastName:n,memberName:r,cid:o,accountTier:s,nickName:a,tileUrl:i}},X=(e,t)=>{if(t)return{type:"aad",authenticatedState:"signedIn",displayName:t.name};if(!e.userInfo||e.authenticationState!==l.zGj.MsaAndXbox)return;const{firstName:n,lastName:r,email:o,cid:a,gamerTag:i,publicGamerPic:s}=e.userInfo;return{type:"msa",authenticatedState:"signedIn",firstName:n,lastName:r,cid:a,memberName:o,pictureUrl:s,profile:{profileName:i,profilePictureUrl:s}}},V=(e,t,n)=>n?{meControlOptions:{apiGeneration:"GEN2",currentAccount:X(e,t),authProviderConfig:{type:"webMsaOnly",appSignInUrl:"https://sample.microsoft.com/auth/signIn",appSignInToUrl:"https://sample.microsoft.com/auth/signInTo",appSignOutUrl:"https://sample.microsoft.com/auth/signOut",appSwitchUrl:"https://sample.microsoft.com/auth/switch",appSwitchToUrl:"https://sample.microsoft.com/auth/signInTo",msa:{signOutAndForgetUrl:"https://login.live.com/logout.srf?ct=1544212397&rver=6.7.6631.0&id=000000&ru=https:%2F%2Fsample.microsoft.com%2F",rememberedAccountsUrl:"https://login.live.com/Me.srf?wa=wsignin1.0&rpsnv=13&ct=1544212396&rver=6.7.6631.0&wp=MBI_SSL&wreply=https:%2F%2Fsample.microsoft.com%2F&id=000000"}},appContextConfig:{commands:[{type:"link",id:"xboxprofilelink",text:"Xbox profile",ariaLabel:"Xbox profile",openInNewTab:!1,url:"https://account.xbox.com/Profile?xr=mebarnav"},{type:"link",id:"xboxsettingslink",text:"Xbox settings",ariaLabel:"Xbox settings",openInNewTab:!1,url:"https://account.xbox.com/Settings/Home/?xr=mebarnav#"},{type:"link",id:"xboxsubscriptions",text:"Subscriptions",ariaLabel:"Subscriptions",openInNewTab:!1,url:"https://account.microsoft.com/services?ref=xboxme"},{type:"link",id:"xboxredeemcode",text:"Redeem code",ariaLabel:"Redeem code",openInNewTab:!1,url:"https://redeem.microsoft.com/enter?ref=xboxcom"}]}}}:{meControlOptions:{apiGeneration:"GEN1",rpData:{msaInfo:{signInUrl:window.location.pathname.toLocaleLowerCase().indexOf(B.toLowerCase())>0?q(window.location.href):F(window.location.href),signOutUrl:H(window.location.href)}},userData:$(e)}},W=()=>{var e,t,n,r;null===(e=window.MeControl)||void 0===e||e.API.removeEventListener("beforesignin",G),null===(t=window.MeControl)||void 0===t||t.API.removeEventListener("beforesignoutfromapp",z),null===(n=window.MeControl)||void 0===n||n.API.addEventListener("beforesignin",G),null===(r=window.MeControl)||void 0===r||r.API.addEventListener("beforesignoutfromapp",z)},j=()=>{const e=(0,p.useSelector)(l.Xwy);return e===l.Grh.Off?null:h.createElement(K,{mode:e})},K=e=>{let{mode:t}=e;const n=(0,p.useSelector)(l.LyP),r=(0,p.useSelector)((e=>(0,l.BtQ)(e,n))),o=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{aadUser:t}=(0,p.useSelector)(A.nY),n=(0,p.useSelector)(A.bG),r=(0,U.Fj)();return q=(0,l.IzA)(),H=(0,l.HOP)(),F=(0,l.$wQ)(),(0,h.useCallback)((()=>{new Promise((o=>{var a,i,s;const c=V({userInfo:n?_()(_()({},n),{},{firstName:null!==(a=n.firstName)&&void 0!==a?a:"",lastName:null!==(i=n.lastName)&&void 0!==i?i:"",email:null!==(s=n.email)&&void 0!==s?s:"",publicGamerPic:n.gamerPicUrl}):void 0,authenticationState:n?l.zGj.MsaAndXbox:l.zGj.None},t?{authenticatedState:l.kac.SignedIn,name:t.name||"",email:t.upn||""}:void 0,e);window.msCommonShell?(window.msCommonShell.load(c),W(),o(!0)):window.onShellReadyToLoad=()=>{window.onShellReadyToLoad=null,window.msCommonShell?(window.msCommonShell.load(c),W(),o(!0)):(r.warn("Unable to find msCommonShell global object to initialize me control"),o(!1))}}))}),[n,t,e,r])}((0,p.useSelector)((e=>(0,l.$Pr)(e,l.vCX.EnableV2MeControl)))),a=(0,h.useCallback)((()=>{o&&(o(),setTimeout((()=>{var e,t,n;(null===(e=globalThis.window)||void 0===e?void 0:e.innerWidth)<=1400&&(null===(n=null===(t=globalThis.window)||void 0===t?void 0:t.MeControl)||void 0===n?void 0:n.API.setDisplayMode)&&globalThis.window.MeControl.API.setDisplayMode("compact")}),100))}),[o]);return(0,h.useEffect)((()=>{a()}),[a]),h.createElement(N.Z,{mode:"out-in"},h.createElement(O.Z,{key:n===l.Q2A.DarkHeader?l.Q2A.Dark:n,in:!0,timeout:{appear:300,enter:300,exit:100},classNames:"uhf-header",onEntered:a},h.createElement(L,{htmlContent:r,className:d()("uhf-header",{"uhf-dark":n===l.Q2A.Dark||n===l.Q2A.DarkHeader},{"static-header":n!==l.Q2A.DarkHeader},`uhf-header-mode-${t.toLowerCase()}`)})))};var Z=n(3286);const Y=["key","constraint","experimentBasedRedirect","theme","testConfig"],Q=()=>{const[e,t]=(0,h.useState)({}),n=(0,p.useSelector)((e=>(0,l.$Pr)(e,l.vCX.EnableTestNav))),r=(0,p.useSelector)((e=>(0,l.$Pr)(e,l.vCX.EnableTestTools))),o=(0,p.useSelector)((e=>(0,l.$Pr)(e,l.vCX.EnableContentPreviewTools))),a=(n,r)=>{t(_()(_()({},e),{},{[n]:r}))},i=[{key:"NavLinks",glyph:c.E0.LeftNavButton,component:w.R,buttonTitle:"Navigation Links"},{key:"Tools",glyph:c.E0.Settings,component:R.X,buttonTitle:"Tools"}];return(n||r)&&h.createElement(b.FocusContainer,{id:"test-panel-root-container"},h.createElement("div",{id:"test-panel-trigger-container",className:Z.G},i.map((e=>h.createElement(c.hU,{"aria-label":e.buttonTitle,iconName:e.glyph,key:e.key,onClick:()=>a(e.key,!0),title:e.buttonTitle}))),o&&h.createElement(x,null)),i.map((t=>h.createElement(t.component,{key:t.key,isOpen:!!e[t.key],onRequestClose:()=>a(t.key,!1)}))))},J=()=>{const e=(0,p.useSelector)(l.TrC),t=Q(),n=(0,p.useSelector)(l.Yzi),r=(0,p.useSelector)(l.Xnf).userAgent,o=(0,y.hA)(null!==r&&void 0!==r?r:"");return h.createElement(c.k6,null,h.createElement(c.Db,null),h.createElement(c.ef,null),h.createElement(C.x,null),!o&&h.createElement(j,null),h.createElement("div",{role:"main",className:Z._,id:"PageContent",tabIndex:-1},h.createElement(E.rs,null,(0,l.sQA)().map((t=>{let{key:r,constraint:o,experimentBasedRedirect:a,theme:i,testConfig:s}=t,c=f()(t,Y);return(0,l.ehd)(o,e,n)?h.createElement(S,_()({key:r},c)):a&&!1===(0,l.QLG)(e,a.featureGate)?h.createElement(T,{key:r,path:c.path,redirectTo:a.redirect,queryParams:a.redirectQueryParams}):void 0})))),!o&&h.createElement(M,null),t)};n(73708);const ee=()=>{const e=(0,p.useSelector)(l.gzb),t=e===l.Q2A.Dark,[n,u]=(0,h.useState)(s.CC.DefaultDark),[g,f]=(0,h.useState)(""),v=(0,p.useSelector)((e=>(0,l.$Pr)(e,l.vCX.EnableCookieSourceDebugConsole)));(0,h.useEffect)((()=>{(e=>{let t;switch(e){case l.Q2A.Light:case l.Q2A.DarkHeader:t=s.CC.DefaultLight;break;case l.Q2A.Dark:default:t=s.CC.DefaultDark}(0,s.jz)(t).then((()=>{u(t)}))})(e)}),[e]);const _=(e=>{switch(e){case l.Q2A.Light:case l.Q2A.DarkHeader:return r.Q.Light;case l.Q2A.Dark:return r.Q.Dark}})(e);return(0,h.useEffect)((()=>{document.body.classList.toggle("theme-dark",t)}),[t,n]),(0,h.useEffect)((()=>{f(navigator.platform)}),[]),h.createElement(c.SV,null,(()=>h.createElement("div",{className:d()("appBackground",{"theme-dark":t})},h.createElement(o.E.Provider,{value:{theme:_,themeVersion:a.g.WebPolaris,userColors:i.I.XboxGreen}},h.createElement(m.q,null,h.createElement("html",{"data-platform":g}),v&&h.createElement("script",null,"origDescriptor = Object.getOwnPropertyDescriptor(Document.prototype, 'cookie');\n                    Object.defineProperty(document, 'cookie', {\n                      get() {\n                        return origDescriptor.get.call(this);\n                      },\n                      set(value) {\n                        let obj = {};\n                        try { Error.captureStackTrace(obj, value); }\n                        catch(e) { obj = e; } // this is needed to make it work in FF\n                        console.log(\"Cookie: \", value);\n                        console.log(\"Cookie Stack: \", obj.stack);\n                        return origDescriptor.set.call(this, value);\n                      },\n                      enumerable: true,\n                      configurable: true\n                    });"),h.createElement("body",{"data-theme":(0,s.ES)(n)})),h.createElement(c.pQ,null),h.createElement(J,null)))))};var te=n(27193),ne=(n(56159),n(91452));var re=n(56231),oe=n(46778),ae=(n(11017),n(71372),n(95682),n(21045),n(17244),n(42068),n(75519),n(39432),n(73574),n(33619),n(53862),n(26881),n(35359),n(98208),n(13608),n(75676),n(5993),n(74456),n(22799)),ie=n(45595),se=n(17029),ce=n(47933),le=n(92397),ue=n(88767),de=n(31),he=n(61030);n(36728),n(6710),n(52356),n(48166),n(34715),n(52856),n(26464),n(45162),n(19570),n(57610),n(7236),n(3331);var me=n(21883),pe=n(87995),ge=n(6365),fe=n(66497);const ve={headerMode:l.Grh.None,footerMode:l.ZOQ.None},_e=[{key:"ChangeLocale",path:"/Shell/ChangeLocale",component:fe.f,exact:!0,testConfig:{title:"Change Locale"}},{key:"MsaLogin",path:k.$t,component:ge.m,uhfConfig:ve},{key:"HealthCheck",path:"/servicestatus/health",exact:!0,uhfConfig:ve,hideUHF:!0,isServerOnly:!0,render:()=>h.createElement("div",null,"OK")}],ye=[{key:"404",render:()=>h.createElement(c.mf,{error:new Error("Page not found."),statusCode:pe.WE.NotFound})}];n(67526),n(86668),n(33354),n(25870),n(10930),n(40574),n(94116),n(43267),n(74614),n(19852),n(44306),n(26077),n(71072),n(50183);const be=new class{constructor(){this.factoriesMap=new Map,this.resolvedMap=new Map,this.lazyFactoriesMap=new Map,this.lazyResolvedMap=new Map,this.resolve=e=>{let t=this.resolvedMap.get(e);if(!t){const n=this.factoriesMap.get(e);n&&(t=n(),this.resolvedMap.set(e,t))}if(!t)throw new Error(`ServiceLocator.resolve: serviceId: ${e} not found`);return t},this.resolveLazy=e=>{let t=this.lazyResolvedMap.get(e);if(!t){const n=this.lazyFactoriesMap.get(e);n&&(t=n(),this.lazyResolvedMap.set(e,t))}if(!t)throw new Error(`ServiceLocator.resolve: serviceId: ${e} not found`);return t},this.register=(e,t)=>{if(this.factoriesMap.has(e))throw new Error(`ServiceLocator.register: serviceId: ${e} already exists`);this.factoriesMap.set(e,t)},this.registerLazy=(e,t)=>{if(this.lazyFactoriesMap.has(e))throw new Error(`ServiceLocator.register: serviceId: ${e} already exists`);this.lazyFactoriesMap.set(e,t)},this.clear=()=>{this.factoriesMap.clear(),this.resolvedMap.clear(),this.lazyFactoriesMap.clear(),this.lazyResolvedMap.clear()}}};var Ee=n(23693);const Ce=e=>{let{partnerId:t,renderLoading:n,renderError:r,children:o}=e;var a;const[,{isLoading:i,isError:s,error:c}]=(0,Ee.y)(t);let l=null!==(a=i?n:o)&&void 0!==a?a:null;return s&&r&&(l=h.cloneElement(r,{error:c})),h.createElement(h.Fragment,null,l)},Se=["component","redirectComponent"],Te=["routes"];class Ie{constructor(){this._partnerConfigurations={},this._routeConfigs=[],this._partnersResourceStringsDict={},this._partnerComponents=new WeakMap,this._subscriptions=new Set,this._partnerState={},this._partnerLoadingPromises={},this.getPartnerRouteConfigs=()=>[...this._routeConfigs],this.getPartnerResources=()=>this._partnersResourceStringsDict,this.getPartnerConfigForPath=e=>this._getPartnerConfigs().find((t=>{var n;return null===(n=t.routes)||void 0===n?void 0:n.some((t=>(0,E.LX)(e,t)))})),this.getClientState=()=>this._partnerState,this.getServerState=()=>this._partnerState,this.subscribe=e=>(this._subscriptions.add(e),()=>this._subscriptions.delete(e)),this.loadConfigurationForPath=async e=>{var t,n;const r=this.getPartnerConfigForPath(e);if(r)try{await this._loadPartnerConfigIfReady(r)}catch(at){const t=(0,ae.toError)(at);null===(n=this._telemetryProvider)||void 0===n||n.logger().error(`Failed to load partner configuration ${r.partnerId}`,t),this._setPartnerState(r.partnerId,(0,me.lceError)(t))}else null===(t=this._telemetryProvider)||void 0===t||t.logger().error(`Failed to find matching config for path: ${e}`)},this.loadPartner=async e=>{var t,n;const r=this._partnerConfigurations[e];if(!r){const n=new Error(`Partner config with id '${e}' not registered before attempting to load`);throw null===(t=this._telemetryProvider)||void 0===t||t.logger().error(n.message,n),this._setPartnerState(e,(0,me.lceError)(n)),n}try{await this._loadPartnerConfigIfReady(r)}catch(at){const o=(0,ae.toError)(at);null===(n=this._telemetryProvider)||void 0===n||n.logger().error(`Failed to load partner configuration ${e}`,o),this._setPartnerState(r.partnerId,(0,me.lceError)(o))}}}setPartnerPackages(e){var t;return this._validatePartnerConfigs(e),this._processConfigs(e),t=this._routeConfigs,(0,l.Cqs)([..._e,...t,...ye]),Object.values(this._partnerConfigurations)}setStore(e){this._store=e}setSagaMiddleware(e){this._middleware=e}setTelemetryProvider(e){this._telemetryProvider=e}getPartnerConfigMap(){return this._partnerConfigurations}async initialize(){this._getPartnerConfigs().forEach((e=>{this._partnerState[e.partnerId]=(0,me.lceNotRequested)()})),this._partnerLoadingPromises={},be.clear(),await this.initializeAllPartnersAsync(),await this._loadAllConfigs()}async initializeAllPartnersAsync(){this._registerPartnerDependencies(),await Promise.all(this._getPartnerConfigs().map((e=>e.initializeAsync?e.initializeAsync(be):Promise.resolve())))}_getPartnerConfigs(){return Object.values(this._partnerConfigurations)}_registerPartnerDependencies(){for(const e of this._getPartnerConfigs())e.registerDependencies&&e.registerDependencies(be)}_validatePartnerConfigs(e){if(0===e.length)throw new Error("No partners configured");if(!e.some((e=>{var t;return((null===(t=e.routes)||void 0===t?void 0:t.length)||0)>0})))throw new Error("No routes configured");const t=e.map((e=>e.partnerId)),n=new Set(t);if(t.length!==n.size)throw new Error(`Duplicate partner name found. Partners Configured: ${JSON.stringify(t)}`)}_processConfigs(e){const t={},n=[];this._partnerState={},e.forEach((e=>{const r=this._mapPartnerConfig(e);r.routes&&n.push(...r.routes),t[e.partnerId]=r,this._partnerState[e.partnerId]=me.LCE_NOT_REQUESTED})),this._routeConfigs=n,this._partnerConfigurations=t}async _loadPartnerConfigIfReady(e){var t,n,r,o,a;const{partnerId:i}=e;switch(this._getPartnerLce(i)){case me.LCEType.Content:break;case me.LCEType.Fetching:{const e=this._partnerLoadingPromises[i];e?(null===(t=this._telemetryProvider)||void 0===t||t.logger().info(`[PartnerConfigManager] ${Date.now()} Already Loading Partner Config '${i}' - Waiting on loading promise`),await e,null===(n=this._telemetryProvider)||void 0===n||n.logger().info(`[PartnerConfigManager] ${Date.now()} Done waiting on promise '${i}'`)):null===(r=this._telemetryProvider)||void 0===r||r.logger().info(`[PartnerConfigManager] ${Date.now()} Already Loading Partner Config '${i}' - No loading promise`);break}case me.LCEType.Error:null===(o=this._telemetryProvider)||void 0===o||o.logger().info(`[PartnerConfigManager] ${Date.now()} Partner Config '${i}'`);break;case me.LCEType.NotRequested:{null===(a=this._telemetryProvider)||void 0===a||a.logger().info(`[PartnerConfigManager] ${Date.now()} Loading Partner Config '${i}'`);const t=this._loadPartnerConfig(e);this._partnerLoadingPromises[i]=t,await t,this._partnerLoadingPromises[i]=void 0;break}}}async _loadPartnerConfig(e){var t,n;const{partnerId:r}=e;this._setPartnerState(r,(0,me.lceFetching)());try{if(e.lazyConfig&&this._store){const{redux:t,getResourceStrings:n}=await e.lazyConfig();if(t){const{reducer:e,sagas:n}=t;if(e&&this._store&&this._store.injectReducer(r,e),n&&this._middleware){const e=this._middleware;n.forEach((t=>e.run(t)))}}if(n){const e=this._store.getState(),t=(0,l.yWe)(e);this._partnersResourceStringsDict[r]=await n(t),this._partnersResourceStringsDict=_()({},this._partnersResourceStringsDict)}}null===(t=this._telemetryProvider)||void 0===t||t.logger().info(`[PartnerConfigManager] Loaded Partner Config '${r}'`),this._setPartnerState(r,(0,me.lceContent)(e))}catch(at){const t=(0,ae.toError)(at);null===(n=this._telemetryProvider)||void 0===n||n.logger().error(`Failed to load partner ${r}`,t),this._setPartnerState(r,(0,me.lceError)(t))}}async _loadAllConfigs(){for(const e of this._getPartnerConfigs())await this._loadPartnerConfigIfReady(e)}_setPartnerState(e,t){this._partnerState[e]=t,this._partnerState=_()({},this._partnerState),this._subscriptions.forEach((t=>t(e)))}_processPartnerRoute(e,t){const{partnerId:n}=t,{component:r,redirectComponent:o}=e,a=f()(e,Se);let i;if(o)i=o;else if(r){const e=this._partnerComponents.get(r);if(e)i=e;else{const e=e=>h.createElement(Ce,{partnerId:n},h.createElement(r,_()({},e)));this._partnerComponents.set(r,e),i=e}}return _()(_()({},a),{},{key:`${n}_${a.key}`,component:i})}_mapPartnerConfig(e){const{routes:t}=e,n=f()(e,Te);if(!n.lazyConfig&&!t)return n;const r=n;return t&&(r.routes=t.map((t=>this._processPartnerRoute(t,e)))),r}_getPartnerLce(e){var t,n;return null!==(n=null===(t=this._partnerState[e])||void 0===t?void 0:t.type)&&void 0!==n?n:me.LCEType.NotRequested}}const we="telemetry",Ae="authentication",ke="cookies",Pe="session",xe="partners";var Re,Ne=n(20608),Oe=n(92642),Le=n(77404),Me=(n(31235),n(74069),n(48889)),De=n(26411),Ue=n(18796),Be=n(46854),Fe=n(53399),He=n(91485),qe=n(2224),Ge=n(56106),ze=n(32466),$e=n(89632);n(17368),n(24471);!function(e){e.FullLocale="FullLocale",e.Language="Language",e.Market="Market",e.Script="Script",e.SitePath="SitePath"}(Re||(Re={}));Re.Language,Re.Script;const Xe=new RegExp(`^/(?<${Re.FullLocale}>(?<${Re.Language}>[a-z]{2,4})-?(?<${Re.Script}>[a-z]{4})?-(?<${Re.Market}>[a-z]{2}|[0-9]{3}))(?<${Re.SitePath}>[/?].*)?$`,"i");n(74407),n(64903);const Ve=Object.keys("MISSING_ENV_VAR").reduce(((e,t)=>(e[t]="MISSING_ENV_VAR"[t],e)),{BUILD_BUILDNUMBER:"1.1.2409.2607"});let We=!1;const je=Math.random().toString();function Ke(){var e;return"true"===(null===(e=document.querySelector('meta[name="sentry-sampled"]'))||void 0===e?void 0:e.getAttribute("content"))}const Ze=new Map;async function Ye(e,t){if((null===t||void 0===t?void 0:t.partnerId)&&Ze.has(t.partnerId))return Ze.get(t.partnerId);if(null===t||void 0===t?void 0:t.lazyConfig){const n=await t.lazyConfig();if(n.getSentryBrowserOptions){const r=await n.getSentryBrowserOptions(e),o=r?Je(r):null;return Ze.set(t.partnerId,o),o}}return function(e){let{environment:t,sampledOnService:n,reduxStateOnInitialNavigation:r}=e;var o;if(Ze.has("default"))return Ze.get("default");const a=Je({dsn:"https://86d661e5a4214309841b65c6b52ad6c5@o741402.ingest.sentry.io/5932552",release:"1.1.2409.2607",dist:"1.1.2409.2607",attachStacktrace:!0,environment:t,debug:"production"!==t,integrations:e=>(e.push((0,De.RH)()),e.push(Be.f({console:!1,fetch:!1,xhr:!1})),e.push(Fe.t({setInterval:!1,setTimeout:!1,requestAnimationFrame:!1,XMLHttpRequest:!0,eventTarget:!0})),e.push((0,$e.E8)()),e.push((0,Ue.E)()),e),sampleRate:(null!==(o=(0,l.XTy)(r,l.vCX.ClientErrorSampleRate))&&void 0!==o?o:0)/1e5,tracesSampler:()=>n});return Ze.set("default",a),a}(e)}async function Qe(e,t,n){let r=t;const o=t.match(Xe);if(null===o||void 0===o?void 0:o.groups){const e=o.groups[Re.FullLocale];r=t.replace(`${e}/`,"")}const a={environment:et(),sampledOnService:Ke(),reduxStateOnInitialNavigation:e},i=n.getPartnerConfigForPath(r),s=await Ye(a,i),c=Oe.nZ(),l=Oe.s3();l!==s&&(l&&(Oe.cg(!0),l.close()),s?(c.setClient(s),Oe.yj(),Oe.cg()):c.setClient(void 0))}function Je(e){return new He.R(_()(_()({},e),{},{stackParser:qe.Dt,integrations:(0,Me.m8)(e),transport:e=>Ge.f(e)}))}function et(){const e=window.location.hostname,t=Ve.SENTRY_PROD_HOST_NAME||"xbox.com",n=Ve.SENTRY_INT_HOST_NAME_ID||"origin-int";return e===t||e===`www.${t}`?"production":e.includes(n)?"integration":"development"}function*tt(){const e=yield(0,U.Si)(),t=yield(0,Ne.select)(A.PY),n=(0,me.getDataOrPrevious)(t);!0===(null===n||void 0===n?void 0:n.optionalDataCollectionValue)?(e.logger().info(`[sentrySagas] Sentry is being initialized because the user's ODC value is set to ${null===n||void 0===n?void 0:n.optionalDataCollectionValue}`),yield nt()):(e.logger().info(`[sentrySagas] Sentry is being shut down because the user's ODC value is set to ${null===n||void 0===n?void 0:n.optionalDataCollectionValue}`),Oe.xv(0).then((function(t){t?e.logger().info("[sentrySagas] Sentry events queue flushed and closed successfully."):e.logger().warn("[sentrySagas] Sentry events queue could not be flushed within the timeout or no client is defined.")}),(function(t){e.logger().error("[sentrySagas] Failed to flush and close Sentry events queue.",t)})))}function*nt(){const e=yield(0,U.Si)();e.logger().info("[sentrySagas] initializeSentrySaga()");!async function(e,t){Ve.BUILD_BUILDNUMBER&&""!==Ve.BUILD_BUILDNUMBER&&(ze.S({}),Qe(e,window.location.pathname,t),Oe.av({id:je}),We=!0)}(yield(0,Ne.select)(),yield(0,Ne.getContext)(xe)),async function(e){We&&Oe.av({id:e})}(e.cv().initialCv)}function*rt(){yield(0,Ne.takeLatest)(A.EJ.SUBMIT_CONSENT_SUCCESS,tt),yield(0,Ne.takeLatest)(A.EJ.FETCH_PRIVACY_CONSENT_SUCCESS,tt),yield(0,Ne.takeLatest)(Le.K.INIT,nt)}n(14121);var ot=n(51175);function at(e){this.message=e}at.prototype=new Error,at.prototype.name="InvalidCharacterError";var it=window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new at("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,o=0,a=0,i="";r=t.charAt(a++);~r&&(n=o%4?64*n+r:r,o++%4)?i+=String.fromCharCode(255&n>>(-2*o&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return i};function st(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(it(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return it(t)}}function ct(e){this.message=e}ct.prototype=new Error,ct.prototype.name="InvalidTokenError";const lt=function(e,t){if("string"!=typeof e)throw new ct("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(st(e.split(".")[n]))}catch(e){throw new ct("Invalid token specified: "+e.message)}},ut=(e,t)=>({text:e,link:t}),dt=e=>{const t=(0,l.upz)(),{msaUserInteractionRequiredBannerMessage:n,signInLink:r,closeBanner:o}=(0,he.y_)("msaUserInteractionRequiredBannerMessage","signInLink","closeBanner"),a=!!e.error,i=a?c.pF.Error:c.pF.Warning,s=[ut(r,t)],u=(e=>({text:e,onClick:c.au.hideAllBanners}))(o),d=(0,U._d)({contentName:a?"Authentication Error Banner Alert":"Authentication Warning Banner Alert",templateName:"AuthenticationBannerAlertComponent"},e.contentTelemetry);return h.createElement(c.bZ,{level:i,text:n,actions:s,closeAction:u,contentTelemetry:d})};class ht extends A.j2{constructor(e){super(e.telemetryProvider.logger()),this.gamertagToGamerpicUrl=new Map,this.clientAuthProviderV3=e.clientAuthProviderV3,this.dispatch=e.dispatch,this.aadUserGetter=e.aadUserGetter,this.getAccountSignInUrl=e.getAccountSignInUrl,this.getAccountSignOutUrl=e.getAccountSignOutUrl,this.getCoBrandingSignInUrl=e.getCoBrandingSignInUrl,this.useV2MeControl=e.useV2MeControl,this.telemetryProvider=e.telemetryProvider,this.serverUserXuid=e.serverUserXuid,this.lastAuthenticationDate=this.clientAuthProviderV3.lastAuthenticationDate(),this.setupAadTokenRefresh(),this.updateUserInfoState(),this.clientAuthProviderV3.addEventListener("activeAuthUserChanged",(()=>{this.updateUserInfoState()}))}static async create(e){var t;const n=new URLSearchParams(globalThis.location.search).get("sid"),r=globalThis.parent!==globalThis.window,o=await A.Iz.create({telemetryProvider:e.telemetryProvider,locale:e.locale,defaultRedirectUrl:k.$t,silentRedirectUri:k.Y$,msaSessionId:r&&n?n:void 0,cookiesProvider:e.cookiesProvider,isSisuUcsSupportEnabled:null!==(t=e.isSisuUcsSupportEnabled)&&void 0!==t&&t,skipLoginRedirectCounter:e.skipLoginRedirectCounter});return new ht(_()(_()({},e),{},{clientAuthProviderV3:o}))}getAuthProvider(){return this.clientAuthProviderV3}startSignInWithRedirect(e,t){var n;return this.cancelAadTokenRefresh(),null===(n=this.hideMsaUserInteractionRequiredBannerAlert)||void 0===n||n.call(this),this.clientAuthProviderV3.startSignInWithRedirect({returnUrlAfterSignIn:e,prompt:null===t||void 0===t?void 0:t.prompt})}async completeSignInAfterRedirectIfNeeded(){try{const e=await this.clientAuthProviderV3.completeSignInAfterRedirectIfNeeded();return await this.updateUserInfoState(),e}catch(e){const t=(0,ae.toError)(e);if(t instanceof A.cE)return this.clientAuthProviderV3.completeSignInAfterRedirectFromSisu();throw t}}startSignOutWithRedirect(e,t){return this.dispatch(A.hI.resetUserInfo()),this.clientAuthProviderV3.startSignOutWithRedirect({returnUrlAfterSignOut:e,msaSessionId:t})}async getMsaAccessTokenSilently(){const e=this.clientAuthProviderV3.getActiveAuthUser();if(!e)throw new Error("getMsaAccessTokenSilently failed; user is not signed into MSA.");if(e.isFullUser())try{const o=this.clientAuthProviderV3.createMsaCorrelationId();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return await e.msaTokenProvider.getMsaAccessToken({correlationId:o,scopes:n})}catch(o){const e=(0,ae.toError)(o);throw this._logger.verbose(`[ClientAuthenticationProviderV2BackCompat] Error in getMsaAccessTokenSilently ${e.message}`),e instanceof A.gz&&e.requiresInteraction&&this.showMsaUserInteractionRequiredBannerAlert(),o}}async isAuthenticated(){const e=this.clientAuthProviderV3.getActiveAuthUser();if(!e)return!1;const t=(0,A.IL)();if(!e.isFullUser())return!0;try{return await Promise.all(t.map((t=>e.getOrFetchXboxToken(t)))),!0}catch(n){return!1}}isTokenExpired(e){const t=this.clientAuthProviderV3.getActiveAuthUser();if(!t)return!1;const n=t.getXboxTokenLCE(e);return!!(0,me.isContent)(n)&&(0,me.isExpired)(n)}async refreshMeControl(){}async loadExternalTokensAndSignIn(e,t,n){await this.clientAuthProviderV3.signInWithExternalMsaTokens({serverAuthorizationTokenResponse:e,requestTimestamp:t})}createMsaCorrelationId(){return Promise.resolve(this.clientAuthProviderV3.createMsaCorrelationId())}__unstable__dev_tools(){return{showExpiredBanner:()=>this.showMsaUserInteractionRequiredBannerAlert()}}getCachedTokensInternal(){const e=this.clientAuthProviderV3.getActiveAuthUser();if(!e)return{};const t={};return Object.values(A.Q7).forEach((n=>{const r=e.getXboxTokenLCE(n),o=(0,me.getUnexpiredDataOrPrevious)(r);if(o){const{tokenData:e}=o;t[n]={token:e.token,expires:e.expiration,userHash:e.userHash,privileges:e.userPrivileges}}})),t}async acquireTokenAsyncInternal(e){if(!(0,A.p5)().includes(e))throw new Error("[ClientAuthenticationProviderV2BackCompat] Attempt to acquire token for unknown relying party.");const t=this.clientAuthProviderV3.getActiveAuthUser();if(t&&t.isFullUser())try{const{tokenData:n}=await t.getOrFetchXboxToken(e);return{token:n.token,expires:n.expiration,userHash:n.userHash,privileges:n.userPrivileges}}catch(n){const e=(0,ae.toError)(n);return this._logger.verbose(`[ClientAuthenticationProviderV2BackCompat] Error in acquireTokenAsyncInternal ${e.message}`),void(e instanceof A.gz&&e.requiresInteraction&&this.showMsaUserInteractionRequiredBannerAlert())}}async updateUserInfoState(){try{await this.clientAuthProviderV3.attemptV2ToV3UserTransition();const e=await this.getUserInfoFromXboxLiveToken();if(!e){const e=this.clientAuthProviderV3.getActiveAuthUser();return e&&e.isSessionUser()?void this._logger.verbose("[ClientAuthenticationProviderV2BackCompat] User is a session user, so not going to resetUserInfo. Exiting early"):(this._logger.verbose("[ClientAuthenticationProviderV2BackCompat] No user info found in updateUserInfoState. Going to clear userInfo"),void this.dispatch(A.hI.setUserInfo(!1,{userInfo:void 0,isDefaultUserAgeGatingInfo:!0})))}if(this.serverUserXuid&&this.serverUserXuid!==e.xuid){this._logger.warn("[ClientAuthenticationProviderV2BackCompat] - Server user XUID does not match client user XUID. Handling mismatch.");const e=this.clientAuthProviderV3.getActiveAuthUser();null===e||void 0===e||e.destroy();const t=new URL("/auth/clean-up",window.location.origin),n=new URL(window.location.href),r=new URLSearchParams(n.search);n.search=r.toString();const o=new URLSearchParams;throw o.set("returnUrl",n.toString()),t.search=o.toString(),window.location.href=t.toString(),await new Promise((e=>{setTimeout(e,5e3)})),new Error("Server user xuid does not match client user xuid")}this.dispatch(A.hI.setUserInfo(!0,{userInfo:e,isDefaultUserAgeGatingInfo:!e}))}catch(e){const t=(0,ae.toError)(e);this._logger.error("[ClientAuthenticationProviderV2BackCompat] Error in updateUserInfoState",t)}}async getUserInfoFromXboxLiveToken(){var e;const t=this.clientAuthProviderV3.getActiveAuthUser();if(!t)return;const n=t.getXboxTokenLCE(A.Q7.XboxLive),r=(0,me.getDataOrPrevious)(n);if(!r)return void this._logger.verbose("[ClientAuthenticationProviderV2BackCompat] No XboxLive token found in getUserInfoFromXboxLiveToken.");const o=r.tokenData;if(!o.userXuid||!o.userGamertag)return void this._logger.warn("[ClientAuthenticationProviderV2BackCompat] No userXuid or userGamertag found in XboxLive token in getUserInfoFromXboxLiveToken.");let a="",i="";t.isFullUser()&&(a=null!==(e=t.msaName)&&void 0!==e?e:"",i=t.msaUsername);const s=await this.getOrFetchGamerpic(o.userGamertag);return s||this._logger.warn("[ClientAuthenticationProviderV2BackCompat] Failed to getOrFetchGamerpic for gamertag"),{firstName:a,lastName:"",email:i,xuid:o.userXuid,gamerTag:o.userGamertag,ageGroup:o.userAgeGroup?l.zHJ[o.userAgeGroup]:void 0,privileges:o.userPrivileges,gamerPicUrl:s}}setupAadTokenRefresh(){this.cancelAadTokenRefresh(),this.refreshAadTimeout=setInterval((async()=>{await this.fetchUpdatedAadToken()}),9e5)}cancelAadTokenRefresh(){this.refreshAadTimeout&&clearInterval(this.refreshAadTimeout)}async fetchUpdatedAadToken(){const e=this.aadUserGetter();try{if(e){const t=await fetch("/aad/refresh");if(!t.ok)throw this._logger.error("[ClientAuthenticationProviderV2BackCompat] Token refresh failed."),new Error("[ClientAuthenticationProviderV2BackCompat] Token refresh failed.");const n=await t.text(),r=lt(n),o=_()(_()({},e),{},{exp:r.exp});this.dispatch(A.hI.updateAadUser(o,n))}}catch(t){this.dispatch(A.hI.updateAadUser(void 0,void 0))}}async getOrFetchGamerpic(e){var t;const n=this.gamertagToGamerpicUrl.get(e);if(n)return n;const r=(0,pe.mm)(this.telemetryProvider),o=this.telemetryProvider.cv().increment(),a=encodeURIComponent(e),i=ot.RequestFactory.withBaseUrl("https://peoplehub-public.xboxlive.com").setCommonHeaders({[ot.HttpHeader.ContentType]:"application/json",[ot.HttpHeader.XXBLContractVersion]:"1"}).setCommonMetadataValue(U.XP,{dependencyName:U.JS.PeopleHub,dependencyOperationName:"people/gt"}).setCommonMaxRetries(ot.DEFAULT_MAX_RETRIES);try{const n=await r.execute(i.get(`people/gt(${a})`,{headers:{"ms-cv":o,[ot.HttpHeader.ContentType]:"application/json",[ot.HttpHeader.XXBLContractVersion]:"3",[ot.HttpHeader.AcceptLanguage]:"*","x-xbl-client-name":"xbox.com","x-xbl-client-type":"web"}})),s=null===(t=n.data.people[0])||void 0===t?void 0:t.displayPicRaw;if(!s)return;return this.gamertagToGamerpicUrl.set(e,s),s}catch(s){const t=(0,ae.toError)(s);return void this._logger.error(`[ClientAuthenticationProviderV2BackCompat] Failed to fetch gamerpic for gamertag: ${e}`,t)}}showMsaUserInteractionRequiredBannerAlert(){globalThis.location.pathname.includes(k.$t)||this.hideMsaUserInteractionRequiredBannerAlert||(this.hideMsaUserInteractionRequiredBannerAlert=c.au.displayBanner((()=>h.createElement(dt,null))))}}function*mt(){const e=yield(0,Ne.call)(gt),t=yield(0,U.Si)();e?(t.logger().info("[authSaga] Fetching privacy consent"),yield(0,Ne.all)([(0,Ne.take)([A.hI.fetchPrivacyConsent.success,A.hI.fetchPrivacyConsent.error]),(0,Ne.put)(A.hI.fetchPrivacyConsent.start(!1))])):t.logger().info("[authSaga] User is not an adult user, skipping consent fetch")}function*pt(e){yield(0,Ne.all)([(0,Ne.take)([l.pb1.FETCH_EXPERIMENT_DATA_ERROR,l.pb1.FETCH_EXPERIMENT_DATA_SUCCESS]),(0,Ne.put)(l.D65.requestExperimentDataFetch(e))])}function*gt(){const e=yield(0,A.le)(),t=e instanceof A.Iz?e:e instanceof ht?e.clientAuthProviderV3:void 0;if(!t)return!1;const n=t.getActiveAuthUser();if(!n)return!1;const r=n.getXboxTokenLCE(A.Q7.XboxLive),o=(0,me.getDataOrPrevious)(r);return o&&o.tokenData.userAgeGroup===l.zHJ.Adult}const ft=function*(){const e=yield(0,A.le)(),t=e instanceof A.Iz?e:e instanceof ht?e.clientAuthProviderV3:void 0;if(t){if(!t.initialized){const e=(0,le.eventChannel)((e=>{const n=t=>{e(t)};return t.addEventListener("initialized",n),()=>t.removeEventListener("initialized",n)}));yield(0,Ne.take)(e),e.close()}t.getActiveAuthUser()?(yield(0,Ne.call)(mt),yield(0,Ne.call)(pt,l.lO9.SilentSignIn)):yield(0,Ne.call)(pt,l.lO9.SignInUnavailable),yield(0,Ne.put)(l.itn.setBootstrapInitialized());const e=(0,le.eventChannel)((e=>{const n=t=>{e(t)};return t.addEventListener("activeAuthUserChanged",n),()=>t.removeEventListener("activeAuthUserChanged",n)}));yield(0,Ne.takeEvery)(e,(function*(e){e.authStateChange!==A.qX.SignInUnavailable&&(yield(0,Ne.call)(mt)),yield(0,Ne.put)(l.D65.requestExperimentDataFetch((e=>{switch(e){case A.qX.DeviceCodeSignIn:return l.lO9.DeviceCodeSignIn;case A.qX.InteractiveSignIn:return l.lO9.InteractiveSignIn;case A.qX.SignInUnavailable:return l.lO9.SignInUnavailable;case A.qX.SilentSignIn:return l.lO9.SilentSignIn}return l.lO9.Unknown})(e.authStateChange)))}))}else yield(0,Ne.put)(l.itn.setBootstrapInitialized())};async function vt(e){let{locale:t,clientIp:n,telemetryProvider:r,authenticationProvider:o,isStaging:a,anonToken:i,deviceId:s,platform:c}=e;const u=function(e){let{deviceId:t,locale:n,clientIp:r,platform:o}=e;const a=new URLSearchParams;return t&&a.append("deviceId",t),r&&a.append("clientIp",r),o&&a.append("platform",o),a.append("appVersion",l.xUA.BUILD_VERSION),a.append("env",l.xUA.DEPLOYMENT_ENV),a.append("locale",n),`experimentation?${a.toString()}`}({deviceId:s,locale:t,clientIp:n,platform:c});try{const e=await(0,pe.S)(u,{addAuthorization:!0,isRequired:!1},r,o,{anonToken:i},{aadToken:"",isMandatory:!1},{dependencyName:U.JS.EmeraldXbetService,dependencyOperationName:"Experimentation"},a,{[pe.zF.MsApiVersion]:"2.0"});if(!(0,l.hAT)(e.status)||!e.data)throw new pe.C("Failed to get data for experimentation",e.status);return e.data.exp}catch(d){const e=(0,ae.toError)(d);return void r.logger().error("Experimentation info fetch failed.",e)}}function*_t(e){const t=(yield(0,l.FMS)()).get(l.jmv),n=yield(0,A.le)(),r=yield(0,Ne.call)([n,n.isAuthenticated]),o=yield(0,Ne.select)(l.LAY);((0,me.isError)(o)||r||t)&&(yield(0,Ne.put)(l.D65.setExperimentDataToLoading()),yield function*(e,t,n){try{const r=yield(0,A.le)(),o=yield(0,Ne.select)(l.yWe),a=yield(0,Ne.select)(l.Xnf),i=yield(0,Ne.select)(l.$Pr,l.vCX.StagingFD),s=yield(0,U.Si)(),c=new y.LK(null===a||void 0===a?void 0:a.userAgent),u=yield(0,Ne.call)(vt,{locale:o.localeWithScript,clientIp:a.forwardedIp,telemetryProvider:s,authenticationProvider:r,anonToken:a.anonToken,isStaging:i,deviceId:n,platform:c.osName});if(!u)throw new Error("Failed to fetch experimentation data");{yield(0,Ne.put)(l.D65.fetchExperimentDataSuccess(u));const r=yield(0,Ne.select)(A.PY);s.logExperimentationSnapshot(u,_()({experimentDataUpdateReason:e},(0,me.getDataOrPrevious)(r)),!!n,!!t)}}catch(r){const e=(0,ae.toError)(r);yield(0,Ne.put)(l.D65.fetchExperimentDataError(e))}}(e.assignmentUpdateTrigger,r,t))}function*yt(){yield(0,Ne.takeLatest)(l.pb1.REQUEST_EXPERIMENT_DATA_FETCH,_t)}function*bt(e){const t=yield(0,Ne.select)(l.LAY);(0,me.isFetching)(t)&&(yield(0,Ne.take)([l.pb1.FETCH_EXPERIMENT_DATA_SUCCESS,l.pb1.FETCH_EXPERIMENT_DATA_ERROR]));const n=yield(0,Ne.select)(l.TrC);return(0,l.QLG)(n,e)}function*Et(e){const t=yield(0,Ne.call)(bt,e);if("string"===typeof t)return t}function*Ct(e){const t=yield(0,Ne.call)(bt,e);if("boolean"===typeof t)return t}var St=n(93706);function*Tt(e){var t;let n;const r=new URLSearchParams(e);if(n=null===(t=(0,l.oB7)(r,pe.cG.ThemeOverride))||void 0===t?void 0:t.value,n||(n=yield(0,Ne.select)(l.PE2,l.vCX.SiteThemeOverride)),n)switch(n.toLowerCase()){case"light":return l.Q2A.Light;case"dark":return l.Q2A.Dark}}const It=(e,t,n)=>{n?e.set(l.RmD,n,{essential:!0}):e.delete(l.RmD)};function*wt(e,t,n,r){const o=yield(0,Ne.call)(Tt,t),a=yield(0,l.FMS)();if(o)return yield(0,Ne.put)(l.uQd.setTheme(o)),void(yield(0,Ne.call)(It,a,e,o));let i,s=null===n||void 0===n?void 0:n.theme;if(!s&&(null===n||void 0===n?void 0:n.lazyConfig)){s=(yield(0,Ne.call)(n.lazyConfig)).theme}if(s&&n){const t=s;t&&(i=(e=>"function"===typeof e)(t)?yield(0,Ne.select)((r=>t(r,e,n))):t),i?(yield(0,Ne.put)(l.uQd.setTheme(i)),yield(0,Ne.call)(It,a,e,i)):r||(yield(0,Ne.put)(l.uQd.resetTheme()),yield(0,Ne.call)(It,a,e,void 0))}else{const e=a.get(l.RmD);let t;e&&(t=e in l.Q2A?l.Q2A[e]:void 0),t?yield(0,Ne.put)(l.uQd.setTheme(t)):yield(0,Ne.put)(l.uQd.resetTheme())}}function*At(e,t,n,r){if(!e||!e.lazyConfig)return;const o=yield(0,Ne.call)(e.lazyConfig);if(o.fetchDataSaga&&(!e.requiresNewRequest||e.requiresNewRequest(e.path,t,n)||r)){const n=yield(0,Ne.select)(l.Yzi),r=yield(0,U.I4)(),a=(0,l.ew0)(e,n);yield(0,Ne.put)(l.ej0.pageDataRequest.start(a));try{yield(0,Ne.call)(o.fetchDataSaga,e,t),yield(0,Ne.put)(l.ej0.pageDataRequest.success(a));let n=null===e||void 0===e?void 0:e.uhfConfig;if((0,St.a)(n)){n=yield(0,Ne.call)(n)}}catch(at){const n=(0,ae.toError)(at);r.error(`Failed to fetch page data for path: ${t.pathname}`,n),yield(0,Ne.put)(l.ej0.pageDataRequest.error(a,n))}}}function*kt(e,t,n){const r=yield(0,l.zUJ)(e.pathname),o=yield(0,Ne.getContext)(xe);yield(0,Ne.call)(o.loadConfigurationForPath,e.pathname),yield(0,Ne.call)(wt,e.pathname,e.search,r,!0),yield(0,Ne.call)(At,r,e,t,n),yield(0,Ne.call)(wt,e.pathname,e.search,r,!1)}function*Pt(e){var t,n,r,o;const a=yield(0,l.zUJ)(e.newLocation.pathname);if(null===a||void 0===a?void 0:a.isServerOnly)(null===(n=null===(t=e.oldLocation)||void 0===t?void 0:t.pathname)||void 0===n?void 0:n.toLowerCase())!==(null===(o=null===(r=e.newLocation)||void 0===r?void 0:r.pathname)||void 0===o?void 0:o.toLowerCase())&&globalThis.location.reload();else{const t=yield(0,Ne.select)(),n=yield(0,Ne.getContext)(xe);yield(0,Ne.call)(Qe,t,e.newLocation.pathname,n),yield(0,Ne.call)(kt,e.newLocation,e.oldLocation,e.forceRefresh)}}function*xt(){yield(0,Ne.takeEvery)(l.cP9.LOCATION_CHANGE,Pt)}function*Rt(){(yield(0,U.Si)()).resetAuthenticationState()}function*Nt(){yield(0,Ne.takeEvery)(A.EJ.RESET_USER_INFO,Rt)}function*Ot(){var e;const t=yield(0,Ne.select)(l.Yzi),n=yield(0,U.Si)(),r=yield(0,l.gjf)(),o=null!==(e=null===l.xUA||void 0===l.xUA?void 0:l.xUA.UHF_TARGETING_ID)&&void 0!==e?e:"Xbox_Com",a=yield(0,Ne.select)(l.$Pr,l.vCX.StagingFD),i=yield(0,Ne.select)(l.$Pr,l.vCX.DisableUhfWcp),s=yield(0,Ne.call)(pe.Z0,`uhf?locale=${t}&targeting=${o}&cookieComplianceEnabled=${!i}`,n,r,{dependencyName:U.JS.EmeraldXbetService,dependencyOperationName:"UHF"},a,void 0,void 0,{timeout:15e3});if(!(0,l.hAT)(s.status)||!s.data)throw new Error("No data found from uhf response");return s.data}function*Lt(e){try{const e=yield(0,Ne.call)(Ot);if(!e)throw new Error("Failed to fetch metadata for UHF");yield(0,Ne.put)(l.j4h.fetchUhf.success(e))}catch(at){const t=(0,ae.toError)(at);console.error(t),yield(0,Ne.put)(l.j4h.fetchUhf.error(t))}}function*Mt(e){const t=yield(0,l.zUJ)(e);let n=null===t||void 0===t?void 0:t.uhfConfig;if((0,St.a)(n)){n=yield(0,Ne.call)(n)}const r=null===n||void 0===n?void 0:n.headerMode;r?yield(0,Ne.put)(l.j4h.setHeaderMode(r)):yield(0,Ne.put)(l.j4h.resetHeaderMode());const o=null===n||void 0===n?void 0:n.footerMode;o?yield(0,Ne.put)(l.j4h.setFooterMode(o)):yield(0,Ne.put)(l.j4h.resetFooterMode())}function*Dt(e){yield(0,Ne.call)(Mt,e.newLocation.pathname)}function*Ut(){yield(0,Ne.takeEvery)(l.euC.FETCH_UHF_START,Lt),yield(0,Ne.takeEvery)(l.cP9.LOCATION_CHANGE,Dt)}var Bt=n(79730);function*Ft(e,t){const n=yield(0,U.Si)(),r=yield(0,A.le)();let o;try{o=yield(0,Ne.call)([r,r.getMsaAccessTokenSilently],e)}catch(s){const e=(0,ae.toError)(s);n.logger().error(`[userConsentServiceSagas] Error acquiring MSA \n    token to authenticate UCS calls: ${e.message}`)}const a={getToken:()=>Promise.resolve(o?{token:`Bearer ${o}`}:null)},i=yield(0,Ne.select)(l.yWe);return new Bt.UnifiedConsentService(a,(()=>Promise.resolve(i.localeWithScript)),(()=>{const e=n.cv().increment();return Promise.resolve(e)}),(0,U.zX)(n),t)}function Ht(e){let{id:t,values:n,modelType:r,consentSurface:o}=e;return function*(){const e=yield(0,U.Si)(),a=yield(0,Ne.call)(Ft,A.i4,o);try{e.logger().info(`[userConsentServiceSagas] Submitting privacy consent id: ${t}, values: ${JSON.stringify(n)}`),yield a.submitConsent({id:t,values:n,consentSurface:o}),yield(0,Ne.put)(A.hI.submitConsent.success({id:t,values:n,modelType:r})),yield(0,Ne.call)($t)}catch(i){yield(0,Ne.put)(A.hI.submitConsent.error((0,ae.toError)(i),r))}}()}function qt(e){let{consentSurface:t}=e;return function*(){const e=yield(0,U.Si)(),n=yield(0,Ne.call)(Ft,A.i4,t);try{e.logger().info("[userConsentServiceSagas] Fetching privacy consent ui details");const r=yield n.getPrivacyConsentUiDetails();yield(0,Ne.put)(A.hI.fetchPrivacyConsentUiDetails.success(r,t))}catch(r){const n=(0,ae.toError)(r);e.logger().error(`[userConsentServiceSagas] Error: ${n.message}`),yield(0,Ne.put)(A.hI.fetchPrivacyConsentUiDetails.error(n,t))}}()}function Gt(e){let{shouldSendSnapshot:t}=e;return function*(){const e=yield(0,U.Si)(),n=yield(0,Ne.call)(Ft,A.t2);try{e.logger().info("[userConsentServiceSagas] Fetching privacy consent");const r=yield n.getPrivacyConsent();yield(0,Ne.put)(A.hI.fetchPrivacyConsent.success(r)),t&&(yield(0,Ne.call)($t))}catch(r){const t=(0,ae.toError)(r);e.logger().info(`[userConsentServiceSagas] Error: ${t.message}`),yield(0,Ne.put)(A.hI.fetchPrivacyConsent.error(t))}}()}function*zt(){const e=yield(0,Ne.select)(A.PY);if((0,me.isContent)(e)&&e.cacheTimeInMS){const t=yield(0,U.Si)(),n=6e5,r=e.cacheTimeInMS-(Date.now()-e.lastFetchedMS)-n;if(r<=0)throw new Error("[userConsentServiceSagas] timeMSUntilExpiration is negative, aborting");const o=Math.floor(r/36e5),a=Math.floor(r%36e5/6e4),i=Math.floor(r%6e4/1e3);t.logger().info(`[userConsentServiceSagas] Starting privacy consent data refetch delay for: ${o} hours, ${a} minutes and ${i} seconds`),yield(0,Ne.delay)(r),t.logger().info("[userConsentServiceSagas] Cached privacy consent data is about to expire in 10 minutes, attempting to refresh"),yield(0,Ne.put)(A.hI.fetchPrivacyConsent.start())}}function*$t(){const e=yield(0,U.Si)(),t=yield(0,Ne.select)(A.PY),n=(0,me.getDataOrPrevious)(t);if(n){const t=(yield(0,l.FMS)()).get(l.jmv),r=yield(0,A.le)(),o=yield(0,Ne.call)([r,r.isAuthenticated]),a=yield(0,Ne.select)(l.m2K);e.logger().info(`[userConsentServiceSagas] Logging experiment snapshot with updated consent values: ${JSON.stringify(n)}`),e.logExperimentationSnapshot(a,_()({experimentDataUpdateReason:l.lO9.ConsentValuesUpdated},n),!!t,!!o)}}function*Xt(){yield(0,Ne.takeEvery)(A.EJ.SUBMIT_CONSENT,Ht),yield(0,Ne.takeEvery)(A.EJ.FETCH_PRIVACY_CONSENT_UI_DETAILS,qt),yield(0,Ne.takeEvery)(A.EJ.FETCH_PRIVACY_CONSENT,Gt),yield(0,Ne.takeLatest)([A.EJ.FETCH_PRIVACY_CONSENT_SUCCESS,A.EJ.FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS,A.EJ.SUBMIT_CONSENT_SUCCESS],zt)}var Vt=n(86671);const Wt=e=>{let{configManager:t,children:n}=e;const{subscribe:r,getClientState:o,getServerState:a,loadPartner:i,getPartnerConfigForPath:s}=t,c=(0,h.useSyncExternalStore)(r,o,a),l=t.getPartnerConfigMap(),u=(0,h.useMemo)((()=>({partnerLoadingState:c,loadPartner:i,partnerConfigs:l,getPartnerConfigForPath:s})),[c,i,l,s]);return h.createElement(Vt.H.Provider,{value:u},n)};var jt=n(52034),Kt=n.n(jt);class Zt{constructor(){0}get(e){return Kt().get(e)}getAll(){return Kt().get()}set(e,t,n){const r=this.createCookieOptionsWithDefaults(n);if(r.essential||(0,l.MR9)((0,l.Nn)(this.get(l.weN)),r.categories)){if(!r.sessionOnly){const e="number"===typeof r.maxAgeMilliseconds?r.maxAgeMilliseconds:3888e6;r.expires=r.expires||new Date((new Date).getTime()+e)}return delete r.maxAgeMilliseconds,delete r.categories,delete r.essential,Kt().set(e,t,r)}}delete(e,t){Kt().remove(e,this.createCookieOptionsWithDefaults(t))}createCookieOptionsWithDefaults(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _()(_()({sameSite:"lax",path:"/",secure:!0,domain:window.location.hostname},e),{},{essential:!0})}}n(59086),n(87659);var Yt=n(18717),Qt=n(31451),Jt=n(83273),en=n(60388),tn=n(13568);const nn=(0,Jt.SS)();let rn=!1;new WeakSet;var on=n(59406);const an=e=>{(0,ie.TA)().then((async()=>{var t,n,r;const o=new Ie,a=o.setPartnerPackages(e.partnerConfigurations),i=new Set(e.clientRelyingParties||[]),s=new Set(e.requiredCookieRelyingParties||[]);for(const e of a)if(e.serverRelyingParties)for(const t of e.serverRelyingParties)s.add(t),i.add(t);(0,A.ey)(Array.from(i)),(0,A.Jf)(Array.from(s));const{store:u}=(()=>{const e=window.__PRELOADED_STATE__;return delete window.__PRELOADED_STATE__,{store:(0,tn.W)(en.R,e,(0,Qt.U)((0,Yt.applyMiddleware)(nn.enhancer))),preloadedState:e}})(),d=u.dispatch;d(l.itn.setIsReactDomHydrating(!0));const m=u.getState(),g=(0,l.yWe)(m),f=(0,l.TrC)(m),v=(0,l.g48)(m),y=()=>(0,A.nY)(u.getState()).aadUser,b=(0,l.$Pr)(m,l.vCX.EnableV2MeControl),E=(0,on.lJ)(u.getState),C=new Zt;let S=C.get(l.jmv);"undefined"===(null===S||void 0===S?void 0:S.toLowerCase())&&(C.delete(l.jmv),S=void 0);const T=null!==S&&void 0!==S?S:(0,ue.Z)().replace(/-/g,"").toUpperCase();let I;S||C.set(l.jmv,T,{maxAgeMilliseconds:31536e6,sameSite:"none",domain:".xbox.com",essential:!1}),d(l.itn.setDeviceId(T));const w=null!==(t=(0,l.$Pr)(m,l.vCX.SkipRedirectCounter))&&void 0!==t&&t,k=g.localeWithScript,P=(0,l.r$u)(k),x=(0,l.lF6)(k),R=(0,l.qG9)(k),N=null===(n=(0,A.bG)(m))||void 0===n?void 0:n.xuid;if(e.customAuthProvider)I=e.customAuthProvider;else{const e=null!==(r=(0,l._89)(m,l.vCX.EnableSisuUcsSupport))&&void 0!==r&&r;I=await ht.create({telemetryProvider:E,aadUserGetter:y,dispatch:d,getAccountSignInUrl:P,getAccountSignOutUrl:x,getCoBrandingSignInUrl:R,useV2MeControl:b,serverUserXuid:N,locale:k,cookiesProvider:C,isSisuUcsSupportEnabled:e,skipLoginRedirectCounter:w}),E.logAuthAction({name:"XboxInitializedAuthVersion",version:"v3"})}const O=((e,t,n,r,o)=>({[we]:e,[Ae]:t,[ke]:n,[Pe]:r,[xe]:o}))(E,I,C,null,o),L=(e=>{rn&&console.warn("Double configuration of saga middleware detected. Ignoring.");const t=(0,le.default)({context:e,onError:e=>{Oe.Tb(e)}});return nn.addMiddleware(t),rn=!0,t})(O),M=(0,l.Sl8)(window.location.pathname,k);o.setSagaMiddleware(L),o.setStore(u),o.setTelemetryProvider(E),await o.initialize(),await o.loadConfigurationForPath(M);const D=(0,l.o$o)(M,f,v,k);if(D&&D.lazyConfig){const{bootstrapClientEnvironmentSaga:e}=await D.lazyConfig();if(e)try{await L.run(e).toPromise()}catch($){$ instanceof Error?E.logger().error("bootstrapClientEnvironmentSaga error",$):E.logger().error("unknown bootstrapClientEnvironmentSaga error")}}const B=u.getState();var F;F=L,[Ut,Nt,xt,yt,Xt,rt,ft].forEach((e=>{F.run(e)}));const H=await(async(e,t,n)=>{const r=n?await n(e):await(0,he.gI)(e);return e=>{const n=(0,U.Fj)();(0,h.useSyncExternalStore)(t.subscribe,t.getClientState,t.getServerState);const o=t.getPartnerResources(),a=(0,h.useMemo)((()=>_()({baseStrings:r},o)),[o]),i=(0,h.useCallback)((e=>(n.error(e.message),()=>e.path.join("."))),[n]);return h.createElement(de.x,_()({messages:a,onError:i},e))}})(g,o,e.getResourceStringsAsync),q=(0,l.m2K)(B);function G(){return(0,h.useEffect)((()=>{d(l.itn.setIsReactDomHydrating(!1))}),[]),h.createElement(c.xe,{cV:E.cv().get()},(()=>h.createElement(p.Provider,{store:u,serverState:B},h.createElement(l.PJd.Provider,{value:C},h.createElement(U.TA.Provider,{value:E},h.createElement(A.zC.Provider,{value:I},h.createElement(H,null,h.createElement(ce.BrowserRouter,{basename:k},h.createElement(Wt,{configManager:o},h.createElement(e.app,null))))))))))}E.logExperimentationSnapshot(q,{experimentDataUpdateReason:l.lO9.AppLoad},!!C.get(l.jmv),!!N);const z=document.getElementById("root");(0,se.a)(z,h.createElement(G,null),{onRecoverableError:async function(e){const t=(0,l.Sl8)(window.location.pathname,g.localeWithScript),n=o.getPartnerConfigForPath(t);if(n&&n.lazyConfig)try{const{onRecoverableReactErrorSaga:t}=await n.lazyConfig();t&&await(0,le.runSaga)({getState:u.getState.bind(u),dispatch:u.dispatch.bind(u),context:O},t,e).toPromise()}catch(e){E.logger().error(`onRecoverableError error from partner: ${n.partnerId}`,(0,ae.toError)(e))}}})}))};n(21850);const sn=/^(\/[^/]+)?\/store\/(cart|buy)(\/)?(\?.*)?$/i,cn=e=>{const t=(0,E.k6)(),n=(0,p.useSelector)(l.Yzi),r=(0,p.useSelector)(l.TrC),o=(0,l.Sph)(),a=(0,p.useSelector)((e=>(0,l.$Pr)(e,l.vCX.DisableUhfXboxCart))),i=(0,U.Fj)(),s=!a&&!!o&&o.enableXboxCart,c=(0,p.useSelector)(l.gzb)===l.Q2A.Dark,u=(0,h.useCallback)((e=>{const o=(e=>{let t=e,n=0;for(;t&&"A"!==t.nodeName&&n<10;)t=t.nodeName?t.parentElement:null,++n;return t||void 0})(e.target);if(!o)return;if(o.target&&"_self"!==o.target)return;if(!o.href)return;if(0===(o.getAttribute("href")||"").indexOf("#")||0===o.href.replace(window.location.origin+window.location.pathname,"").indexOf("#"))return;const a=new URL(o.href,window.location.origin);let u,d=!1;if((0,l.rpX)(a.host)){const e=(0,l.Sl8)(a.pathname,n),t=(0,l.o$o)(e,r,void 0,n);t&&(u={pathname:e,search:a.search,hash:a.hash},d=!t.isServerOnly)}else if(s&&("https://www.microsoft.com"===(h=a).origin&&sn.test(h.pathname)))c&&a.searchParams.append(pe.cG.ThemeOverride,"dark"),u={pathname:"/cart",search:a.search};else if((0,l.byQ)(a)){const e=(0,l.dFq)(a,void 0),t=new URL(e,window.location.origin);u={pathname:t.pathname,search:t.search}}var h;if(u)try{d&&(e.preventDefault(),t.location.pathname!==u.pathname&&t.push(u))}catch(m){i.error("Error occurred while trying to navigate to target location",m)}}),[t,n,s,c,r,i]);return h.createElement("div",{onClick:e=>{e.defaultPrevented||e.metaKey||e.ctrlKey||e.shiftKey||0!==e.button||u(e)},onKeyPress:e=>{e.defaultPrevented||e.metaKey||e.ctrlKey||e.shiftKey||"Enter"!==e.key&&"Space"!==e.key||u(e)}},e.children)};n(2638);var ln=n(36562),un=(n(80082),n(71602)),dn=(n(55292),n(49377)),hn=n(79976)},71602:(e,t,n)=>{"use strict";function r(e,t){return function(n){return()=>e().then((e=>t(e)[n]))}}n.d(t,{t:()=>r})},23693:(e,t,n)=>{"use strict";n.d(t,{X:()=>i,y:()=>s});var r=n(21883),o=n(2784),a=n(86671);function i(){return(0,o.useContext)(a.H)}function s(e){const t=i(),n=t.loadPartner,a=t.partnerLoadingState[e],s=t.partnerConfigs[e];return a.type===r.LCEType.NotRequested&&n(e),(0,o.useMemo)((()=>{const e=a.type===r.LCEType.NotRequested||a.type===r.LCEType.Fetching&&!a.previousContent,t={lce:a.type===r.LCEType.NotRequested?(0,r.lceFetching)():a,isLoading:e,isFetching:a.type===r.LCEType.Fetching||a.type===r.LCEType.NotRequested,isError:a.type===r.LCEType.Error,error:a.type===r.LCEType.Error?a.error:void 0};return[s,t]}),[s,a])}},77404:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});var r,o=n(16216);!function(e){e.INIT="@sentry/init"}(r||(r={}));(0,o.PHw)(r.INIT,o.sXi.AppContext,"",(()=>({})))},93706:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"===typeof e}n.d(t,{a:()=>r})},3963:(e,t,n)=>{"use strict";var r=n(814).default;n(73439),n(6886);const o=n(59228),a=async(e,t,n)=>{let a;(n=r({delayRejection:!0},n)).delayRejection&&(e=e.catch((e=>{a=e})));const i=await Promise.all([e,o(t)]);return a?Promise.reject(a):i[0]};e.exports=a,e.exports.default=a},33127:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>s});var r=n(37101),o=!1,a=!1;try{var i={get passive(){return o=!0},get once(){return a=o=!0}};r.Z&&(window.addEventListener("test",i,i),window.removeEventListener("test",i,!0))}catch(c){}const s=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!a){var i=r.once,s=r.capture,c=n;!a&&i&&(c=n.__once||function e(r){this.removeEventListener(t,e,s),n.call(this,r)},n.__once=c),e.addEventListener(t,c,o?r:s)}e.addEventListener(t,n,r)}},37101:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=!(!window.document||!window.document.createElement)},8258:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(48968);function o(e,t){return function(e){var t=(0,r.Z)(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var a=/([A-Z])/g;var i=/^ms-/;function s(e){return function(e){return e.replace(a,"-$1").toLowerCase()}(e).replace(i,"-ms-")}var c=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const l=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(s(t))||o(e).getPropertyValue(s(t));Object.keys(t).forEach((function(o){var a=t[o];a||0===a?!function(e){return!(!e||!c.test(e))}(o)?n+=s(o)+": "+a+";":r+=o+"("+a+") ":e.style.removeProperty(s(o))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}},72487:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(33127),o=n(88555);const a=function(e,t,n,a){return(0,r.ZP)(e,t,n,a),function(){(0,o.Z)(e,t,n,a)}}},48968:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:()=>r})},88555:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t,n,r){var o=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)}},30268:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(8258),o=n(72487);function a(e,t,n){void 0===n&&(n=5);var r=!1,a=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r),e.dispatchEvent(o)}}(e,"transitionend",!0)}),t+n),i=(0,o.Z)(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(a),i()}}function i(e,t,n,i){null==n&&(n=function(e){var t=(0,r.Z)(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var s=a(e,n,i),c=(0,o.Z)(e,"transitionend",t);return function(){s(),c()}}},47677:e=>{"use strict";e.exports=function(e,t,n,r,o,a,i,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,i,s],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},52034:(e,t,n)=>{var r,o;!function(a){if(void 0===(o="function"===typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=a(),!!0){var i=window.Cookies,s=window.Cookies=a();s.noConflict=function(){return window.Cookies=i,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function a(t,n,a){if("undefined"!==typeof document){"number"===typeof(a=e({path:"/"},o.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var i=JSON.stringify(n);/^[\{\[]/.test(i)&&(n=i)}catch(l){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in a)a[c]&&(s+="; "+c,!0!==a[c]&&(s+="="+a[c].split(";")[0]));return document.cookie=t+"="+n+s}}function i(e,n){if("undefined"!==typeof document){for(var o={},a=document.cookie?document.cookie.split("; "):[],i=0;i<a.length;i++){var s=a[i].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(r.read||r)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(u){}if(o[l]=c,e===l)break}catch(u){}}return e?o[e]:o}}return o.set=a,o.get=function(e){return i(e,!1)},o.getJSON=function(e){return i(e,!0)},o.remove=function(t,n){a(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},89971:(e,t,n)=>{"use strict";n.r(t)},91841:(e,t,n)=>{"use strict";n.d(t,{CD:()=>l,GE:()=>w,Hs:()=>p,MM:()=>c,OJ:()=>I,QD:()=>d,RL:()=>y,S5:()=>T,Sv:()=>E,UV:()=>A,Vl:()=>i,XP:()=>N,Xv:()=>r,Y1:()=>b,_0:()=>f,eA:()=>L,eG:()=>C,gg:()=>v,ht:()=>_,kI:()=>m,kr:()=>o,o9:()=>u,oI:()=>g,p:()=>s,pD:()=>a,qT:()=>x,qg:()=>h,ri:()=>O,sH:()=>R,tG:()=>M,vv:()=>P,x:()=>k,x2:()=>S});var r="Button-module__basicBorderRadius___TaX9J",o="Button-module__buttonBase___olICK",a="Button-module__buttonIcon___540Jm",i="Button-module__buttonSwitch___+Tn3u",s="Button-module__callToAction___mSaZg",c="Button-module__decoratedButton___-YJyr",l="Button-module__defaultBase___c7wIT",u="Button-module__heroLargeBorderRadius___u9CMS",d="Button-module__heroMediumBorderRadius___dUTPQ",h="Button-module__heroSmallBorderRadius___ywhQ0",m="Button-module__heroXSmallBorderRadius___tyver",p="Button-module__iconButtonBase___uzoKc",g="Button-module__marginLeft___Bqq-9",f="Button-module__noMargin___5UbzU",v="Button-module__overlayModeAcrylic___QnjAv",_="Button-module__overlayModeSemiTransparent___mcpLM",y="Button-module__overlayModeSolid___v6EcO",b="Button-module__secondarySwitchBackplate___E47IF",E="Button-module__sizeIconButtonLarge___tb4rx",C="Button-module__sizeIconButtonMedium___WJrxo",S="Button-module__sizeIconButtonSmall___gTDbb",T="Button-module__sizeIconButtonXSmall___sYhWs",I="Button-module__sizeLarge___Jsfxn",w="Button-module__sizeMedium___T+8s+",A="Button-module__sizeSmall___9uKpA",k="Button-module__sizeXSmall___TGAST",P="Button-module__textNoUnderline___kHdUB",x="Button-module__textUnderline___JSRLr",R="Button-module__typeBrand___MMuct",N="Button-module__typePrimary___0WI8b",O="Button-module__typeSecondary___Cid02",L="Button-module__typeTertiary___wNh6R",M="Button-module__typeUserAccent___lK-yy"},89172:(e,t,n)=>{"use strict";n.d(t,{KZ:()=>r,OU:()=>a,Pt:()=>s,Xs:()=>i,f8:()=>c,nA:()=>o});var r="commonStyles-module__basicButton___go-bX",o="commonStyles-module__basicContainer___8Vx5e",a="commonStyles-module__basicIcon___qnovY",i="commonStyles-module__basicLink___V+0u7",s="commonStyles-module__featureListStyle___8SVho",c="commonStyles-module__shimmer___toyTH"},40959:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var r="AdsOptOutSync-module__syncFrame___vfV8q"},11372:(e,t,n)=>{"use strict";n.r(t),n.d(t,{col:()=>r,col1:()=>o,col10:()=>a,col11:()=>i,col12:()=>s,col2:()=>c,col3:()=>l,col4:()=>u,col5:()=>d,col6:()=>h,col7:()=>m,col8:()=>p,col9:()=>g,colLg1:()=>f,colLg10:()=>v,colLg11:()=>_,colLg12:()=>y,colLg2:()=>b,colLg3:()=>E,colLg4:()=>C,colLg5:()=>S,colLg6:()=>T,colLg7:()=>I,colLg8:()=>w,colLg9:()=>A,colMd1:()=>k,colMd10:()=>P,colMd11:()=>x,colMd12:()=>R,colMd2:()=>N,colMd3:()=>O,colMd4:()=>L,colMd5:()=>M,colMd6:()=>D,colMd7:()=>U,colMd8:()=>B,colMd9:()=>F,colSm1:()=>H,colSm10:()=>q,colSm11:()=>G,colSm12:()=>z,colSm2:()=>$,colSm3:()=>X,colSm4:()=>V,colSm5:()=>W,colSm6:()=>j,colSm7:()=>K,colSm8:()=>Z,colSm9:()=>Y,large:()=>Q,medium:()=>J,small:()=>ee});var r="ModuleColumn-module__col___StJzB",o="ModuleColumn-module__col1___9CP2u",a="ModuleColumn-module__col10___TX1Lb",i="ModuleColumn-module__col11___rbXSV",s="ModuleColumn-module__col12___A-hSt",c="ModuleColumn-module__col2___+utbQ",l="ModuleColumn-module__col3___OU8x+",u="ModuleColumn-module__col4___ZaRrg",d="ModuleColumn-module__col5___TL7I1",h="ModuleColumn-module__col6___ArD0N",m="ModuleColumn-module__col7___XCnrm",p="ModuleColumn-module__col8___yCVp5",g="ModuleColumn-module__col9___K8Gw9",f="ModuleColumn-module__colLg1___LYmyz",v="ModuleColumn-module__colLg10___5d7-E",_="ModuleColumn-module__colLg11___gRE3U",y="ModuleColumn-module__colLg12___NygNf",b="ModuleColumn-module__colLg2___JJuMl",E="ModuleColumn-module__colLg3___UTVTa",C="ModuleColumn-module__colLg4___dTHnc",S="ModuleColumn-module__colLg5___-hnQ+",T="ModuleColumn-module__colLg6___rr8Po",I="ModuleColumn-module__colLg7___BVit9",w="ModuleColumn-module__colLg8___d2TZv",A="ModuleColumn-module__colLg9___IlWd5",k="ModuleColumn-module__colMd1___bXH3p",P="ModuleColumn-module__colMd10___gg77z",x="ModuleColumn-module__colMd11___uATnk",R="ModuleColumn-module__colMd12___TNRxj",N="ModuleColumn-module__colMd2___f0ZrV",O="ModuleColumn-module__colMd3___M8p2g",L="ModuleColumn-module__colMd4___+BB+4",M="ModuleColumn-module__colMd5___w7599",D="ModuleColumn-module__colMd6___BTAdb",U="ModuleColumn-module__colMd7___MoAAG",B="ModuleColumn-module__colMd8___LTRxa",F="ModuleColumn-module__colMd9___RMntd",H="ModuleColumn-module__colSm1___CR0--",q="ModuleColumn-module__colSm10___lxTzQ",G="ModuleColumn-module__colSm11___txDMG",z="ModuleColumn-module__colSm12___K5Kqp",$="ModuleColumn-module__colSm2___tcLDV",X="ModuleColumn-module__colSm3___O-F8K",V="ModuleColumn-module__colSm4___H5Viy",W="ModuleColumn-module__colSm5___LkfGI",j="ModuleColumn-module__colSm6___0g1hF",K="ModuleColumn-module__colSm7___hiK+f",Z="ModuleColumn-module__colSm8___GXtwd",Y="ModuleColumn-module__colSm9___PjjRH",Q="1084px",J="860px",ee="540px"},4945:(e,t,n)=>{"use strict";n.d(t,{Oj:()=>a,nC:()=>r,oH:()=>o});var r="ModuleContainer-module__container___pkhPl",o="ModuleContainer-module__informationModuleContainer___nGoBj",a="ModuleContainer-module__sectionBackground___1iE6r"},5672:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var r="ModuleRow-module__row___N1V3E"},29934:(e,t,n)=>{"use strict";n.d(t,{Cg:()=>r,al:()=>o,oP:()=>a});var r="PageBanner-module__bannerContainer___YuHV3",o="PageBanner-module__hidden___MkKJW",a="PageBanner-module__visible___Q3bC3"},72256:(e,t,n)=>{"use strict";n.d(t,{O:()=>o,t:()=>r});var r="RetryPage-module__retryContainerRow___fzOuX",o="RetryPage-module__retryIcon___4Kokq"},13750:(e,t,n)=>{"use strict";n.d(t,{CM:()=>r,WB:()=>s,g3:()=>a,jW:()=>i,nC:()=>o});var r="ListTransformGroupButton-module__chevronContainer___NjCRD",o="ListTransformGroupButton-module__container___Dp2sx",a="ListTransformGroupButton-module__countBlock___YZTB+",i="ListTransformGroupButton-module__titleContainer___iYD2x",s="ListTransformGroupButton-module__titleText___G3nI8"},76200:(e,t,n)=>{"use strict";n.d(t,{ro:()=>r,xw:()=>o});var r="Image-module__imageBackground___fwLda",o="Image-module__xboxLogoGlyphIcon___M8Rlv"},8564:(e,t,n)=>{"use strict";n.d(t,{Dk:()=>s,Y9:()=>r,d9:()=>a,fL:()=>c,lr:()=>l,nC:()=>o,p4:()=>i});var r="ShowMoreShowLess-module__baseLineText___OTuYW",o="ShowMoreShowLess-module__container___CyBM4",a="ShowMoreShowLess-module__less___gikrN",i="ShowMoreShowLess-module__link___K7wez",s="ShowMoreShowLess-module__more___oXPB7",c="ShowMoreShowLess-module__text___jt826",l="ShowMoreShowLess-module__withLineBreak___r04p2"},67555:(e,t,n)=>{"use strict";n.d(t,{BH:()=>o,OZ:()=>a,be:()=>i,kQ:()=>r});var r="WrappedResponsiveImage-module__content___z0-cY",o="WrappedResponsiveImage-module__image___QvkuN",a="WrappedResponsiveImage-module__imageFluid___dK6C4",i="WrappedResponsiveImage-module__imageWrapper___-Wdm7"},43143:(e,t,n)=>{"use strict";n.r(t),n.d(t,{col:()=>r,col1:()=>o,col10:()=>a,col11:()=>i,col12:()=>s,col2:()=>c,col3:()=>l,col4:()=>u,col5:()=>d,col6:()=>h,col7:()=>m,col8:()=>p,col9:()=>g,colLg1:()=>f,colLg10:()=>v,colLg11:()=>_,colLg12:()=>y,colLg2:()=>b,colLg3:()=>E,colLg4:()=>C,colLg5:()=>S,colLg6:()=>T,colLg7:()=>I,colLg8:()=>w,colLg9:()=>A,colMd1:()=>k,colMd10:()=>P,colMd11:()=>x,colMd12:()=>R,colMd2:()=>N,colMd3:()=>O,colMd4:()=>L,colMd5:()=>M,colMd6:()=>D,colMd7:()=>U,colMd8:()=>B,colMd9:()=>F,colSm1:()=>H,colSm10:()=>q,colSm11:()=>G,colSm12:()=>z,colSm2:()=>$,colSm3:()=>X,colSm4:()=>V,colSm5:()=>W,colSm6:()=>j,colSm7:()=>K,colSm8:()=>Z,colSm9:()=>Y,colXl1:()=>Q,colXl10:()=>J,colXl11:()=>ee,colXl12:()=>te,colXl2:()=>ne,colXl3:()=>re,colXl4:()=>oe,colXl5:()=>ae,colXl6:()=>ie,colXl7:()=>se,colXl8:()=>ce,colXl9:()=>le,large:()=>ue,medium:()=>de,small:()=>he,xLarge:()=>me});var r="Column-module__col___mOeNS",o="Column-module__col1___XXcI0",a="Column-module__col10___s964a",i="Column-module__col11___Uh7+X",s="Column-module__col12___sxfOP",c="Column-module__col2___OlEJ-",l="Column-module__col3___IFvIt",u="Column-module__col4___-t5gI",d="Column-module__col5___nSfBH",h="Column-module__col6___keGm9",m="Column-module__col7___fhwYq",p="Column-module__col8___pUvtU",g="Column-module__col9___kKhk6",f="Column-module__colLg1___QuGQm",v="Column-module__colLg10___dXcqn",_="Column-module__colLg11___oicvM",y="Column-module__colLg12___YOWIg",b="Column-module__colLg2___I+Joj",E="Column-module__colLg3___ztYKR",C="Column-module__colLg4___LWebc",S="Column-module__colLg5___3UaUR",T="Column-module__colLg6___Y1blc",I="Column-module__colLg7___mLOMs",w="Column-module__colLg8___5Xh-h",A="Column-module__colLg9___6uDDw",k="Column-module__colMd1___CUOzo",P="Column-module__colMd10___UCb5m",x="Column-module__colMd11___TV+Ag",R="Column-module__colMd12___ZtPH5",N="Column-module__colMd2___G-H1w",O="Column-module__colMd3___ScYa2",L="Column-module__colMd4___1igtZ",M="Column-module__colMd5___YP72R",D="Column-module__colMd6___STeQo",U="Column-module__colMd7___JtRxR",B="Column-module__colMd8___krfS1",F="Column-module__colMd9___xAbEe",H="Column-module__colSm1___r7nek",q="Column-module__colSm10___7hEDc",G="Column-module__colSm11___q0sV0",z="Column-module__colSm12___8QJif",$="Column-module__colSm2___CYTvw",X="Column-module__colSm3___+5hFq",V="Column-module__colSm4___yJPHf",W="Column-module__colSm5___mIATz",j="Column-module__colSm6___hvA0z",K="Column-module__colSm7___FQC4X",Z="Column-module__colSm8___F57F2",Y="Column-module__colSm9___+O4yq",Q="Column-module__colXl1___6+t+g",J="Column-module__colXl10___P+klB",ee="Column-module__colXl11___avtXX",te="Column-module__colXl12___NpkIG",ne="Column-module__colXl2___RpBZz",re="Column-module__colXl3___LQvlk",oe="Column-module__colXl4___nPfLK",ae="Column-module__colXl5___gjax7",ie="Column-module__colXl6___h3OZ3",se="Column-module__colXl7___aEAhp",ce="Column-module__colXl8___HqxD8",le="Column-module__colXl9___oOfI2",ue="1084px",de="860px",he="540px",me="1400px"},78070:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});var r="Container-module__container___YTczU"},30032:(e,t,n)=>{"use strict";n.d(t,{Mv:()=>a,Nl:()=>r,jK:()=>o,o0:()=>i});var r="ExpandingListContainer-module__contentArea___XxGhi",o="ExpandingListContainer-module__expandSeparator___eln3F",a="ExpandingListContainer-module__footer___blbJp",i="ExpandingListContainer-module__moreButton___leR3H"},64514:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var r="Row-module__row___iFfSz"},78489:(e,t,n)=>{"use strict";n.d(t,{DK:()=>r,IA:()=>o});var r="linkCommonStyles-module__linkButton___yK8-x",o="linkCommonStyles-module__linkIconOverrides___OYA+9"},89872:(e,t,n)=>{"use strict";n.d(t,{$c:()=>g,A9:()=>o,AW:()=>v,D3:()=>m,F$:()=>U,Gg:()=>A,HX:()=>a,Km:()=>R,Lt:()=>f,O8:()=>s,Q:()=>c,Qc:()=>y,RH:()=>u,RO:()=>k,S7:()=>x,TH:()=>i,ZN:()=>E,a2:()=>M,af:()=>C,bS:()=>N,cN:()=>O,d7:()=>S,ef:()=>F,f7:()=>p,fe:()=>b,gC:()=>B,hO:()=>D,jG:()=>l,lO:()=>r,ll:()=>d,q2:()=>_,tE:()=>h,uo:()=>P,vM:()=>L,yy:()=>w,z1:()=>I,zD:()=>H,zO:()=>T});var r="typography-module__badgeText___Pt0Ti",o="typography-module__browseAllGamesDesktopTitle___bZQr4",a="typography-module__browseAllGamesMobileLandscapeTitle___NkIkM",i="typography-module__browseAllGamesMobileSubTitle___h+8KD",s="typography-module__browseAllGamesMobileTitle___CGeCx",c="typography-module__featuredContentDesktopTitle___aSQ8E",l="typography-module__featuredContentMobileTitle___HRmee",u="typography-module__featuredContentSubtitle___dox6v",d="typography-module__launchpadBody___bAczf",h="typography-module__launchpadCtaExtraText___CUcKt",m="typography-module__launchpadHeader___skM2v",p="typography-module__launchpadlearningLinkWindowsText___cN1Ul",g="typography-module__notes___tC1Jo",f="typography-module__searchGamesTitle___RVAyR",v="typography-module__segoeCaption___2bWwO",_="typography-module__segoeParagraph___Grscl",y="typography-module__segoeTitle___FFISB",b="typography-module__snoByrdButtonLabel___TE3oM",E="typography-module__spotLightSubtitlePortrait___RB7M0",C="typography-module__spotlightSubtitleLandscape___F5WdR",S="typography-module__spotlightTitleLandscape___9qmEz",T="typography-module__spotlightTitlePortrait___Wz0y7",I="typography-module__wishlistButtonFont___FW-gq",w="typography-module__wishlistProductItem___voqNk",A="typography-module__xdsBody1___+TQLW",k="typography-module__xdsBody2___RNdGY",P="typography-module__xdsButtonText___T7YHc",x="typography-module__xdsCaption___RlQY3",R="typography-module__xdsCaption2___9GItG",N="typography-module__xdsH1___7oFBA",O="typography-module__xdsH2___AvVH4",L="typography-module__xdsH3___kw4Hq",M="typography-module__xdsH5___XwldZ",D="typography-module__xdsH6___c1AoA",U="typography-module__xdsSubTitle1___N02-X",B="typography-module__xdsSubTitle2___6d6Da",F="typography-module__xdsSubTitle3___MaN9J",H="typography-module__xdsTag3___87dP9"},4371:(e,t,n)=>{"use strict";n.d(t,{e:()=>o,s:()=>r});var r="PreviewControls-module__previewToggleButton___-e6--",o="PreviewControls-module__serverRefreshButton___+PKti"},3286:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,_:()=>r});var r="Shell-module__shellContainer___YmZHe",o="Shell-module__testPanelTriggerContainer___+Cu59"},22736:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(7896),o=n(31461),a=n(12524),i=n.n(a),s=n(2784),c=n(20267),l=n(6252),u=n(29658),d=n(10803),h=n(30016),m=n(46879),p=n(89023),g=n(8917),f=["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"],v=(0,m.Z)("h4");v.displayName="DivStyledAsH4";var _=(0,p.Z)("alert-heading",{Component:v}),y=(0,p.Z)("alert-link",{Component:g.Z}),b={show:!0,transition:d.Z,closeLabel:"Close alert"},E=s.forwardRef((function(e,t){var n=(0,c.Ch)(e,{show:"onClose"}),a=n.bsPrefix,m=n.show,p=n.closeLabel,g=n.className,v=n.children,_=n.variant,y=n.onClose,b=n.dismissible,E=n.transition,C=(0,o.Z)(n,f),S=(0,u.vE)(a,"alert"),T=(0,l.Z)((function(e){y&&y(!1,e)})),I=!0===E?d.Z:E,w=s.createElement("div",(0,r.Z)({role:"alert"},I?void 0:C,{ref:t,className:i()(g,S,_&&S+"-"+_,b&&S+"-dismissible")}),b&&s.createElement(h.Z,{onClick:T,label:p}),v);return I?s.createElement(I,(0,r.Z)({unmountOnExit:!0},C,{ref:void 0,in:m}),w):m?w:null}));E.displayName="Alert",E.defaultProps=b,E.Link=y,E.Heading=_;const C=E},30016:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(7896),o=n(31461),a=n(13980),i=n.n(a),s=n(2784),c=n(12524),l=n.n(c),u=["label","onClick","className"],d={label:i().string.isRequired,onClick:i().func},h=s.forwardRef((function(e,t){var n=e.label,a=e.onClick,i=e.className,c=(0,o.Z)(e,u);return s.createElement("button",(0,r.Z)({ref:t,type:"button",className:l()("close",i),onClick:a},c),s.createElement("span",{"aria-hidden":"true"},"\xd7"),s.createElement("span",{className:"sr-only"},n))}));h.displayName="CloseButton",h.propTypes=d,h.defaultProps={label:"Close"};const m=h},10803:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(7896),o=n(31461),a=n(12524),i=n.n(a),s=n(2784),c=n(14657),l=n(8258),u=n(30268);function d(e,t){var n=(0,l.Z)(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function h(e,t){var n=d(e,"transitionDuration"),r=d(e,"transitionDelay"),o=(0,u.Z)(e,(function(n){n.target===e&&(o(),t(n))}),n+r)}var m,p=["className","children"],g=((m={})[c.d0]="show",m[c.cn]="show",m),f=s.forwardRef((function(e,t){var n=e.className,a=e.children,l=(0,o.Z)(e,p),u=(0,s.useCallback)((function(e){!function(e){e.offsetHeight}(e),l.onEnter&&l.onEnter(e)}),[l]);return s.createElement(c.ZP,(0,r.Z)({ref:t,addEndListener:h},l,{onEnter:u}),(function(e,t){return s.cloneElement(a,(0,r.Z)({},t,{className:i()("fade",n,a.props.className,g[e])}))}))}));f.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},f.displayName="Fade";const v=f},89023:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(7896),o=n(31461),a=n(12524),i=n.n(a),s=/-(.)/g;var c=n(2784),l=n(29658),u=["className","bsPrefix","as"],d=function(e){return e[0].toUpperCase()+function(e){return e.replace(s,(function(e,t){return t.toUpperCase()}))}(e).slice(1)};function h(e,t){var n=void 0===t?{}:t,a=n.displayName,s=void 0===a?d(e):a,h=n.Component,m=n.defaultProps,p=c.forwardRef((function(t,n){var a=t.className,s=t.bsPrefix,d=t.as,m=void 0===d?h||"div":d,p=(0,o.Z)(t,u),g=(0,l.vE)(s,e);return c.createElement(m,(0,r.Z)({ref:n,className:i()(a,g)},p))}));return p.defaultProps=m,p.displayName=s,p}},46879:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(7896),o=n(2784),a=n(12524),i=n.n(a);const s=function(e){return o.forwardRef((function(t,n){return o.createElement("div",(0,r.Z)({},t,{ref:n,className:i()(t.className,e)}))}))}},47933:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BrowserRouter:()=>u,HashRouter:()=>d,Link:()=>v,MemoryRouter:()=>r.VA,NavLink:()=>b,Prompt:()=>r.NL,Redirect:()=>r.l_,Route:()=>r.AW,Router:()=>r.F0,StaticRouter:()=>r.gx,Switch:()=>r.rs,generatePath:()=>r.Gn,matchPath:()=>r.LX,useHistory:()=>r.k6,useLocation:()=>r.TH,useParams:()=>r.UO,useRouteMatch:()=>r.$B,withRouter:()=>r.EN});var r=n(4517),o=n(36981),a=n(2784),i=n(70809),s=n(7896),c=n(31461),l=n(61898),u=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=(0,i.lX)(t.props),t}return(0,o.Z)(t,e),t.prototype.render=function(){return a.createElement(r.F0,{history:this.history,children:this.props.children})},t}(a.Component);var d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=(0,i.q_)(t.props),t}return(0,o.Z)(t,e),t.prototype.render=function(){return a.createElement(r.F0,{history:this.history,children:this.props.children})},t}(a.Component);var h=function(e,t){return"function"===typeof e?e(t):e},m=function(e,t){return"string"===typeof e?(0,i.ob)(e,null,null,t):e},p=function(e){return e},g=a.forwardRef;"undefined"===typeof g&&(g=p);var f=g((function(e,t){var n=e.innerRef,r=e.navigate,o=e.onClick,i=(0,c.Z)(e,["innerRef","navigate","onClick"]),l=i.target,u=(0,s.Z)({},i,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||l&&"_self"!==l||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return u.ref=p!==g&&t||n,a.createElement("a",u)}));var v=g((function(e,t){var n=e.component,o=void 0===n?f:n,u=e.replace,d=e.to,v=e.innerRef,_=(0,c.Z)(e,["component","replace","to","innerRef"]);return a.createElement(r.s6.Consumer,null,(function(e){e||(0,l.Z)(!1);var n=e.history,r=m(h(d,e.location),e.location),c=r?n.createHref(r):"",f=(0,s.Z)({},_,{href:c,navigate:function(){var t=h(d,e.location),r=(0,i.Ep)(e.location)===(0,i.Ep)(m(t));(u||r?n.replace:n.push)(t)}});return p!==g?f.ref=t||v:f.innerRef=v,a.createElement(o,f)}))})),_=function(e){return e},y=a.forwardRef;"undefined"===typeof y&&(y=_);var b=y((function(e,t){var n=e["aria-current"],o=void 0===n?"page":n,i=e.activeClassName,u=void 0===i?"active":i,d=e.activeStyle,p=e.className,g=e.exact,f=e.isActive,b=e.location,E=e.sensitive,C=e.strict,S=e.style,T=e.to,I=e.innerRef,w=(0,c.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.createElement(r.s6.Consumer,null,(function(e){e||(0,l.Z)(!1);var n=b||e.location,i=m(h(T,n),n),c=i.pathname,A=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=A?(0,r.LX)(n.pathname,{path:A,exact:g,sensitive:E,strict:C}):null,P=!!(f?f(k,n):k),x="function"===typeof p?p(P):p,R="function"===typeof S?S(P):S;P&&(x=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(x,u),R=(0,s.Z)({},R,d));var N=(0,s.Z)({"aria-current":P&&o||null,className:x,style:R,to:i},w);return _!==y?N.ref=t||I:N.innerRef=I,a.createElement(v,N)}))}))},38870:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(7896),o=n(31461),a=n(36981);function i(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=n(2784),c=n(14657),l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=i(n.className,r):n.setAttribute("class",i(n.className&&n.className.baseVal||"",r)));var n,r}))},u=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),o=r[0],a=r[1];t.removeClasses(o,"exit"),t.addClass(o,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),o=r[0],a=r[1]?"appear":"enter";t.addClass(o,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),o=r[0],a=r[1]?"appear":"enter";t.removeClasses(o,a),t.addClass(o,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,o=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}(0,a.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(r+=" "+o),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,o=n.active,a=n.done;this.appliedClasses[t]={},r&&l(e,r),o&&l(e,o),a&&l(e,a)},n.render=function(){var e=this.props,t=(e.classNames,(0,o.Z)(e,["classNames"]));return s.createElement(c.ZP,(0,r.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(s.Component);u.defaultProps={classNames:""},u.propTypes={};const d=u},3358:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r,o,a=n(36981),i=n(2784),s=n(14657),c=n(77008);var l="out-in",u="in-out",d=function(e,t,n){return function(){var r;e.props[t]&&(r=e.props)[t].apply(r,arguments),n()}},h=((r={})[l]=function(e){var t=e.current,n=e.changeState;return i.cloneElement(t,{in:!1,onExited:d(t,"onExited",(function(){n(s.d0,null)}))})},r[u]=function(e){var t=e.current,n=e.changeState,r=e.children;return[t,i.cloneElement(r,{in:!0,onEntered:d(r,"onEntered",(function(){n(s.d0)}))})]},r),m=((o={})[l]=function(e){var t=e.children,n=e.changeState;return i.cloneElement(t,{in:!0,onEntered:d(t,"onEntered",(function(){n(s.cn,i.cloneElement(t,{in:!0}))}))})},o[u]=function(e){var t=e.current,n=e.children,r=e.changeState;return[i.cloneElement(t,{in:!1,onExited:d(t,"onExited",(function(){r(s.cn,i.cloneElement(n,{in:!0}))}))}),i.cloneElement(n,{in:!0})]},o),p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={status:s.cn,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===s.d0&&e.mode===u?{status:s.d0}:!t.current||(n=t.current,r=e.children,n===r||i.isValidElement(n)&&i.isValidElement(r)&&null!=n.key&&n.key===r.key)?{current:i.cloneElement(e.children,{in:!0})}:{status:s.Ix};var n,r},n.render=function(){var e,t=this.props,n=t.children,r=t.mode,o=this.state,a=o.status,l=o.current,u={children:n,current:l,changeState:this.changeState,status:a};switch(a){case s.d0:e=m[r](u);break;case s.Ix:e=h[r](u);break;case s.cn:e=l}return i.createElement(c.Z.Provider,{value:{isMounting:!this.appeared}},e)},t}(i.Component);p.propTypes={},p.defaultProps={mode:l};const g=p},14657:(e,t,n)=>{"use strict";n.d(t,{cn:()=>h,d0:()=>d,Ix:()=>m,ZP:()=>f});var r=n(31461),o=n(36981),a=n(2784),i=n(28316);const s=!1;var c=n(77008),l="unmounted",u="exited",d="entering",h="entered",m="exiting",p=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(o=u,r.appearStatus=d):o=h:o=t.unmountOnExit||t.mountOnEnter?l:u,r.state={status:o},r.nextCallback=null,r}(0,o.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:u}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==h&&(t=d):n!==d&&n!==h||(t=m)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===d?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===u&&this.setState({status:l})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[i.findDOMNode(this),r],a=o[0],c=o[1],l=this.getTimeouts(),u=r?l.appear:l.enter;!e&&!n||s?this.safeSetState({status:h},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,c),this.safeSetState({status:d},(function(){t.props.onEntering(a,c),t.onTransitionEnd(u,(function(){t.safeSetState({status:h},(function(){t.props.onEntered(a,c)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!s?(this.props.onExit(r),this.safeSetState({status:m},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:u},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:u},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=o[0],s=o[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(c.Z.Provider,{value:null},"function"===typeof n?n(e,o):a.cloneElement(a.Children.only(n),o))},t}(a.Component);function g(){}p.contextType=c.Z,p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},p.UNMOUNTED=l,p.EXITED=u,p.ENTERING=d,p.ENTERED=h,p.EXITING=m;const f=p},77008:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(2784).createContext(null)},97698:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createSelector:()=>c,createSelectorCreator:()=>s,createStructuredSelector:()=>l,defaultEqualityCheck:()=>o,defaultMemoize:()=>a});var r="NOT_FOUND";var o=function(e,t){return e===t};function a(e,t){var n="object"===typeof t?t:{equalityCheck:t},a=n.equalityCheck,i=void 0===a?o:a,s=n.maxSize,c=void 0===s?1:s,l=n.resultEqualityCheck,u=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}}(i),d=1===c?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:r},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(u):function(e,t){var n=[];function o(e){var o=n.findIndex((function(n){return t(e,n.key)}));if(o>-1){var a=n[o];return o>0&&(n.splice(o,1),n.unshift(a)),a.value}return r}return{get:o,put:function(t,a){o(t)===r&&(n.unshift({key:t,value:a}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(c,u);function h(){var t=d.get(arguments);if(t===r){if(t=e.apply(null,arguments),l){var n=d.getEntries(),o=n.find((function(e){return l(e.value,t)}));o&&(t=o.value)}d.put(arguments,t)}return t}return h.clearCache=function(){return d.clear()},h}function i(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a,s=0,c={memoizeOptions:void 0},l=r.pop();if("object"===typeof l&&(c=l,l=r.pop()),"function"!==typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var u=c,d=u.memoizeOptions,h=void 0===d?n:d,m=Array.isArray(h)?h:[h],p=i(r),g=e.apply(void 0,[function(){return s++,l.apply(null,arguments)}].concat(m)),f=e((function(){for(var e=[],t=p.length,n=0;n<t;n++)e.push(p[n].apply(null,arguments));return a=g.apply(null,e)}));return Object.assign(f,{resultFunc:l,memoizedResultFunc:g,dependencies:p,lastResult:function(){return a},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),f};return o}var c=s(a),l=function(e,t){if(void 0===t&&(t=c),"object"!==typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e),r=t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}));return r}},57302:function(e,t){var n;!function(r){let o;function a(e,t){const n=e.charCodeAt(t);if(isNaN(n))throw new RangeError("Index "+t+' out of range for string "'+e+'"; please open an issue at https://github.com/Trott/slug/issues/new');if(n<55296||n>57343)return[e.charAt(t),t];if(n>=55296&&n<=56319){if(e.length<=t+1)return[" ",t];const n=e.charCodeAt(t+1);return n<56320||n>57343?[" ",t]:[e.charAt(t)+e.charAt(t+1),t+1]}if(0===t)return[" ",t];const r=e.charCodeAt(t-1);if(r<55296||r>56319)return[" ",t];throw new Error('String "'+e+'" reaches code believed to be unreachable; please open an issue at https://github.com/Trott/slug/issues/new')}function i(e,t){let n=c(e,t);if(""===n){let r="";for(let t=0;t<e.length;t++){const n=a(e,t);t=n[1],r+=n[0]}n=c(o(r),t)}return n}o=window.btoa?function(e){return btoa(unescape(encodeURIComponent(e)))}:function(e){const t=unescape(encodeURIComponent(e+""));let n="";for(let r,o,a=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.charAt(0|a)||(i="=",a%1);n+=i.charAt(63&r>>8-a%1*8)){if(o=t.charCodeAt(a+=3/4),o>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|o}return n},"function"!==typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null===e||void 0===e)throw new TypeError("Cannot convert undefined or null to object");const n=Object(e);for(let o=1;o<arguments.length;o++){const e=arguments[o];if(null!==e&&void 0!==e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},writable:!0,configurable:!0});const s={bg:{"\u0419":"Y","\u0439":"y",X:"H",x:"h","\u0426":"Ts","\u0446":"ts","\u0429":"Sht","\u0449":"sht","\u042a":"A","\u044a":"a","\u042c":"Y","\u044c":"y"},de:{"\xc4":"AE","\xe4":"ae","\xd6":"OE","\xf6":"oe","\xdc":"UE","\xfc":"ue"},sr:{"\u0111":"dj","\u0110":"DJ"},uk:{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"}};function c(e,t){if("string"!==typeof e)throw new Error("slug() requires a string argument, received "+typeof e);"string"===typeof t&&(t={replacement:t}),(t=t?Object.assign({},t):{}).mode=t.mode||i.defaults.mode;const n=i.defaults.modes[t.mode],r=["replacement","multicharmap","charmap","remove","lower","trim"];for(let i,s=0,u=r.length;s<u;s++)i=r[s],t[i]=i in t?t[i]:n[i];const o=s[t.locale]||{};let a=[];for(let i in t.multicharmap){if(!Object.prototype.hasOwnProperty.call(t.multicharmap,i))continue;const e=i.length;-1===a.indexOf(e)&&a.push(e)}a=a.sort((function(e,t){return t-e}));const c="rfc3986"===t.mode?/[^\w\s\-.~]/:/[^A-Za-z0-9\s]/;let l="";for(let i,s=0,u=e.length;s<u;s++){i=e[s];let n=!1;for(let r=0;r<a.length;r++){const o=a[r],c=e.substr(s,o);if(t.multicharmap[c]){s+=o-1,i=t.multicharmap[c],n=!0;break}}n||(i=o[i]?o[i]:t.charmap[i]?t.charmap[i]:i.includes(t.replacement)?i.replace(t.replacement," "):i.replace(c,"")),l+=i}return t.remove&&(l=l.replace(t.remove,"")),t.trim&&(l=l.trim()),l=l.replace(/\s+/g,t.replacement),t.lower&&(l=l.toLowerCase()),l}const l={"\u092b\u093c":"Fi","\u0917\u093c":"Ghi","\u0916\u093c":"Khi","\u0915\u093c":"Qi","\u0921\u093c":"ugDha","\u0922\u093c":"ugDhha","\u092f\u093c":"Yi","\u091c\u093c":"Za","\u05d1\u05b4\u05d9":"i","\u05d1\u05b5":"e","\u05d1\u05b5\u05d9":"e","\u05d1\u05b6":"e","\u05d1\u05b7":"a","\u05d1\u05b8":"a","\u05d1\u05b9":"o","\u05d5\u05b9":"o","\u05d1\u05bb":"u","\u05d5\u05bc":"u","\u05d1\u05bc":"b","\u05db\u05bc":"k","\u05da\u05bc":"k","\u05e4\u05bc":"p","\u05e9\u05c1":"sh","\u05e9\u05c2":"s","\u05d1\u05b0":"e","\u05d7\u05b1":"e","\u05d7\u05b2":"a","\u05d7\u05b3":"o","\u05d1\u05b4":"i"},u={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xc6":"AE","\xc7":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\u0150":"O","\xd8":"O","\u014c":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\u0170":"U","\xdd":"Y","\xde":"TH","\xdf":"ss","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"ae","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\u0151":"o","\xf8":"o","\u014d":"o","\u0152":"OE","\u0153":"oe","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\u0171":"u","\xfd":"y","\xfe":"th","\xff":"y","\u1e9e":"SS","\u03b1":"a","\u03b2":"b","\u03b3":"g","\u03b4":"d","\u03b5":"e","\u03b6":"z","\u03b7":"h","\u03b8":"8","\u03b9":"i","\u03ba":"k","\u03bb":"l","\u03bc":"m","\u03bd":"n","\u03be":"3","\u03bf":"o","\u03c0":"p","\u03c1":"r","\u03c3":"s","\u03c4":"t","\u03c5":"y","\u03c6":"f","\u03c7":"x","\u03c8":"ps","\u03c9":"w","\u03ac":"a","\u03ad":"e","\u03af":"i","\u03cc":"o","\u03cd":"y","\u03ae":"h","\u03ce":"w","\u03c2":"s","\u03ca":"i","\u03b0":"y","\u03cb":"y","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039a":"K","\u039b":"L","\u039c":"M","\u039d":"N","\u039e":"3","\u039f":"O","\u03a0":"P","\u03a1":"R","\u03a3":"S","\u03a4":"T","\u03a5":"Y","\u03a6":"F","\u03a7":"X","\u03a8":"PS","\u03a9":"W","\u0386":"A","\u0388":"E","\u038a":"I","\u038c":"O","\u038e":"Y","\u0389":"H","\u038f":"W","\u03aa":"I","\u03ab":"Y","\u015f":"s","\u015e":"S","\u0131":"i","\u0130":"I","\u011f":"g","\u011e":"G","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0451":"yo","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044a":"u","\u044b":"y","\u044c":"","\u044d":"e","\u044e":"yu","\u044f":"ya","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0401":"Yo","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041a":"K","\u041b":"L","\u041c":"M","\u041d":"N","\u041e":"O","\u041f":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042a":"U","\u042b":"Y","\u042c":"","\u042d":"E","\u042e":"Yu","\u042f":"Ya","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0490":"G","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0491":"g","\u010d":"c","\u010f":"d","\u011b":"e","\u0148":"n","\u0159":"r","\u0161":"s","\u0165":"t","\u016f":"u","\u017e":"z","\u010c":"C","\u010e":"D","\u011a":"E","\u0147":"N","\u0158":"R","\u0160":"S","\u0164":"T","\u016e":"U","\u017d":"Z","\u013e":"l","\u013a":"l","\u0155":"r","\u013d":"L","\u0139":"L","\u0154":"R","\u0105":"a","\u0107":"c","\u0119":"e","\u0142":"l","\u0144":"n","\u015b":"s","\u017a":"z","\u017c":"z","\u0104":"A","\u0106":"C","\u0118":"E","\u0141":"L","\u0143":"N","\u015a":"S","\u0179":"Z","\u017b":"Z","\u0101":"a","\u0113":"e","\u0123":"g","\u012b":"i","\u0137":"k","\u013c":"l","\u0146":"n","\u016b":"u","\u0100":"A","\u0112":"E","\u0122":"G","\u012a":"I","\u0136":"K","\u013b":"L","\u0145":"N","\u016a":"U","\u0623":"a","\u0625":"i","\u0628":"b","\u062a":"t","\u062b":"th","\u062c":"g","\u062d":"h","\u062e":"kh","\u062f":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"d","\u0637":"t","\u0638":"th","\u0639":"aa","\u063a":"gh","\u0641":"f","\u0642":"k","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"o","\u064a":"y","\u0621":"aa","\u0629":"a","\u0622":"a","\u0627":"a","\u067e":"p","\u0698":"zh","\u06af":"g","\u0686":"ch","\u06a9":"k","\u06cc":"i","\u0117":"e","\u012f":"i","\u0173":"u","\u0116":"E","\u012e":"I","\u0172":"U","\u021b":"t","\u021a":"T","\u0163":"t","\u0162":"T","\u0219":"s","\u0218":"S","\u0103":"a","\u0102":"A","\u1ea0":"A","\u1ea2":"A","\u1ea6":"A","\u1ea4":"A","\u1eac":"A","\u1ea8":"A","\u1eaa":"A","\u1eb0":"A","\u1eae":"A","\u1eb6":"A","\u1eb2":"A","\u1eb4":"A","\u1eb8":"E","\u1eba":"E","\u1ebc":"E","\u1ec0":"E","\u1ebe":"E","\u1ec6":"E","\u1ec2":"E","\u1ec4":"E","\u1eca":"I","\u1ec8":"I","\u0128":"I","\u1ecc":"O","\u1ece":"O","\u1ed2":"O","\u1ed0":"O","\u1ed8":"O","\u1ed4":"O","\u1ed6":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee2":"O","\u1ede":"O","\u1ee0":"O","\u1ee4":"U","\u1ee6":"U","\u0168":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1ef0":"U","\u1eec":"U","\u1eee":"U","\u1ef2":"Y","\u1ef4":"Y","\u1ef6":"Y","\u1ef8":"Y","\u0110":"D","\u1ea1":"a","\u1ea3":"a","\u1ea7":"a","\u1ea5":"a","\u1ead":"a","\u1ea9":"a","\u1eab":"a","\u1eb1":"a","\u1eaf":"a","\u1eb7":"a","\u1eb3":"a","\u1eb5":"a","\u1eb9":"e","\u1ebb":"e","\u1ebd":"e","\u1ec1":"e","\u1ebf":"e","\u1ec7":"e","\u1ec3":"e","\u1ec5":"e","\u1ecb":"i","\u1ec9":"i","\u0129":"i","\u1ecd":"o","\u1ecf":"o","\u1ed3":"o","\u1ed1":"o","\u1ed9":"o","\u1ed5":"o","\u1ed7":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee3":"o","\u1edf":"o","\u1ee1":"o","\u1ee5":"u","\u1ee7":"u","\u0169":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1ef1":"u","\u1eed":"u","\u1eef":"u","\u1ef3":"y","\u1ef5":"y","\u1ef7":"y","\u1ef9":"y","\u0111":"d","\u04d8":"AE","\u04d9":"ae","\u0492":"GH","\u0493":"gh","\u049a":"KH","\u049b":"kh","\u04a2":"NG","\u04a3":"ng","\u04ae":"UE","\u04af":"ue","\u04b0":"U","\u04b1":"u","\u04ba":"H","\u04bb":"h","\u04e8":"OE","\u04e9":"oe","\u0452":"dj","\u0458":"j","\u0459":"lj","\u045a":"nj","\u045b":"c","\u045f":"dz","\u0402":"Dj","\u0408":"j","\u0409":"Lj","\u040a":"Nj","\u040b":"C","\u040f":"Dz","\u01cc":"nj","\u01c9":"lj","\u01cb":"NJ","\u01c8":"LJ","\u0905":"a","\u0906":"aa","\u090f":"e","\u0908":"ii","\u090d":"ei","\u090e":"ae","\u0910":"ai","\u0907":"i","\u0913":"o","\u0911":"oi","\u0912":"oii","\u090a":"uu","\u0914":"ou","\u0909":"u","\u092c":"B","\u092d":"Bha","\u091a":"Ca","\u091b":"Chha","\u0921":"Da","\u0922":"Dha","\u092b":"Fa","\u0917":"Ga","\u0918":"Gha","\u0917\u093c":"Ghi","\u0939":"Ha","\u091c":"Ja","\u091d":"Jha","\u0915":"Ka","\u0916":"Kha","\u0916\u093c":"Khi","\u0932":"L","\u0933":"Li","\u090c":"Li","\u0934":"Lii","\u0961":"Lii","\u092e":"Ma","\u0928":"Na","\u0919":"Na","\u091e":"Nia","\u0923":"Nae","\u0929":"Ni","\u0950":"oms","\u092a":"Pa","\u0915\u093c":"Qi","\u0930":"Ra","\u090b":"Ri","\u0960":"Ri","\u0931":"Ri","\u0938":"Sa","\u0936":"Sha","\u0937":"Shha","\u091f":"Ta","\u0924":"Ta","\u0920":"Tha","\u0926":"Tha","\u0925":"Tha","\u0927":"Thha","\u0921\u093c":"ugDha","\u0922\u093c":"ugDhha","\u0935":"Va","\u092f":"Ya","\u092f\u093c":"Yi","\u091c\u093c":"Za","\u0259":"e","\u018f":"E","\u10d0":"a","\u10d1":"b","\u10d2":"g","\u10d3":"d","\u10d4":"e","\u10d5":"v","\u10d6":"z","\u10d7":"t","\u10d8":"i","\u10d9":"k","\u10da":"l","\u10db":"m","\u10dc":"n","\u10dd":"o","\u10de":"p","\u10df":"zh","\u10e0":"r","\u10e1":"s","\u10e2":"t","\u10e3":"u","\u10e4":"p","\u10e5":"k","\u10e6":"gh","\u10e7":"q","\u10e8":"sh","\u10e9":"ch","\u10ea":"ts","\u10eb":"dz","\u10ec":"ts","\u10ed":"ch","\u10ee":"kh","\u10ef":"j","\u10f0":"h","\u05d1":"v","\u05d2\u05bc":"g","\u05d2":"g","\u05d3":"d","\u05d3\u05bc":"d","\u05d4":"h","\u05d5":"v","\u05d6":"z","\u05d7":"h","\u05d8":"t","\u05d9":"y","\u05db":"kh","\u05da":"kh","\u05dc":"l","\u05de":"m","\u05dd":"m","\u05e0":"n","\u05df":"n","\u05e1":"s","\u05e4":"f","\u05e3":"f","\u05e5":"ts","\u05e6":"ts","\u05e7":"k","\u05e8":"r","\u05ea\u05bc":"t","\u05ea":"t"};i.charmap=Object.assign({},u),i.multicharmap=Object.assign({},l),i.defaults={charmap:i.charmap,mode:"pretty",modes:{rfc3986:{replacement:"-",remove:null,lower:!0,charmap:i.charmap,multicharmap:i.multicharmap,trim:!0},pretty:{replacement:"-",remove:null,lower:!0,charmap:i.charmap,multicharmap:i.multicharmap,trim:!0}},multicharmap:i.multicharmap},i.reset=function(){i.defaults.modes.rfc3986.charmap=i.defaults.modes.pretty.charmap=i.charmap=i.defaults.charmap=Object.assign({},u),i.defaults.modes.rfc3986.multicharmap=i.defaults.modes.pretty.multicharmap=i.multicharmap=i.defaults.multicharmap=Object.assign({},l)},i.extend=function(e){const t=Object.keys(e),n={},r={};for(let o=0;o<t.length;o++)t[o].length>1?n[t[o]]=e[t[o]]:r[t[o]]=e[t[o]];Object.assign(i.charmap,r),Object.assign(i.multicharmap,n)},void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},20267:(e,t,n)=>{"use strict";n.d(t,{Ch:()=>c});var r=n(7896),o=n(31461),a=n(2784);n(47677);function i(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function s(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function c(e,t){return Object.keys(t).reduce((function(n,c){var l,u=n,d=u[i(c)],h=u[c],m=(0,o.Z)(u,[i(c),c].map(s)),p=t[c],g=function(e,t,n){var r=(0,a.useRef)(void 0!==e),o=(0,a.useState)(t),i=o[0],s=o[1],c=void 0!==e,l=r.current;return r.current=c,!c&&l&&i!==t&&s(t),[c?e:i,(0,a.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];n&&n.apply(void 0,[e].concat(r)),s(e)}),[n])]}(h,d,e[p]),f=g[0],v=g[1];return(0,r.Z)({},m,((l={})[c]=f,l[p]=v,l))}),e)}function l(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function u(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function d(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}l.__suppressDeprecationWarning=!0,u.__suppressDeprecationWarning=!0,d.__suppressDeprecationWarning=!0},99829:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/manifest-icon-dev-512.55747289.png"},425:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/loading-dark.5ecfc863.gif"},96587:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/loading-light.e12a8d19.gif"},69573:(e,t,n)=>{"use strict";n.d(t,{Lx:()=>Qi});var r,o=n(49523);!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(r||(r={}));class a{constructor(e,t,n){this.level=r.Info;const i=e||a.createDefaultLoggerOptions();this.localCallback=i.loggerCallback||(()=>{}),this.piiLoggingEnabled=i.piiLoggingEnabled||!1,this.level="number"===typeof i.logLevel?i.logLevel:r.Info,this.correlationId=i.correlationId||o.gT.EMPTY_STRING,this.packageName=t||o.gT.EMPTY_STRING,this.packageVersion=n||o.gT.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:r.Info}}clone(e,t,n){return new a({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const n=`${`[${(new Date).toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${r[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,n,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:r.Error,containsPii:!1,correlationId:t||o.gT.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:r.Error,containsPii:!0,correlationId:t||o.gT.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:r.Warning,containsPii:!1,correlationId:t||o.gT.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:r.Warning,containsPii:!0,correlationId:t||o.gT.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:r.Info,containsPii:!1,correlationId:t||o.gT.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:r.Info,containsPii:!0,correlationId:t||o.gT.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:r.Verbose,containsPii:!1,correlationId:t||o.gT.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:r.Verbose,containsPii:!0,correlationId:t||o.gT.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:r.Trace,containsPii:!1,correlationId:t||o.gT.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:r.Trace,containsPii:!0,correlationId:t||o.gT.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const i="AAD",s="OIDC",c="none",l="unexpected_error",u="post_request_failed",d={[l]:"Unexpected error in authentication.",[u]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class h extends Error{constructor(e,t,n){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,h.prototype),this.errorCode=e||o.gT.EMPTY_STRING,this.errorMessage=t||o.gT.EMPTY_STRING,this.subError=n||o.gT.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function m(e,t){return new h(e,t?`${d[e]} ${t}`:d[e])}const p="client_info_decoding_error",g="client_info_empty_error",f="token_parsing_error",v="null_or_empty_token",_="endpoints_resolution_error",y="network_error",b="openid_config_error",E="hash_not_deserialized",C="invalid_state",S="state_mismatch",T="state_not_found",I="nonce_mismatch",w="auth_time_not_found",A="max_age_transpired",k="multiple_matching_tokens",P="multiple_matching_accounts",x="multiple_matching_appMetadata",R="request_cannot_be_made",N="cannot_remove_empty_scope",O="cannot_append_scopeset",L="empty_input_scopeset",M="device_code_polling_cancelled",D="device_code_expired",U="device_code_unknown_error",B="no_account_in_silent_request",F="invalid_cache_record",H="invalid_cache_environment",q="no_account_found",G="no_crypto_object",z="unexpected_credential_type",$="invalid_assertion",X="invalid_client_credential",V="token_refresh_required",W="user_timeout_reached",j="token_claims_cnf_required_for_signedjwt",K="authorization_code_missing_from_server_response",Z="binding_key_not_removed",Y="end_session_endpoint_not_supported",Q="key_id_missing",J="no_network_connectivity",ee="user_canceled",te="missing_tenant_id_error",ne="method_not_implemented",re="nested_app_auth_bridge_disabled",oe={[p]:"The client info could not be parsed/decoded correctly",[g]:"The client info was empty",[f]:"Token cannot be parsed",[v]:"The token is null or empty",[_]:"Endpoints cannot be resolved",[y]:"Network request failed",[b]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[E]:"The hash parameters could not be deserialized",[C]:"State was not the expected format",[S]:"State mismatch error",[T]:"State not found",[I]:"Nonce mismatch error",[w]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[A]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[k]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[P]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[x]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[R]:"Token request cannot be made without authorization code or refresh token.",[N]:"Cannot remove null or empty scope from ScopeSet",[O]:"Cannot append ScopeSet",[L]:"Empty input ScopeSet cannot be processed",[M]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[D]:"Device code is expired.",[U]:"Device code stopped polling for unknown reasons.",[B]:"Please pass an account object, silent flow is not supported without account information",[F]:"Cache record object was null or undefined.",[H]:"Invalid environment when attempting to create cache entry",[q]:"No account found in cache for given key.",[G]:"No crypto object detected.",[z]:"Unexpected credential type.",[$]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[X]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[V]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[W]:"User defined timeout for device code polling reached",[j]:"Cannot generate a POP jwt if the token_claims are not populated",[K]:"Server response does not contain an authorization code to proceed",[Z]:"Could not remove the credential's binding key from storage.",[Y]:"The provided authority does not support logout",[Q]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[J]:"No network connectivity. Check your internet connection.",[ee]:"User cancelled the flow.",[te]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[ne]:"This method has not been implemented",[re]:"The nested app auth bridge is disabled"};class ae extends h{constructor(e,t){super(e,t?`${oe[e]}: ${t}`:oe[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,ae.prototype)}}function ie(e,t){return new ae(e,t)}const se={createNewGuid:()=>{throw ie(ne)},base64Decode:()=>{throw ie(ne)},base64Encode:()=>{throw ie(ne)},base64UrlEncode:()=>{throw ie(ne)},encodeKid:()=>{throw ie(ne)},async getPublicKeyThumbprint(){throw ie(ne)},async removeTokenBindingKey(){throw ie(ne)},async clearKeystore(){throw ie(ne)},async signJwt(){throw ie(ne)},async hashString(){throw ie(ne)}},ce="@azure/msal-common",le="14.14.0";function ue(e,t){const n=function(e){if(!e)throw ie(v);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw ie(f);return t[2]}(e);try{const e=t(n);return JSON.parse(e)}catch(r){throw ie(f)}}function de(e,t){if(0===t||Date.now()-3e5>e+t)throw ie(A)}function he(){return Math.round((new Date).getTime()/1e3)}function me(e,t){const n=Number(e)||0;return he()+t>n}function pe(e){return[Ce(e),Se(e),Te(e),Ie(e),we(e)].join(o.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function ge(e,t,n,r,a){return{credentialType:o.d3.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:a}}function fe(e,t,n,r,a,i,s,c,l,u,d,h,m,p,g){const f={homeAccountId:e,credentialType:o.d3.ACCESS_TOKEN,secret:n,cachedAt:he().toString(),expiresOn:s.toString(),extendedExpiresOn:c.toString(),environment:t,clientId:r,realm:a,target:i,tokenType:d||o.hO.BEARER};if(h&&(f.userAssertionHash=h),u&&(f.refreshOn=u.toString()),p&&(f.requestedClaims=p,f.requestedClaimsHash=g),f.tokenType?.toLowerCase()!==o.hO.BEARER.toLowerCase())switch(f.credentialType=o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME,f.tokenType){case o.hO.POP:const e=ue(n,l);if(!e?.cnf?.kid)throw ie(j);f.keyId=e.cnf.kid;break;case o.hO.SSH:f.keyId=m}return f}function ve(e,t,n,r,a,i,s){const c={credentialType:o.d3.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return i&&(c.userAssertionHash=i),a&&(c.familyId=a),s&&(c.expiresOn=s.toString()),c}function _e(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function ye(e){return!!e&&(_e(e)&&e.hasOwnProperty("realm")&&e.hasOwnProperty("target")&&(e.credentialType===o.d3.ACCESS_TOKEN||e.credentialType===o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME))}function be(e){return!!e&&(_e(e)&&e.hasOwnProperty("realm")&&e.credentialType===o.d3.ID_TOKEN)}function Ee(e){return!!e&&(_e(e)&&e.credentialType===o.d3.REFRESH_TOKEN)}function Ce(e){return[e.homeAccountId,e.environment].join(o.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function Se(e){const t=e.credentialType===o.d3.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(o.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function Te(e){return(e.target||"").toLowerCase()}function Ie(e){return(e.requestedClaimsHash||"").toLowerCase()}function we(e){return e.tokenType&&e.tokenType.toLowerCase()!==o.hO.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function Ae(){return he()+o.QU.REFRESH_TIME_SECONDS}function ke(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function Pe(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function xe(e){return e.expiresAt<=he()}const Re="redirect_uri_empty",Ne="claims_request_parsing_error",Oe="authority_uri_insecure",Le="url_parse_error",Me="empty_url_error",De="empty_input_scopes_error",Ue="invalid_prompt_value",Be="invalid_claims",Fe="token_request_empty",He="logout_request_empty",qe="invalid_code_challenge_method",Ge="pkce_params_missing",ze="invalid_cloud_discovery_metadata",$e="invalid_authority_metadata",Xe="untrusted_authority",Ve="missing_ssh_jwk",We="missing_ssh_kid",je="missing_nonce_authentication_header",Ke="invalid_authentication_header",Ze="cannot_set_OIDCOptions",Ye="cannot_allow_native_broker",Qe="authority_mismatch",Je={[Re]:"A redirect URI is required for all calls, and none has been set.",[Ne]:"Could not parse the given claims request object.",[Oe]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Le]:"URL could not be parsed into appropriate segments.",[Me]:"URL was empty or null.",[De]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Ue]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[Be]:"Given claims parameter must be a stringified JSON object.",[Fe]:"Token request was empty and not found in cache.",[He]:"The logout request was null or undefined.",[qe]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Ge]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[ze]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[$e]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[Xe]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Ve]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[We]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[je]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[Ke]:"Invalid authentication header provided",[Ze]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[Ye]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[Qe]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class et extends h{constructor(e){super(e,Je[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,et.prototype)}}function tt(e){return new et(e)}class nt{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch(t){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),r=e=>decodeURIComponent(e.replace(/\+/g," "));return n.forEach((e=>{if(e.trim()){const[n,o]=e.split(/=(.+)/g,2);n&&o&&(t[r(n)]=r(o))}})),t}static trimArrayEntries(e){return e.map((e=>e.trim()))}static removeEmptyStringsFromArray(e){return e.filter((e=>!!e))}static jsonParseHelper(e){try{return JSON.parse(e)}catch(t){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class rt{constructor(e){const t=e?nt.trimArrayEntries([...e]):[],n=t?nt.removeEmptyStringsFromArray(t):[];this.validateInputScopes(n),this.scopes=new Set,n.forEach((e=>this.scopes.add(e)))}static fromString(e){const t=(e||o.gT.EMPTY_STRING).split(" ");return new rt(t)}static createSearchScopes(e){const t=new rt(e);return t.containsOnlyOIDCScopes()?t.removeScope(o.gT.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}validateInputScopes(e){if(!e||e.length<1)throw tt(De)}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new rt(t);return!!e&&n.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((e=>this.containsScope(e))))}containsOnlyOIDCScopes(){let e=0;return o.$f.forEach((t=>{this.containsScope(t)&&(e+=1)})),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach((e=>this.appendScope(e)))}catch(t){throw ie(O)}}removeScope(e){if(!e)throw ie(N);this.scopes.delete(e.trim())}removeOIDCScopes(){o.$f.forEach((e=>{this.scopes.delete(e)}))}unionScopeSets(e){if(!e)throw ie(L);const t=new Set;return e.scopes.forEach((e=>t.add(e.toLowerCase()))),this.scopes.forEach((e=>t.add(e.toLowerCase()))),t}intersectingScopeSets(e){if(!e)throw ie(L);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach((t=>e.push(t))),e}printScopes(){if(this.scopes){return this.asArray().join(" ")}return o.gT.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function ot(e,t){if(!e)throw ie(g);try{const n=t(e);return JSON.parse(n)}catch(n){throw ie(p)}}function at(e){if(!e)throw ie(p);const t=e.split(o.Bv.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?o.gT.EMPTY_STRING:t[1]}}function it(e,t){return!!e&&!!t&&e===t.split(".")[1]}function st(e,t,n,r){if(r){const{oid:t,sub:n,tid:o,name:a,tfp:i,acr:s}=r,c=o||i||s||"";return{tenantId:c,localAccountId:t||n||"",name:a,isHomeTenant:it(c,e)}}return{tenantId:n,localAccountId:t,isHomeTenant:it(n,e)}}function ct(e,t,n,r){let o=e;if(t){const{isHomeTenant:n,...r}=t;o={...e,...r}}if(n){const{isHomeTenant:t,...a}=st(e.homeAccountId,e.localAccountId,e.tenantId,n);return o={...o,...a,idTokenClaims:n,idToken:r},o}return o}const lt=0,ut=1,dt=2,ht=3;function mt(e){if(e){return e.tid||e.tfp||e.acr||null}return null}class pt{generateAccountId(){return[this.homeAccountId,this.environment].join(o.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return pt.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map((e=>[e.tenantId,e])))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(o.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,t,n){const r=new pt;let a;t.authorityType===ut?r.authorityType=o.iR.ADFS_ACCOUNT_TYPE:t.protocolMode===i?r.authorityType=o.iR.MSSTS_ACCOUNT_TYPE:r.authorityType=o.iR.GENERIC_ACCOUNT_TYPE,e.clientInfo&&n&&(a=ot(e.clientInfo,n)),r.clientInfo=e.clientInfo,r.homeAccountId=e.homeAccountId,r.nativeAccountId=e.nativeAccountId;const s=e.environment||t&&t.getPreferredCache();if(!s)throw ie(H);r.environment=s,r.realm=a?.utid||mt(e.idTokenClaims)||"",r.localAccountId=a?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";const c=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,l=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(r.username=c||l||"",r.name=e.idTokenClaims?.name||"",r.cloudGraphHostName=e.cloudGraphHostName,r.msGraphHost=e.msGraphHost,e.tenantProfiles)r.tenantProfiles=e.tenantProfiles;else{const t=st(e.homeAccountId,r.localAccountId,r.realm,e.idTokenClaims);r.tenantProfiles=[t]}return r}static createFromAccountInfo(e,t,n){const r=new pt;return r.authorityType=e.authorityType||o.iR.GENERIC_ACCOUNT_TYPE,r.homeAccountId=e.homeAccountId,r.localAccountId=e.localAccountId,r.nativeAccountId=e.nativeAccountId,r.realm=e.tenantId,r.environment=e.environment,r.username=e.username,r.name=e.name,r.cloudGraphHostName=t,r.msGraphHost=n,r.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),r}static generateHomeAccountId(e,t,n,r,o){if(t!==ut&&t!==dt){if(e)try{const t=ot(e,r.base64Decode);if(t.uid&&t.utid)return`${t.uid}.${t.utid}`}catch(a){}n.warning("No client info in response")}return o?.sub||""}static isAccountEntity(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let r=!0;if(n){const n=e.idTokenClaims||{},o=t.idTokenClaims||{};r=n.iat===o.iat&&n.nonce===o.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}}function gt(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function ft(e){if(!e||e.indexOf("=")<0)return null;try{const t=gt(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.error||n.error_description||n.state)return n}catch(t){throw ie(E)}return null}class vt{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw tt(Me);e.includes("#")||(this._urlString=vt.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return nt.endsWith(t,"?")?t=t.slice(0,-1):nt.endsWith(t,"?/")&&(t=t.slice(0,-2)),nt.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(t){throw tt(Le)}if(!e.HostNameAndPort||!e.PathSegments)throw tt(Le);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw tt(Oe)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return vt.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return!e||0===n.length||n[0]!==o.Nb.COMMON&&n[0]!==o.Nb.ORGANIZATIONS||(n[0]=e),vt.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw tt(Le);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let r=n.AbsolutePath.split("/");return r=r.filter((e=>e&&e.length>0)),n.PathSegments=r,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw tt(Le);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===o.gT.FORWARD_SLASH){const n=new vt(t).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new vt(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!ft(e)}}const _t={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},yt={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},bt=new Set;function Et(e,t,n,r){if(r?.trace(`getAliasesFromMetadata called with source: ${n}`),e&&t){const o=Ct(t,e);if(o)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),o.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function Ct(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}yt.metadata.forEach((e=>{e.aliases.forEach((e=>{bt.add(e)}))}));const St="cache_quota_exceeded",Tt="cache_error_unknown",It={[St]:"Exceeded cache storage capacity.",[Tt]:"Unexpected error occurred when using cache storage."};class wt extends Error{constructor(e,t){const n=t||(It[e]?It[e]:It.cache_error_unknown);super(`${e}: ${n}`),Object.setPrototypeOf(this,wt.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}class At{constructor(e,t,n,r){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(ce,le),this.staticAuthorityOptions=r}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);if(t.length>1){return t.sort((e=>e.idTokenClaims?-1:1))[0]}return 1===t.length?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap((e=>this.getTenantProfilesFromAccountEntity(e,t?.tenantId,t)))}getTenantedAccountInfoByFilter(e,t,n,r){let o,a=null;if(r&&!this.tenantProfileMatchesFilter(n,r))return null;const i=this.getIdToken(e,t,n.tenantId);return i&&(o=ue(i.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(o,r))?null:(a=ct(e,n,o,i?.secret),a)}getTenantProfilesFromAccountEntity(e,t,n){const r=e.getAccountInfo();let o=r.tenantProfiles||new Map;const a=this.getTokenKeys();if(t){const e=o.get(t);if(!e)return[];o=new Map([[t,e]])}const i=[];return o.forEach((e=>{const t=this.getTenantedAccountInfoByFilter(r,a,e,n);t&&i.push(t)})),i}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&((!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant))}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}async saveCacheRecord(e,t,n){if(!e)throw ie(F);try{e.account&&this.setAccount(e.account),e.idToken&&!1!==t?.idToken&&this.setIdTokenCredential(e.idToken),e.accessToken&&!1!==t?.accessToken&&await this.saveAccessToken(e.accessToken),e.refreshToken&&!1!==t?.refreshToken&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(r){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),r instanceof Error?(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${r.message}`,n),"QuotaExceededError"===r.name||"NS_ERROR_DOM_QUOTA_REACHED"===r.name||r.message.includes("exceeded the quota")?(this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",n),new wt(St)):new wt(r.name,r.message)):(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${r}`,n),new wt(Tt))}}async saveAccessToken(e){const t={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},n=this.getTokenKeys(),r=rt.fromString(e.target),o=[];n.accessToken.forEach((e=>{if(!this.accessTokenKeyMatchesFilter(e,t,!1))return;const n=this.getAccessTokenCredential(e);if(n&&this.credentialMatchesFilter(n,t)){rt.fromString(n.target).intersectingScopeSets(r)&&o.push(this.removeAccessToken(e))}})),await Promise.all(o),this.setAccessTokenCredential(e)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),n=[];return t.forEach((t=>{if(!this.isAccountKey(t,e.homeAccountId))return;const r=this.getAccount(t,this.commonLogger);if(!r)return;if(e.homeAccountId&&!this.matchHomeAccountId(r,e.homeAccountId))return;if(e.username&&!this.matchUsername(r.username,e.username))return;if(e.environment&&!this.matchEnvironment(r,e.environment))return;if(e.realm&&!this.matchRealm(r,e.realm))return;if(e.nativeAccountId&&!this.matchNativeAccountId(r,e.nativeAccountId))return;if(e.authorityType&&!this.matchAuthorityType(r,e.authorityType))return;const o={localAccountId:e?.localAccountId,name:e?.name},a=r.tenantProfiles?.filter((e=>this.tenantProfileMatchesFilter(e,o)));a&&0===a.length||n.push(r)})),n}isAccountKey(e,t,n){return!(e.split(o.Bv.CACHE_KEY_SEPARATOR).length<3)&&(!(t&&!e.toLowerCase().includes(t.toLowerCase()))&&!(n&&!e.toLowerCase().includes(n.toLowerCase())))}isCredentialKey(e){if(e.split(o.Bv.CACHE_KEY_SEPARATOR).length<6)return!1;const t=e.toLowerCase();if(-1===t.indexOf(o.d3.ID_TOKEN.toLowerCase())&&-1===t.indexOf(o.d3.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(o.d3.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(o.d3.REFRESH_TOKEN.toLowerCase())>-1){const e=`${o.d3.REFRESH_TOKEN}${o.Bv.CACHE_KEY_SEPARATOR}${this.clientId}${o.Bv.CACHE_KEY_SEPARATOR}`,n=`${o.d3.REFRESH_TOKEN}${o.Bv.CACHE_KEY_SEPARATOR}${o.ch}${o.Bv.CACHE_KEY_SEPARATOR}`;if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(n.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"===typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===o.hO.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach((t=>{if(!this.isAppMetadata(t))return;const r=this.getAppMetadata(t);r&&(e.environment&&!this.matchEnvironment(r,e.environment)||e.clientId&&!this.matchClientId(r,e.clientId)||(n[t]=r))})),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach((t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;const r=this.getAuthorityMetadata(t);r&&-1!==r.aliases.indexOf(e)&&(n=r)})),n}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach((e=>{t.push(this.removeAccount(e))})),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),n=e.generateAccountId(),r=[];t.idToken.forEach((e=>{0===e.indexOf(n)&&this.removeIdToken(e)})),t.accessToken.forEach((e=>{0===e.indexOf(n)&&r.push(this.removeAccessToken(e))})),t.refreshToken.forEach((e=>{0===e.indexOf(n)&&this.removeRefreshToken(e)})),await Promise.all(r)}updateOutdatedCachedAccount(e,t,n){if(t&&t.isSingleTenant()){this.commonLogger?.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const r=this.getAccountKeys().filter((e=>e.startsWith(t.homeAccountId))),o=[];r.forEach((e=>{const t=this.getCachedAccountEntity(e);t&&o.push(t)}));const a=o.find((e=>it(e.realm,e.homeAccountId)))||o[0];a.tenantProfiles=o.map((e=>({tenantId:e.realm,localAccountId:e.localAccountId,name:e.name,isHomeTenant:it(e.realm,e.homeAccountId)})));const i=At.toObject(new pt,{...a}),s=i.generateAccountKey();return r.forEach((t=>{t!==s&&this.removeOutdatedAccount(e)})),this.setAccount(i),n?.verbose("Updated an outdated account entity in the cache"),i}return t}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===o.hO.POP){const e=t.keyId;if(e)try{await this.cryptoImpl.removeTokenBindingKey(e)}catch(n){throw ie(Z)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach((e=>{this.isAppMetadata(e)&&this.removeItem(e)})),!0}readAccountFromCache(e){const t=pt.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,n,r,a){this.commonLogger.trace("CacheManager - getIdToken called");const i={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:o.d3.ID_TOKEN,clientId:this.clientId,realm:n},s=this.getIdTokensByFilter(i,t),c=s.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let t=s;if(!n){const n=new Map;s.forEach(((t,r)=>{t.realm===e.tenantId&&n.set(r,t)}));const r=n.size;if(r<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),s.values().next().value;if(1===r)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),n.values().next().value;t=n}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),t.forEach(((e,t)=>{this.removeIdToken(t)})),r&&a&&r.addFields({multiMatchedID:s.size},a),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),s.values().next().value}getIdTokensByFilter(e,t){const n=t&&t.idToken||this.getTokenKeys().idToken,r=new Map;return n.forEach((t=>{if(!this.idTokenKeyMatchesFilter(t,{clientId:this.clientId,...e}))return;const n=this.getIdTokenCredential(t);n&&this.credentialMatchesFilter(n,e)&&r.set(t,n)})),r}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,n,r,a,i){this.commonLogger.trace("CacheManager - getAccessToken called");const s=rt.createSearchScopes(t.scopes),c=t.authenticationScheme||o.hO.BEARER,l=c&&c.toLowerCase()!==o.hO.BEARER.toLowerCase()?o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:o.d3.ACCESS_TOKEN,u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:l,clientId:this.clientId,realm:r||e.tenantId,target:s,tokenType:c,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},d=n&&n.accessToken||this.getTokenKeys().accessToken,h=[];d.forEach((e=>{if(this.accessTokenKeyMatchesFilter(e,u,!0)){const t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,u)&&h.push(t)}}));const m=h.length;return m<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):m>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),h.forEach((e=>{this.removeAccessToken(pe(e))})),a&&i&&a.addFields({multiMatchedAT:h.length},i),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),h[0])}accessTokenKeyMatchesFilter(e,t,n){const r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const e=t.target.asArray();for(let t=0;t<e.length;t++){if(n&&!r.includes(e[t].toLowerCase()))return!1;if(!n&&r.includes(e[t].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),n=[];return t.accessToken.forEach((t=>{if(!this.accessTokenKeyMatchesFilter(t,e,!0))return;const r=this.getAccessTokenCredential(t);r&&this.credentialMatchesFilter(r,e)&&n.push(r)})),n}getRefreshToken(e,t,n,r,a){this.commonLogger.trace("CacheManager - getRefreshToken called");const i=t?o.ch:void 0,s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:o.d3.REFRESH_TOKEN,clientId:this.clientId,familyId:i},c=n&&n.refreshToken||this.getTokenKeys().refreshToken,l=[];c.forEach((e=>{if(this.refreshTokenKeyMatchesFilter(e,s)){const t=this.getRefreshTokenCredential(e);t&&this.credentialMatchesFilter(t,s)&&l.push(t)}}));const u=l.length;return u<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(u>1&&r&&a&&r.addFields({multiMatchedRT:u},a),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),l[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map((e=>n[e])),o=r.length;if(o<1)return null;if(o>1)throw ie(x);return r[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==o.ch)}matchHomeAccountId(e,t){return!("string"!==typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return!(t.toLowerCase()!==e.name?.toLowerCase())}matchUsername(e,t){return!(!e||"string"!==typeof e||t?.toLowerCase()!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const n=function(e,t){let n;const r=e.canonicalAuthority;if(r){const a=new vt(r).getUrlComponents().HostNameAndPort;n=Et(a,e.cloudDiscoveryMetadata?.metadata,o.pQ.CONFIG,t)||Et(a,yt.metadata,o.pQ.HARDCODED_VALUES,t)||e.knownAuthorities}return n||[]}(this.staticAuthorityOptions,this.commonLogger);if(n.includes(t)&&n.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){return!(e.realm?.toLowerCase()!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||(e.preferred_username===t||e.upn===t)}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){if(e.credentialType!==o.d3.ACCESS_TOKEN&&e.credentialType!==o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;return rt.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(o.dg)}isAuthorityMetadata(e){return-1!==e.indexOf(o.QU.CACHE_KEY)}generateAuthorityMetadataCacheKey(e){return`${o.QU.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class kt extends At{setAccount(){throw ie(ne)}getAccount(){throw ie(ne)}getCachedAccountEntity(){throw ie(ne)}setIdTokenCredential(){throw ie(ne)}getIdTokenCredential(){throw ie(ne)}setAccessTokenCredential(){throw ie(ne)}getAccessTokenCredential(){throw ie(ne)}setRefreshTokenCredential(){throw ie(ne)}getRefreshTokenCredential(){throw ie(ne)}setAppMetadata(){throw ie(ne)}getAppMetadata(){throw ie(ne)}setServerTelemetry(){throw ie(ne)}getServerTelemetry(){throw ie(ne)}setAuthorityMetadata(){throw ie(ne)}getAuthorityMetadata(){throw ie(ne)}getAuthorityMetadataKeys(){throw ie(ne)}setThrottlingCache(){throw ie(ne)}getThrottlingCache(){throw ie(ne)}removeItem(){throw ie(ne)}getKeys(){throw ie(ne)}getAccountKeys(){throw ie(ne)}getTokenKeys(){throw ie(ne)}async clear(){throw ie(ne)}updateCredentialCacheKey(){throw ie(ne)}removeOutdatedAccount(){throw ie(ne)}}const Pt={tokenRenewalOffsetSeconds:o.$A,preventCorsPreflight:!1},xt={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:r.Info,correlationId:o.gT.EMPTY_STRING},Rt={claimsBasedCachingEnabled:!1},Nt={async sendGetRequestAsync(){throw ie(ne)},async sendPostRequestAsync(){throw ie(ne)}},Ot={sku:o.gT.SKU,version:le,cpu:o.gT.EMPTY_STRING,os:o.gT.EMPTY_STRING},Lt={clientSecret:o.gT.EMPTY_STRING,clientAssertion:void 0},Mt={azureCloudInstance:c,tenant:`${o.gT.DEFAULT_COMMON_TENANT}`},Dt={application:{appName:"",appVersion:""}};function Ut(e){return e.authOptions.authority.options.protocolMode===s}const Bt={sendGetRequestAsync:()=>Promise.reject(ie(ne)),sendPostRequestAsync:()=>Promise.reject(ie(ne))},Ft="acquireTokenByCode",Ht="acquireTokenByRefreshToken",qt="acquireTokenSilent",Gt="acquireTokenSilentAsync",zt="acquireTokenPopup",$t="acquireTokenPreRedirect",Xt="acquireTokenRedirect",Vt="cryptoOptsGetPublicKeyThumbprint",Wt="cryptoOptsSignJwt",jt="silentCacheClientAcquireToken",Kt="silentIframeClientAcquireToken",Zt="awaitConcurrentIframe",Yt="silentRefreshClientAcquireToken",Qt="ssoSilent",Jt="standardInteractionClientGetDiscoveredAuthority",en="fetchAccountIdWithNativeBroker",tn="nativeInteractionClientAcquireToken",nn="refreshTokenClientExecutePostToTokenEndpoint",rn="authorizationCodeClientExecutePostToTokenEndpoint",on="refreshTokenClientExecuteTokenRequest",an="refreshTokenClientAcquireToken",sn="refreshTokenClientAcquireTokenWithCachedRefreshToken",cn="refreshTokenClientAcquireTokenByRefreshToken",ln="refreshTokenClientCreateTokenRequestBody",un="acquireTokenFromCache",dn="silentFlowClientAcquireCachedToken",hn="silentFlowClientGenerateResultFromCacheRecord",mn="acquireTokenBySilentIframe",pn="initializeBaseRequest",gn="initializeSilentRequest",fn="initializeClientApplication",vn="silentIframeClientTokenHelper",_n="silentHandlerInitiateAuthRequest",yn="silentHandlerMonitorIframeForHash",bn="silentHandlerLoadFrame",En="silentHandlerLoadFrameSync",Cn="standardInteractionClientCreateAuthCodeClient",Sn="standardInteractionClientGetClientConfiguration",Tn="standardInteractionClientInitializeAuthorizationRequest",In="standardInteractionClientInitializeAuthorizationCodeRequest",wn="getAuthCodeUrl",An="handleCodeResponseFromServer",kn="handleCodeResponse",Pn="updateTokenEndpointAuthority",xn="authClientAcquireToken",Rn="authClientExecuteTokenRequest",Nn="authClientCreateTokenRequestBody",On="authClientCreateQueryString",Ln="popTokenGenerateCnf",Mn="popTokenGenerateKid",Dn="handleServerTokenResponse",Un="deserializeResponse",Bn="authorityFactoryCreateDiscoveredInstance",Fn="authorityResolveEndpointsAsync",Hn="authorityGetCloudDiscoveryMetadataFromNetwork",qn="authorityUpdateCloudDiscoveryMetadata",Gn="authorityGetEndpointMetadataFromNetwork",zn="authorityUpdateEndpointMetadata",$n="authorityUpdateMetadataWithRegionalInformation",Xn="regionDiscoveryDetectRegion",Vn="regionDiscoveryGetRegionFromIMDS",Wn="regionDiscoveryGetCurrentVersion",jn="acquireTokenByCodeAsync",Kn="handleRedirectPromise",Zn="handleNativeRedirectPromise",Yn="nativeMessageHandlerHandshake",Qn="removeHiddenIframe",Jn="clearTokensAndKeysWithClaims",er="cacheManagerGetRefreshToken",tr="generatePkceCodes",nr="generateCodeVerifier",rr="generateCodeChallengeFromVerifier",or="sha256Digest",ar="getRandomValues",ir=(new Map([[Ft,"ATByCode"],[Ht,"ATByRT"],[qt,"ATS"],[Gt,"ATSAsync"],[zt,"ATPopup"],[Xt,"ATRedirect"],[Vt,"CryptoGetPKThumb"],[Wt,"CryptoSignJwt"],[jt,"SltCacheClientAT"],[Kt,"SltIframeClientAT"],[Yt,"SltRClientAT"],[Qt,"SsoSlt"],[Jt,"StdIntClientGetDiscAuth"],[en,"FetchAccIdWithNtvBroker"],[tn,"NtvIntClientAT"],["baseClientCreateTokenRequestHeaders","BaseClientCreateTReqHead"],[nn,"RTClientExecPost"],[rn,"AuthCodeClientExecPost"],["brokerHandshake","BrokerHandshake"],["acquireTokenByRefreshTokenInBroker","ATByRTInBroker"],["acquireTokenByBroker","ATByBroker"],[on,"RTClientExecTReq"],[an,"RTClientAT"],[sn,"RTClientATWithCachedRT"],[cn,"RTClientATByRT"],[ln,"RTClientCreateTReqBody"],[un,"ATFromCache"],[dn,"SltFlowClientATCached"],[hn,"SltFlowClientGenResFromCache"],[mn,"ATBySltIframe"],[pn,"InitBaseReq"],[gn,"InitSltReq"],[fn,"InitClientApplication"],[vn,"SIClientTHelper"],[_n,"SHandlerInitAuthReq"],[yn,"SltHandlerMonitorIframeForHash"],[bn,"SHandlerLoadFrame"],[En,"SHandlerLoadFrameSync"],[Cn,"StdIntClientCreateAuthCodeClient"],[Sn,"StdIntClientGetClientConf"],[Tn,"StdIntClientInitAuthReq"],[In,"StdIntClientInitAuthCodeReq"],[wn,"GetAuthCodeUrl"],[An,"HandleCodeResFromServer"],[kn,"HandleCodeResp"],[Pn,"UpdTEndpointAuth"],[xn,"AuthClientAT"],[Rn,"AuthClientExecTReq"],[Nn,"AuthClientCreateTReqBody"],[On,"AuthClientCreateQueryStr"],[Ln,"PopTGenCnf"],[Mn,"PopTGenKid"],[Dn,"HandleServerTRes"],[Un,"DeserializeRes"],[Bn,"AuthFactCreateDiscInst"],[Fn,"AuthResolveEndpointsAsync"],["authorityResolveEndpointsFromLocalSources","AuthResolveEndpointsFromLocal"],[Hn,"AuthGetCDMetaFromNet"],[qn,"AuthUpdCDMeta"],[Gn,"AuthUpdCDMetaFromNet"],[zn,"AuthUpdEndpointMeta"],[$n,"AuthUpdMetaWithRegInfo"],[Xn,"RegDiscDetectReg"],[Vn,"RegDiscGetRegFromIMDS"],[Wn,"RegDiscGetCurrentVer"],[jn,"ATByCodeAsync"],["getEndpointMetadataFromNetwork","GetEndpointMetaFromNet"],["getCloudDiscoveryMetadataFromNetworkMeasurement","GetCDMetaFromNet"],[Kn,"HandleRedirectPromise"],[Zn,"HandleNtvRedirectPromise"],["updateCloudDiscoveryMetadataMeasurement","UpdateCDMeta"],["usernamePasswordClientAcquireToken","UserPassClientAT"],[Yn,"NtvMsgHandlerHandshake"],["nativeGenerateAuthResult","NtvGenAuthRes"],[Qn,"RemoveHiddenIframe"],[Jn,"ClearTAndKeysWithClaims"],[er,"CacheManagerGetRT"],[tr,"GenPkceCodes"],[nr,"GenCodeVerifier"],[rr,"GenCodeChallengeFromVerifier"],[or,"Sha256Digest"],[ar,"GetRandomValues"]]),1);new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT"]);class sr{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class cr{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:ir,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new sr}}startPerformanceMeasurement(){return new sr}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}var lr=n(49845),ur=n(27694);const dr="pkce_not_created",hr="crypto_nonexistent",mr="empty_navigate_uri",pr="hash_empty_error",gr="no_state_in_hash",fr="hash_does_not_contain_known_properties",vr="unable_to_parse_state",_r="state_interaction_type_mismatch",yr="interaction_in_progress",br="popup_window_error",Er="empty_window_error",Cr="user_cancelled",Sr="monitor_popup_timeout",Tr="monitor_window_timeout",Ir="redirect_in_iframe",wr="block_iframe_reload",Ar="block_nested_popups",kr="iframe_closed_prematurely",Pr="silent_logout_unsupported",xr="no_account_error",Rr="silent_prompt_value_error",Nr="no_token_request_cache_error",Or="unable_to_parse_token_request_cache_error",Lr="no_cached_authority_error",Mr="auth_request_not_set_error",Dr="invalid_cache_type",Ur="non_browser_environment",Br="database_not_open",Fr="no_network_connectivity",Hr="post_request_failed",qr="get_request_failed",Gr="failed_to_parse_response",zr="unable_to_load_token",$r="crypto_key_not_found",Xr="auth_code_required",Vr="auth_code_or_nativeAccountId_required",Wr="spa_code_and_nativeAccountId_present",jr="database_unavailable",Kr="unable_to_acquire_token_from_native_platform",Zr="native_handshake_timeout",Yr="native_extension_not_installed",Qr="native_connection_not_established",Jr="uninitialized_public_client_application",eo="native_prompt_not_supported",to="invalid_base64_string",no="invalid_pop_token_request",ro="For more visit: aka.ms/msaljs/browser-errors",oo={[dr]:"The PKCE code challenge and verifier could not be generated.",[hr]:"The crypto object or function is not available.",[mr]:"Navigation URI is empty. Please check stack trace for more info.",[pr]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${ro}`,[gr]:"Hash does not contain state. Please verify that the request originated from msal.",[fr]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${ro}`,[vr]:"Unable to parse state. Please verify that the request originated from msal.",[_r]:"Hash contains state but the interaction type does not match the caller.",[yr]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${ro}`,[br]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[Er]:"window.open returned null or undefined window object.",[Cr]:"User cancelled the flow.",[Sr]:`Token acquisition in popup failed due to timeout.  ${ro}`,[Tr]:`Token acquisition in iframe failed due to timeout.  ${ro}`,[Ir]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[wr]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${ro}`,[Ar]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[kr]:"The iframe being monitored was closed prematurely.",[Pr]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[xr]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[Rr]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[Nr]:"No token request found in cache.",[Or]:"The cached token request could not be parsed.",[Lr]:"No cached authority found.",[Mr]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[Dr]:"Invalid cache type",[Ur]:"Login and token requests are not supported in non-browser environments.",[Br]:"Database is not open!",[Fr]:"No network connectivity. Check your internet connection.",[Hr]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[qr]:"Network request failed. Please check the network trace to determine root cause.",[Gr]:"Failed to parse network response. Check network trace.",[zr]:"Error loading token to cache.",[$r]:"Cryptographic Key or Keypair not found in browser storage.",[Xr]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Vr]:"An authorization code or nativeAccountId must be provided to this flow.",[Wr]:"Request cannot contain both spa code and native account id.",[jr]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[Kr]:`Unable to acquire token from native platform.  ${ro}`,[Zr]:"Timed out while attempting to establish connection to browser extension",[Yr]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[Qr]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${ro}`,[Jr]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${ro}`,[eo]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[to]:"Invalid base64 encoded string.",[no]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true."};class ao extends h{constructor(e){super(e,oo[e]),Object.setPrototypeOf(this,ao.prototype),this.name="BrowserAuthError"}}function io(e){return new ao(e)}class so{async sendGetRequestAsync(e,t){let n;try{n=await fetch(e,{method:lr.EC.GET,headers:this.getFetchHeaders(t)})}catch(r){throw window.navigator.onLine?io(qr):io(Fr)}try{return{headers:this.getHeaderDict(n.headers),body:await n.json(),status:n.status}}catch(r){throw io(Gr)}}async sendPostRequestAsync(e,t){const n=t&&t.body||o.gT.EMPTY_STRING;let r;try{r=await fetch(e,{method:lr.EC.POST,headers:this.getFetchHeaders(t),body:n})}catch(a){throw window.navigator.onLine?io(Hr):io(Fr)}try{return{headers:this.getHeaderDict(r.headers),body:await r.json(),status:r.status}}catch(a){throw io(Gr)}}getFetchHeaders(e){const t=new Headers;if(!e||!e.headers)return t;const n=e.headers;return Object.keys(n).forEach((e=>{t.append(e,n[e])})),t}getHeaderDict(e){const t={};return e.forEach(((e,n)=>{t[n]=e})),t}}const co=1e4;const lo="3.20.0";class uo{static loggerCallback(e,t){switch(e){case r.Error:return void console.error(t);case r.Info:return void console.info(t);case r.Verbose:return void console.debug(t);case r.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){let t;this.browserEnvironment=!0,this.config=function({auth:e,cache:t,system:n,telemetry:l},u){const d={clientId:o.gT.EMPTY_STRING,authority:`${o.gT.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:o.gT.EMPTY_STRING,authorityMetadata:o.gT.EMPTY_STRING,redirectUri:o.gT.EMPTY_STRING,postLogoutRedirectUri:o.gT.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:i,OIDCOptions:{serverResponseType:o.rg.FRAGMENT,defaultScopes:[o.gT.OPENID_SCOPE,o.gT.PROFILE_SCOPE,o.gT.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:c,tenant:o.gT.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1},h={cacheLocation:lr.Ix.SessionStorage,temporaryCacheLocation:lr.Ix.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!t||t.cacheLocation!==lr.Ix.LocalStorage),claimsBasedCachingEnabled:!1},m={loggerCallback:()=>{},logLevel:r.Info,piiLoggingEnabled:!1},p={...{...Pt,loggerOptions:m,networkClient:u?new so:Bt,navigationClient:new ur.d,loadFrameTimeout:0,windowHashTimeout:n?.loadFrameTimeout||6e4,iframeHashTimeout:n?.loadFrameTimeout||co,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:n?.nativeBrokerHandshakeTimeout||2e3,pollIntervalMilliseconds:lr.qx.DEFAULT_POLL_INTERVAL_MS},...n,loggerOptions:n?.loggerOptions||m},g={application:{appName:o.gT.EMPTY_STRING,appVersion:o.gT.EMPTY_STRING},client:new cr};e?.protocolMode!==s&&e?.OIDCOptions&&new a(p.loggerOptions).warning(JSON.stringify(tt(Ze)));if(e?.protocolMode&&e.protocolMode!==i&&p?.allowNativeBroker)throw tt(Ye);return{auth:{...d,...e,OIDCOptions:{...d.OIDCOptions,...e?.OIDCOptions}},cache:{...h,...t},system:p,telemetry:{...g,...l}}}(e,this.browserEnvironment);try{t=window[lr.Ix.SessionStorage]}catch(m){}const n=t?.getItem(lr.bg),l=t?.getItem(lr.PK)?.toLowerCase(),u="true"===l||"false"!==l&&void 0,d={...this.config.system.loggerOptions},h=n&&Object.keys(r).includes(n)?r[n]:void 0;h&&(d.loggerCallback=uo.loggerCallback,d.logLevel=h),void 0!==u&&(d.piiLoggingEnabled=u),this.logger=new a(d,"@azure/msal-browser",lo),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class ho extends uo{getModuleName(){return ho.MODULE_NAME}getId(){return ho.ID}async initialize(){return this.available=!0,this.available}}ho.MODULE_NAME="",ho.ID="StandardOperatingContext";const mo="missing_kid_error",po="missing_alg_error",go={[mo]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[po]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class fo extends h{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,fo.prototype)}}function vo(e){return new fo(e,go[e])}class _o{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw vo(mo);if(!e.alg)throw vo(po);const t=new _o({typ:e.typ||o.xd.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}function yo(e){return encodeURIComponent(Eo(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function bo(e){return Co(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Eo(e){return Co((new TextEncoder).encode(e))}function Co(e){const t=Array.from(e,(e=>String.fromCodePoint(e))).join("");return btoa(t)}function So(e){return(new TextDecoder).decode(function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw io(to)}const n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)||0))}(e))}const To="SHA-256",Io=new Uint8Array([1,0,1]),wo="0123456789abcdef",Ao=new Uint32Array(1),ko={name:"RSASSA-PKCS1-v1_5",hash:To,modulusLength:2048,publicExponent:Io};async function Po(e,t,n){t?.addQueueMeasurement(or,n);const r=(new TextEncoder).encode(e);return window.crypto.subtle.digest(To,r)}function xo(e){return window.crypto.getRandomValues(e)}function Ro(){return window.crypto.getRandomValues(Ao),Ao[0]}function No(){const e=Date.now(),t=1024*Ro()+(1023&Ro()),n=new Uint8Array(16),r=Math.trunc(t/2**30),o=t&2**30-1,a=Ro();n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/65536,n[4]=e/256,n[5]=e,n[6]=112|r>>>8,n[7]=r,n[8]=128|o>>>24,n[9]=o>>>16,n[10]=o>>>8,n[11]=o,n[12]=a>>>24,n[13]=a>>>16,n[14]=a>>>8,n[15]=a;let i="";for(let s=0;s<n.length;s++)i+=wo.charAt(n[s]>>>4),i+=wo.charAt(15&n[s]),3!==s&&5!==s&&7!==s&&9!==s||(i+="-");return i}async function Oo(e){return window.crypto.subtle.exportKey(lr.Mm,e)}async function Lo(e){const t=await Po(e);return bo(new Uint8Array(t))}class Mo{constructor(){this.dbName=lr.H4,this.version=lr.kd,this.tableName=lr.Gv,this.dbOpen=!1}async open(){return new Promise(((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",(e=>{e.target.result.createObjectStore(this.tableName)})),n.addEventListener("success",(t=>{const n=t;this.db=n.target.result,this.dbOpen=!0,e()})),n.addEventListener("error",(()=>t(io(jr))))}))}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(io(Br));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async setItem(e,t){return await this.validateDbIsOpen(),new Promise(((n,r)=>{if(!this.db)return r(io(Br));const o=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);o.addEventListener("success",(()=>{this.closeConnection(),n()})),o.addEventListener("error",(e=>{this.closeConnection(),r(e)}))}))}async removeItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(io(Br));const r=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);r.addEventListener("success",(()=>{this.closeConnection(),t()})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async getKeys(){return await this.validateDbIsOpen(),new Promise(((e,t)=>{if(!this.db)return t(io(Br));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();n.addEventListener("success",(t=>{const n=t;this.closeConnection(),e(n.target.result)})),n.addEventListener("error",(e=>{this.closeConnection(),t(e)}))}))}async containsKey(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(io(Br));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(1===n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise(((e,t)=>{const n=window.indexedDB.deleteDatabase(lr.H4),r=setTimeout((()=>t(!1)),200);n.addEventListener("success",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("blocked",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("error",(()=>(clearTimeout(r),t(!1))))}))}}class Do{constructor(){this.cache=new Map}getItem(e){return this.cache.get(e)||null}setItem(e,t){this.cache.set(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach(((t,n)=>{e.push(n)})),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}class Uo{constructor(e){this.inMemoryCache=new Do,this.indexedDBCache=new Mo,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof ao&&e.errorCode===jr))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(n){this.handleDatabaseAccessError(n)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(n){this.handleDatabaseAccessError(n)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(0===e.length)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(n){this.handleDatabaseAccessError(n)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}class Bo{constructor(e,t){this.logger=e,function(e){if(!("crypto"in window))throw e.error("BrowserCrypto: crypto interface is unavailable"),io(hr);e.verbose("BrowserCrypto: modern crypto interface available")}(e),this.cache=new Uo(this.logger),this.performanceClient=t}createNewGuid(){return No()}base64Encode(e){return Eo(e)}base64Decode(e){return So(e)}base64UrlEncode(e){return yo(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){const t=this.performanceClient?.startMeasurement(Vt,e.correlationId),n=await async function(e,t){return window.crypto.subtle.generateKey(ko,e,t)}(Bo.EXTRACTABLE,Bo.POP_KEY_USAGES),r=await Oo(n.publicKey),o=Fo({e:r.e,kty:r.kty,n:r.n}),a=await this.hashString(o),i=await Oo(n.privateKey),s=await async function(e,t,n){return window.crypto.subtle.importKey(lr.Mm,e,ko,t,n)}(i,!1,["sign"]);return await this.cache.setItem(a,{privateKey:s,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),a}async removeTokenBindingKey(e){await this.cache.removeItem(e);return!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,r){const o=this.performanceClient?.startMeasurement(Wt,r),a=await this.cache.getItem(t);if(!a)throw io($r);const i=await Oo(a.publicKey),s=Fo(i),c=yo(JSON.stringify({kid:t})),l=yo(_o.getShrHeaderString({...n?.header,alg:i.alg,kid:c}));e.cnf={jwk:JSON.parse(s)};const u=`${l}.${yo(JSON.stringify(e))}`,d=(new TextEncoder).encode(u),h=await async function(e,t){return window.crypto.subtle.sign(ko,e,t)}(a.privateKey,d),m=`${u}.${bo(new Uint8Array(h))}`;return o&&o.end({success:!0}),m}async hashString(e){return Lo(e)}}function Fo(e){return JSON.stringify(e,Object.keys(e).sort())}Bo.POP_KEY_USAGES=["sign","verify"],Bo.EXTRACTABLE=!0;const Ho=(e,t,n,r,o)=>(...a)=>{n.trace(`Executing function ${t}`);const i=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}try{const r=e(...a);return i?.end({success:!0}),n.trace(`Returning result from ${t}`),r}catch(s){n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(s))}catch(s){n.trace("Unable to print error message.")}throw i?.end({success:!1},s),s}},qo=(e,t,n,r,o)=>(...a)=>{n.trace(`Executing function ${t}`);const i=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}return r?.setPreQueueTime(t,o),e(...a).then((e=>(n.trace(`Returning result from ${t}`),i?.end({success:!0}),e))).catch((e=>{n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw i?.end({success:!1},e),e}))};class Go{constructor(e,t,n,r){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=r}async detectRegion(e,t){this.performanceClient?.addQueueMeasurement(Xn,this.correlationId);let n=e;if(n)t.region_source=o.W.ENVIRONMENT_VARIABLE;else{const e=Go.IMDS_OPTIONS;try{const r=await qo(this.getRegionFromIMDS.bind(this),Vn,this.logger,this.performanceClient,this.correlationId)(o.gT.IMDS_VERSION,e);if(r.status===o.YY.httpSuccess&&(n=r.body,t.region_source=o.W.IMDS),r.status===o.YY.httpBadRequest){const r=await qo(this.getCurrentVersion.bind(this),Wn,this.logger,this.performanceClient,this.correlationId)(e);if(!r)return t.region_source=o.W.FAILED_AUTO_DETECTION,null;const a=await qo(this.getRegionFromIMDS.bind(this),Vn,this.logger,this.performanceClient,this.correlationId)(r,e);a.status===o.YY.httpSuccess&&(n=a.body,t.region_source=o.W.IMDS)}}catch(r){return t.region_source=o.W.FAILED_AUTO_DETECTION,null}}return n||(t.region_source=o.W.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(e,t){return this.performanceClient?.addQueueMeasurement(Vn,this.correlationId),this.networkInterface.sendGetRequestAsync(`${o.gT.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,o.gT.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(Wn,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync(`${o.gT.IMDS_ENDPOINT}?format=json`,e);return t.status===o.YY.httpBadRequest&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch(t){return null}}}Go.IMDS_OPTIONS={headers:{Metadata:"true"}};class zo{constructor(e,t,n,r,o,a,i,s){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=i,this.correlationId=a,this.managedIdentity=s||!1,this.regionDiscovery=new Go(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(o.gT.CIAM_AUTH_URL))return ht;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case o.gT.ADFS:return ut;case o.gT.DSTS:return dt}return lt}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new vt(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw ie(_)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw ie(_)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw ie(_)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw ie(Y);return this.replacePath(this.metadata.end_session_endpoint)}throw ie(_)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw ie(_)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw ie(_)}canReplaceTenant(e){return 1===e.PathSegments.length&&!zo.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===lt&&this.protocolMode===i}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const n=new vt(this.metadata.canonical_authority).getUrlComponents(),r=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(((e,o)=>{let a=r[o];if(0===o&&this.canReplaceTenant(n)){const e=new vt(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];a!==e&&(this.logger.verbose(`Replacing tenant domain name ${a} with id ${e}`),a=e)}e!==a&&(t=t.replace(`/${a}/`,`/${e}/`))})),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===ut||this.protocolMode!==i&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(Fn,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await qo(this.updateCloudDiscoveryMetadata.bind(this),qn,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const n=await qo(this.updateEndpointMetadata.bind(this),zn,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Ae(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==o.pQ.CACHE&&n?.source!==o.pQ.CACHE&&(e.expiresAt=Ae(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(zn,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===o.pQ.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata){ke(e,await qo(this.updateMetadataWithRegionalInformation.bind(this),$n,this.logger,this.performanceClient,this.correlationId)(t.metadata),!1),e.canonical_authority=this.canonicalAuthority}return t.source}let n=await qo(this.getEndpointMetadataFromNetwork.bind(this),Gn,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await qo(this.updateMetadataWithRegionalInformation.bind(this),$n,this.logger,this.performanceClient,this.correlationId)(n)),ke(e,n,!0),o.pQ.NETWORK;throw ie(b,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),ke(e,t,!1),{source:o.pQ.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return ke(e,t,!1),{source:o.pQ.HARDCODED_VALUES,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=xe(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:o.pQ.CACHE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new vt(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw tt($e)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(Gn,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const n=await this.networkInterface.sendGetRequestAsync(t,e),r=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(n.body);return r?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(n){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${n}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in _t?_t[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement($n,this.correlationId);const t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==o.gT.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=o.ki.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=t,zo.replaceWithRegionalInformation(e,t);const n=await qo(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),Xn,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=o.ki.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=n,zo.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=o.ki.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(qn,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const n=await qo(this.getCloudDiscoveryMetadataFromNetwork.bind(this),Hn,this.logger,this.performanceClient,this.correlationId)();if(n)return Pe(e,n,!0),o.pQ.NETWORK;throw tt(Xe)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||o.gT.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||o.gT.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||o.gT.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Pe(e,t,!1),o.pQ.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=(n=this.hostnameAndPort,Ct(yt.metadata,n));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Pe(e,t,!1),o.pQ.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var n;const r=xe(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),o.pQ.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===ht)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),zo.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=Ct(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),tt(ze)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),zo.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(Hn,this.correlationId);const e=`${o.gT.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let n=null;try{const r=await this.networkInterface.sendGetRequestAsync(e,t);let a,i;if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(r.body))a=r.body,i=a.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${a.tenant_discovery_endpoint}`);else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(r.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${r.status}`),a=r.body,a.error===o.gT.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${a.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${a.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),i=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=Ct(i,this.hostnameAndPort)}catch(r){if(r instanceof h)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${r.errorCode}\nError Description: ${r.errorMessage}`);else{const e=r;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${e.name}\nError Description: ${e.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=zo.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter((e=>e&&vt.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort)).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==c){const e=t.tenant?t.tenant:o.gT.DEFAULT_COMMON_TENANT;n=`${t.azureCloudInstance}/${e}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return o.gT.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw ie(_)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return bt.has(e)}static isPublicCloudAuthority(e){return o.gT.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const r=new vt(e);r.validateAsUri();const a=r.getUrlComponents();let i=`${t}.${a.HostNameAndPort}`;this.isPublicCloudAuthority(a.HostNameAndPort)&&(i=`${t}.${o.gT.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const s=vt.constructAuthorityUriFromObject({...r.getUrlComponents(),HostNameAndPort:i}).urlString;return n?`${s}?${n}`:s}static replaceWithRegionalInformation(e,t){const n={...e};return n.authorization_endpoint=zo.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=zo.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=zo.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const n=new vt(e).getUrlComponents();if(0===n.PathSegments.length&&n.HostNameAndPort.endsWith(o.gT.CIAM_AUTH_URL)){t=`${t}${n.HostNameAndPort.split(".")[0]}${o.gT.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}function $o(e){return e.endsWith(o.gT.FORWARD_SLASH)?e:`${e}${o.gT.FORWARD_SLASH}`}zo.reservedTenantDomains=new Set(["{tenant}","{tenantid}",o.Nb.COMMON,o.Nb.CONSUMERS,o.Nb.ORGANIZATIONS]);const Xo="no_tokens_found",Vo="native_account_unavailable",Wo="refresh_token_expired",jo="bad_token",Ko=["interaction_required","consent_required","login_required",jo],Zo=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],Yo={[Xo]:"No refresh token found in the cache. Please sign-in.",[Vo]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Wo]:"Refresh token has expired.",[jo]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class Qo extends h{constructor(e,t,n,r,a,i,s,c){super(e,t,n),Object.setPrototypeOf(this,Qo.prototype),this.timestamp=r||o.gT.EMPTY_STRING,this.traceId=a||o.gT.EMPTY_STRING,this.correlationId=i||o.gT.EMPTY_STRING,this.claims=s||o.gT.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}function Jo(e,t,n){const r=!!e&&Ko.indexOf(e)>-1,o=!!n&&Zo.indexOf(n)>-1,a=!!t&&Ko.some((e=>t.indexOf(e)>-1));return r||a||o}function ea(e){return new Qo(e,Yo[e])}class ta{static setRequestState(e,t,n){const r=ta.generateLibraryState(e,n);return t?`${r}${o.gT.RESOURCE_DELIM}${t}`:r}static generateLibraryState(e,t){if(!e)throw ie(G);const n={id:e.createNewGuid()};t&&(n.meta=t);const r=JSON.stringify(n);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw ie(G);if(!t)throw ie(C);try{const n=t.split(o.gT.RESOURCE_DELIM),r=n[0],a=n.length>1?n.slice(1).join(o.gT.RESOURCE_DELIM):o.gT.EMPTY_STRING,i=e.base64Decode(r),s=JSON.parse(i);return{userRequestState:a||o.gT.EMPTY_STRING,libraryState:s}}catch(n){throw ie(C)}}}const na="home_account_id",ra="UPN",oa="storage_not_supported",aa="stubbed_public_client_application_called",ia="in_mem_redirect_unavailable",sa={[oa]:"Given storage configuration option was not supported.",[aa]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[ia]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class ca extends h{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,ca.prototype)}}function la(e){return new ca(e,sa[e])}class ua{constructor(e){this.validateWindowStorage(e),this.windowStorage=window[e]}validateWindowStorage(e){if(e!==lr.Ix.LocalStorage&&e!==lr.Ix.SessionStorage||!window[e])throw la(oa)}getItem(e){return this.windowStorage.getItem(e)}setItem(e,t){this.windowStorage.setItem(e,t)}removeItem(e){this.windowStorage.removeItem(e)}getKeys(){return Object.keys(this.windowStorage)}containsKey(e){return this.windowStorage.hasOwnProperty(e)}}function da(e,t){if(!t)return null;try{return ta.parseRequestState(e,t).libraryState.meta}catch(n){throw ie(C)}}class ha extends At{constructor(e,t,n,r,o,a){super(e,n,r,o),this.COOKIE_LIFE_MULTIPLIER=864e5,this.cacheConfig=t,this.logger=r,this.internalStorage=new Do,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupTemporaryCacheStorage(this.cacheConfig.temporaryCacheLocation,this.cacheConfig.cacheLocation),t.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps()),this.performanceClient=a}setupBrowserStorage(e){switch(e){case lr.Ix.LocalStorage:case lr.Ix.SessionStorage:try{return new ua(e)}catch(t){this.logger.verbose(t);break}}return this.cacheConfig.cacheLocation=lr.Ix.MemoryStorage,new Do}setupTemporaryCacheStorage(e,t){switch(t){case lr.Ix.LocalStorage:case lr.Ix.SessionStorage:try{return new ua(e||lr.Ix.SessionStorage)}catch(n){return this.logger.verbose(n),this.internalStorage}case lr.Ix.MemoryStorage:default:return this.internalStorage}}migrateCacheEntries(){const e=`${o.gT.CACHE_PREFIX}.${o.Vi.ID_TOKEN}`,t=`${o.gT.CACHE_PREFIX}.${o.Vi.CLIENT_INFO}`,n=`${o.gT.CACHE_PREFIX}.${o.Vi.ERROR}`,r=`${o.gT.CACHE_PREFIX}.${o.Vi.ERROR_DESC}`,a=[this.browserStorage.getItem(e),this.browserStorage.getItem(t),this.browserStorage.getItem(n),this.browserStorage.getItem(r)];[o.Vi.ID_TOKEN,o.Vi.CLIENT_INFO,o.Vi.ERROR,o.Vi.ERROR_DESC].forEach(((e,t)=>{const n=a[t];n&&this.setTemporaryCache(e,n,!0)}))}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const e=this.getItem(lr.Oq.ACCOUNT_KEYS),t=this.getItem(`${lr.Oq.TOKEN_KEYS}.${this.clientId}`);if(e&&t)return void this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");this.browserStorage.getKeys().forEach((e=>{if(this.isCredentialKey(e)){const t=this.getItem(e);if(t){const n=this.validateAndParseJson(t);if(n&&n.hasOwnProperty("credentialType"))switch(n.credentialType){case o.d3.ID_TOKEN:if(be(n)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${e} found, saving key to token key map`);const t=n,r=this.updateCredentialCacheKey(e,t);return void this.addTokenKey(r,o.d3.ID_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${e}`);break;case o.d3.ACCESS_TOKEN:case o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(ye(n)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${e} found, saving key to token key map`);const t=n,r=this.updateCredentialCacheKey(e,t);return void this.addTokenKey(r,o.d3.ACCESS_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${e}`);break;case o.d3.REFRESH_TOKEN:if(Ee(n)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${e} found, saving key to token key map`);const t=n,r=this.updateCredentialCacheKey(e,t);return void this.addTokenKey(r,o.d3.REFRESH_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${e}`)}}}if(this.isAccountKey(e)){const t=this.getItem(e);if(t){const n=this.validateAndParseJson(t);n&&pt.isAccountEntity(n)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${e} found, saving key to account key map`),this.addAccountKeyToMap(e))}}}))}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(t){return null}}getItem(e){return this.browserStorage.getItem(e)}setItem(e,t){this.browserStorage.setItem(e,t)}getAccount(e,t){this.logger.trace("BrowserCacheManager.getAccount called");const n=this.getCachedAccountEntity(e);return this.updateOutdatedCachedAccount(e,n,t)}getCachedAccountEntity(e){const t=this.getItem(e);if(!t)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(t);return n&&pt.isAccountEntity(n)?At.toObject(new pt,n):(this.removeAccountKeyFromMap(e),null)}setAccount(e){this.logger.trace("BrowserCacheManager.setAccount called");const t=e.generateAccountKey();this.setItem(t,JSON.stringify(e)),this.addAccountKeyToMap(t)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const e=this.getItem(lr.Oq.ACCOUNT_KEYS);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();-1===t.indexOf(e)?(t.push(e),this.setItem(lr.Oq.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.setItem(lr.Oq.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}removeOutdatedAccount(e){this.removeItem(e),this.removeAccountKeyFromMap(e)}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,o.d3.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,o.d3.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,o.d3.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const e=this.getItem(`${lr.Oq.TOKEN_KEYS}.${this.clientId}`);if(e){const t=this.validateAndParseJson(e);if(t&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("accessToken")&&t.hasOwnProperty("refreshToken"))return t;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(t){case o.d3.ID_TOKEN:-1===n.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case o.d3.ACCESS_TOKEN:-1===n.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case o.d3.REFRESH_TOKEN:-1===n.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),ie(z)}this.setItem(`${lr.Oq.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(n))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(t){case o.d3.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const r=n.idToken.indexOf(e);r>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(r,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case o.d3.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const a=n.accessToken.indexOf(e);a>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(a,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case o.d3.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const i=n.refreshToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),ie(z)}this.setItem(`${lr.Oq.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(n))}getIdTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,o.d3.ID_TOKEN),null;const n=this.validateAndParseJson(t);return n&&be(n)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,o.d3.ID_TOKEN),null)}setIdTokenCredential(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const t=pe(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,o.d3.ID_TOKEN)}getAccessTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,o.d3.ACCESS_TOKEN),null;const n=this.validateAndParseJson(t);return n&&ye(n)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,o.d3.ACCESS_TOKEN),null)}setAccessTokenCredential(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const t=pe(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,o.d3.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,o.d3.REFRESH_TOKEN),null;const n=this.validateAndParseJson(t);return n&&Ee(n)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,o.d3.REFRESH_TOKEN),null)}setRefreshTokenCredential(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const t=pe(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,o.d3.REFRESH_TOKEN)}getAppMetadata(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&(r=e,(a=n)&&0===r.indexOf(o.dg)&&a.hasOwnProperty("clientId")&&a.hasOwnProperty("environment"))?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null);var r,a}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=function({environment:e,clientId:t}){return[o.dg,e,t].join(o.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}(e);this.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){const n=0===e.indexOf(o.HN.CACHE_KEY);let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){return!!t&&0===e.indexOf(o.QU.CACHE_KEY)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter((e=>this.isAuthorityMetadata(e)))}setWrapperMetadata(e,t){this.internalStorage.setItem(lr.Bs.WRAPPER_SKU,e),this.internalStorage.setItem(lr.Bs.WRAPPER_VER,t)}getWrapperMetadata(){return[this.internalStorage.getItem(lr.Bs.WRAPPER_SKU)||o.gT.EMPTY_STRING,this.internalStorage.getItem(lr.Bs.WRAPPER_VER)||o.gT.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(o.Vi.ACTIVE_ACCOUNT_FILTERS),t=this.getItem(e);if(!t){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const e=this.generateCacheKey(o.Vi.ACTIVE_ACCOUNT),t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const n=this.getAccountInfoFilteredBy({localAccountId:t});return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(n),n):null}const n=this.validateAndParseJson(t);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(o.Vi.ACTIVE_ACCOUNT_FILTERS),n=this.generateCacheKey(o.Vi.ACTIVE_ACCOUNT);if(e){this.logger.verbose("setActiveAccount: Active account set");const r={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(r)),this.browserStorage.setItem(n,e.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t),this.browserStorage.removeItem(n)}getThrottlingCache(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){let n=!1;e&&(n=0===e.indexOf(o.bb.THROTTLING_PREFIX));let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const e=this.getItemCookie(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e}const r=this.temporaryCacheStorage.getItem(n);if(!r){if(this.cacheConfig.cacheLocation===lr.Ix.LocalStorage){const e=this.browserStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,t,n){const r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(r,t))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach((e=>{-1===e.indexOf(o.gT.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.removeTemporaryItem(e)})),this.browserStorage.getKeys().forEach((e=>{-1===e.indexOf(o.gT.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.browserStorage.removeItem(e)})),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(Jn,t);const n=this.getTokenKeys(),r=[];n.accessToken.forEach((e=>{const t=this.getAccessTokenCredential(e);t?.requestedClaimsHash&&e.includes(t.requestedClaimsHash.toLowerCase())&&r.push(this.removeAccessToken(e))})),await Promise.all(r),r.length>0&&this.logger.warning(`${r.length} access tokens with claims in the cache keys have been removed from the cache.`)}setItemCookie(e,t,n){let r=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=Lax;`;if(n){r+=`expires=${this.getCookieExpirationTime(n)};`}this.cacheConfig.secureCookies&&(r+="Secure;"),document.cookie=r}getItemCookie(e){const t=`${encodeURIComponent(e)}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let e=n[r];for(;" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(t))return decodeURIComponent(e.substring(t.length,e.length))}return o.gT.EMPTY_STRING}clearMsalCookies(){const e=`${o.gT.CACHE_PREFIX}.${this.clientId}`;document.cookie.split(";").forEach((t=>{for(;" "===t.charAt(0);)t=t.substring(1);if(0===t.indexOf(e)){const e=t.split("=")[0];this.clearItemCookie(e)}}))}clearItemCookie(e){this.setItemCookie(e,o.gT.EMPTY_STRING,-1)}getCookieExpirationTime(e){const t=new Date;return new Date(t.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):nt.startsWith(e,o.gT.CACHE_PREFIX)||nt.startsWith(e,o.Vi.ADAL_ID_TOKEN)?e:`${o.gT.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){const{libraryState:{id:t}}=ta.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${lr.c4.AUTHORITY}.${t}`)}generateNonceKey(e){const{libraryState:{id:t}}=ta.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${lr.c4.NONCE_IDTOKEN}.${t}`)}generateStateKey(e){const{libraryState:{id:t}}=ta.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${lr.c4.REQUEST_STATE}.${t}`)}getCachedAuthority(e){const t=this.generateStateKey(e),n=this.getTemporaryCache(t);if(!n)return null;const r=this.generateAuthorityKey(n);return this.getTemporaryCache(r)}updateCacheEntries(e,t,n,r,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const a=this.generateStateKey(e);this.setTemporaryCache(a,e,!1);const i=this.generateNonceKey(e);this.setTemporaryCache(i,t,!1);const s=this.generateAuthorityKey(e);if(this.setTemporaryCache(s,n,!1),o){const e={credential:o.homeAccountId,type:na};this.setTemporaryCache(lr.c4.CCS_CREDENTIAL,JSON.stringify(e),!0)}else if(r){const e={credential:r,type:ra};this.setTemporaryCache(lr.c4.CCS_CREDENTIAL,JSON.stringify(e),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach((t=>{-1!==t.indexOf(e)&&this.removeTemporaryItem(t)})),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(lr.c4.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(lr.c4.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(lr.c4.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(lr.c4.CORRELATION_ID)),this.removeTemporaryItem(this.generateCacheKey(lr.c4.CCS_CREDENTIAL)),this.removeTemporaryItem(this.generateCacheKey(lr.c4.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){const t=this.generateStateKey(e),n=this.temporaryCacheStorage.getItem(t);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n||o.gT.EMPTY_STRING)}this.clearMsalCookies()}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach((t=>{if(-1===t.indexOf(lr.c4.REQUEST_STATE))return;const n=this.temporaryCacheStorage.getItem(t);if(!n)return;const r=da(this.cryptoImpl,n);r&&r.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n))})),this.clearMsalCookies(),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const t=Eo(JSON.stringify(e));this.setTemporaryCache(lr.c4.REQUEST_PARAMS,t,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");const t=this.getTemporaryCache(lr.c4.REQUEST_PARAMS,!0);if(!t)throw io(Nr);let n;try{n=JSON.parse(So(t))}catch(r){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${r}`),io(Or)}if(this.removeTemporaryItem(this.generateCacheKey(lr.c4.REQUEST_PARAMS)),!n.authority){const t=this.generateAuthorityKey(e),r=this.getTemporaryCache(t);if(!r)throw io(Lr);n.authority=r}return n}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(lr.c4.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress();return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${o.gT.CACHE_PREFIX}.${lr.c4.INTERACTION_STATUS_KEY}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){const t=`${o.gT.CACHE_PREFIX}.${lr.c4.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw io(yr);this.setTemporaryCache(t,this.clientId,!1)}else e||this.getInteractionInProgress()!==this.clientId||this.removeTemporaryItem(t)}getLegacyLoginHint(){const e=this.getTemporaryCache(o.Vi.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(o.Vi.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));const t=this.getTemporaryCache(o.Vi.ID_TOKEN,!0);t&&(this.browserStorage.removeItem(this.generateCacheKey(o.Vi.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const n=t||e;if(n){const e=ue(n,So);if(e.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),e.preferred_username;if(e.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),e.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(e,t){const n=pe(t);if(e!==n){const r=this.getItem(e);if(r)return this.browserStorage.removeItem(e),this.setItem(n,r),this.logger.verbose(`Updated an outdated ${t.credentialType} cache key`),n;this.logger.error(`Attempted to update an outdated ${t.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}async hydrateCache(e,t){const n=ge(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId);let r;t.claims&&(r=await this.cryptoImpl.hashString(t.claims));const o={idToken:n,accessToken:fe(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?e.expiresOn.getTime()/1e3:0,e.extExpiresOn?e.extExpiresOn.getTime()/1e3:0,So,void 0,e.tokenType,void 0,t.sshKid,t.claims,r)};return this.saveCacheRecord(o)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(r){if(r instanceof wt&&this.performanceClient&&n)try{const e=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:e.refreshToken.length,cacheIdCount:e.idToken.length,cacheAtCount:e.accessToken.length},n)}catch(r){}throw r}}}function ma(){return window.parent!==window}function pa(){return window.location.href.split("?")[0].split("#")[0]}function ga(){if(window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf(`${lr.qx.POPUP_NAME_PREFIX}.`))throw io(Ar)}function fa(e){if(!e)throw io(Jr)}function va(e){!function(){if(vt.hashContainsKnownProperties(window.location.hash)&&ma())throw io(wr)}(),ga(),fa(e)}function _a(e,t){if(va(e),function(e){if(ma()&&!e)throw io(Ir)}(t.system.allowRedirectInIframe),t.cache.cacheLocation===lr.Ix.MemoryStorage&&!t.cache.storeAuthStateInCookie)throw la(ia)}function ya(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout((()=>{try{document.head.removeChild(t)}catch{}}),1e4)}const ba="msal:initializeStart",Ea="msal:initializeEnd",Ca="msal:accountAdded",Sa="msal:accountRemoved",Ta="msal:activeAccountChanged",Ia="msal:loginStart",wa="msal:loginSuccess",Aa="msal:loginFailure",ka="msal:acquireTokenStart",Pa="msal:acquireTokenSuccess",xa="msal:acquireTokenFailure",Ra="msal:acquireTokenFromNetworkStart",Na="msal:ssoSilentStart",Oa="msal:ssoSilentSuccess",La="msal:ssoSilentFailure",Ma="msal:acquireTokenByCodeStart",Da="msal:acquireTokenByCodeSuccess",Ua="msal:acquireTokenByCodeFailure",Ba="msal:handleRedirectStart",Fa="msal:handleRedirectEnd",Ha="msal:popupOpened",qa="msal:logoutStart",Ga="msal:logoutSuccess",za="msal:logoutFailure",$a="msal:logoutEnd",Xa="msal:restoreFromBFCache";class Va{constructor(e,t){this.eventCallbacks=new Map,this.logger=e,this.browserCrypto=t,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}addEventCallback(e){{const t=No();return this.eventCallbacks.set(t,e),this.logger.verbose(`Event callback registered with id: ${t}`),t}}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}enableAccountStorageEvents(){this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange))}disableAccountStorageEvents(){this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered.")}emitEvent(e,t,n,r){{const o={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};this.logger.info(`Emitting event: ${e}`),this.eventCallbacks.forEach(((t,n)=>{this.logger.verbose(`Emitting event to callback ${n}: ${e}`),t.apply(null,[o])}))}}handleAccountCacheChange(e){try{e.key?.includes(o.Vi.ACTIVE_ACCOUNT_FILTERS)&&this.emitEvent(Ta);const t=e.newValue||e.oldValue;if(!t)return;const n=JSON.parse(t);if("object"!==typeof n||!pt.isAccountEntity(n))return;const r=At.toObject(new pt,n).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(Ca,void 0,r)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(Sa,void 0,r))}catch(e){return}}}class Wa extends h{constructor(e,t,n,r,o){super(e,t,n),this.name="ServerError",this.errorNo=r,this.status=o,Object.setPrototypeOf(this,Wa.prototype)}}class ja{static generateThrottlingStorageKey(e){return`${o.bb.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,t){const n=ja.generateThrottlingStorageKey(t),r=e.getThrottlingCache(n);if(r){if(r.throttleTime<Date.now())return void e.removeItem(n);throw new Wa(r.errorCodes?.join(" ")||o.gT.EMPTY_STRING,r.errorMessage,r.subError)}}static postProcess(e,t,n){if(ja.checkResponseStatus(n)||ja.checkResponseForRetryAfter(n)){const r={throttleTime:ja.calculateThrottleTime(parseInt(n.headers[o.SZ.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(ja.generateThrottlingStorageKey(t),r)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&(e.headers.hasOwnProperty(o.SZ.RETRY_AFTER)&&(e.status<200||e.status>=300))}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||o.bb.DEFAULT_THROTTLE_TIME_SECONDS),n+o.bb.DEFAULT_MAX_THROTTLE_TIME_SECONDS))}static removeThrottle(e,t,n,r){const o={clientId:t,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:r,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},a=this.generateThrottlingStorageKey(o);e.removeItem(a)}}class Ka{constructor(e,t){this.networkClient=e,this.cacheManager=t}async sendPostRequest(e,t,n){let r;ja.preProcess(this.cacheManager,e);try{r=await this.networkClient.sendPostRequestAsync(t,n)}catch(o){throw o instanceof h?o:ie(y)}return ja.postProcess(this.cacheManager,e,r),r}}const Za="client_id",Ya="response_type",Qa="token_type",Ja="req_cnf",ei="return_spa_code";class ti{static validateRedirectUri(e){if(!e)throw tt(Re)}static validatePrompt(e){const t=[];for(const n in o.NJ)t.push(o.NJ[n]);if(t.indexOf(e)<0)throw tt(Ue)}static validateClaims(e){try{JSON.parse(e)}catch(t){throw tt(Be)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw tt(Ge);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([o.VX.PLAIN,o.VX.S256].indexOf(e)<0)throw tt(qe)}}class ni{constructor(){this.parameters=new Map}addResponseTypeCode(){this.parameters.set(Ya,encodeURIComponent(o.gT.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(Ya,encodeURIComponent(`${o.gT.TOKEN_RESPONSE_TYPE} ${o.gT.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set("response_mode",encodeURIComponent(e||o.vw.QUERY))}addNativeBroker(){this.parameters.set("nativebroker",encodeURIComponent("1"))}addScopes(e,t=!0,n=o.f_){!t||n.includes("openid")||e.includes("openid")||n.push("openid");const r=t?[...e||[],...n]:e||[],a=new rt(r);this.parameters.set("scope",encodeURIComponent(a.printScopes()))}addClientId(e){this.parameters.set(Za,encodeURIComponent(e))}addRedirectUri(e){ti.validateRedirectUri(e),this.parameters.set("redirect_uri",encodeURIComponent(e))}addPostLogoutRedirectUri(e){ti.validateRedirectUri(e),this.parameters.set("post_logout_redirect_uri",encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set("id_token_hint",encodeURIComponent(e))}addDomainHint(e){this.parameters.set("domain_hint",encodeURIComponent(e))}addLoginHint(e){this.parameters.set("login_hint",encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(o.SZ.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(o.SZ.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set("sid",encodeURIComponent(e))}addClaims(e,t){const n=this.addClientCapabilitiesToClaims(e,t);ti.validateClaims(n),this.parameters.set("claims",encodeURIComponent(n))}addCorrelationId(e){this.parameters.set("client-request-id",encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set("x-client-SKU",e.sku),this.parameters.set("x-client-VER",e.version),e.os&&this.parameters.set("x-client-OS",e.os),e.cpu&&this.parameters.set("x-client-CPU",e.cpu)}addApplicationTelemetry(e){e?.appName&&this.parameters.set("x-app-name",e.appName),e?.appVersion&&this.parameters.set("x-app-ver",e.appVersion)}addPrompt(e){ti.validatePrompt(e),this.parameters.set("prompt",encodeURIComponent(e))}addState(e){e&&this.parameters.set("state",encodeURIComponent(e))}addNonce(e){this.parameters.set("nonce",encodeURIComponent(e))}addCodeChallengeParams(e,t){if(ti.validateCodeChallengeParams(e,t),!e||!t)throw tt(Ge);this.parameters.set("code_challenge",encodeURIComponent(e)),this.parameters.set("code_challenge_method",encodeURIComponent(t))}addAuthorizationCode(e){this.parameters.set("code",encodeURIComponent(e))}addDeviceCode(e){this.parameters.set("device_code",encodeURIComponent(e))}addRefreshToken(e){this.parameters.set("refresh_token",encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set("code_verifier",encodeURIComponent(e))}addClientSecret(e){this.parameters.set("client_secret",encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set("client_assertion",encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set("client_assertion_type",encodeURIComponent(e))}addOboAssertion(e){this.parameters.set("assertion",encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set("requested_token_use",encodeURIComponent(e))}addGrantType(e){this.parameters.set("grant_type",encodeURIComponent(e))}addClientInfo(){this.parameters.set(o.sR,"1")}addExtraQueryParameters(e){Object.entries(e).forEach((([e,t])=>{!this.parameters.has(e)&&t&&this.parameters.set(e,t)}))}addClientCapabilitiesToClaims(e,t){let n;if(e)try{n=JSON.parse(e)}catch(r){throw tt(Be)}else n={};return t&&t.length>0&&(n.hasOwnProperty(o.As.ACCESS_TOKEN)||(n[o.As.ACCESS_TOKEN]={}),n[o.As.ACCESS_TOKEN][o.As.XMS_CC]={values:t}),JSON.stringify(n)}addUsername(e){this.parameters.set(o.Ge.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(o.Ge.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(Qa,o.hO.POP),this.parameters.set(Ja,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(Qa,o.hO.SSH),this.parameters.set(Ja,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set("x-client-current-telemetry",e.generateCurrentRequestHeaderValue()),this.parameters.set("x-client-last-telemetry",e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set("x-ms-lib-capability",o.bb.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set("logout_hint",encodeURIComponent(e))}createQueryString(){const e=new Array;return this.parameters.forEach(((t,n)=>{e.push(`${n}=${t}`)})),e.join("&")}}async function ri(e,t,n,r,o,a,i){i?.addQueueMeasurement(Bn,a);const s=zo.transformCIAMAuthority($o(e)),c=new zo(s,t,n,r,o,a,i);try{return await qo(c.resolveEndpointsAsync.bind(c),Fn,o,i,a)(),c}catch(l){throw ie(_)}}class oi{constructor(e,t){this.config=function({authOptions:e,systemOptions:t,loggerOptions:n,cacheOptions:r,storageInterface:o,networkInterface:i,cryptoInterface:s,clientCredentials:c,libraryInfo:l,telemetry:u,serverTelemetryManager:d,persistencePlugin:h,serializableCache:m}){const p={...xt,...n};return{authOptions:(g=e,{clientCapabilities:[],azureCloudOptions:Mt,skipAuthorityMetadataCache:!1,...g}),systemOptions:{...Pt,...t},loggerOptions:p,cacheOptions:{...Rt,...r},storageInterface:o||new kt(e.clientId,se,new a(p)),networkInterface:i||Nt,cryptoInterface:s||se,clientCredentials:c||Lt,libraryInfo:{...Ot,...l},telemetry:{...Dt,...u},serverTelemetryManager:d||null,persistencePlugin:h||null,serializableCache:m||null};var g}(e),this.logger=new a(this.config.loggerOptions,ce,le),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new Ka(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[o.SZ.CONTENT_TYPE]=o.gT.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case na:try{const n=at(e.credential);t[o.SZ.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case ra:t[o.SZ.CCS_HEADER]=`UPN: ${e.credential}`}return t}async executePostToTokenEndpoint(e,t,n,r,a,i){i&&this.performanceClient?.addQueueMeasurement(i,a);const s=await this.networkManager.sendPostRequest(r,e,{body:t,headers:n});return this.performanceClient?.addFields({refreshTokenSize:s.body.refresh_token?.length||0,httpVerToken:s.headers?.[o.SZ.X_MS_HTTP_VERSION]||""},a),this.config.serverTelemetryManager&&s.status<500&&429!==s.status&&this.config.serverTelemetryManager.clearTelemetryCache(),s}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(Pn,t);const n=`https://${e}/${this.authority.tenant}/`,r=await ri(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=r}createTokenQueryParameters(e){const t=new ni;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()}}const ai="sw";class ii{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(Ln,e.correlationId);const n=await qo(this.generateKid.bind(this),Ln,t,this.performanceClient,e.correlationId)(e),r=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:r}}async generateKid(e){this.performanceClient?.addQueueMeasurement(Mn,e.correlationId);return{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:ai}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,r){const{resourceRequestMethod:o,resourceRequestUri:a,shrClaims:i,shrNonce:s,shrOptions:c}=n,l=(a?new vt(a):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:he(),m:o?.toUpperCase(),u:l?.HostNameAndPort,nonce:s||this.cryptoUtils.createNewGuid(),p:l?.AbsolutePath,q:l?.QueryString?[[],l.QueryString]:void 0,client_claims:i||void 0,...r},t,c,n.correlationId)}}class si{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class ci{constructor(e,t,n,r,o,a,i){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=o,this.persistencePlugin=a,this.performanceClient=i}validateServerAuthorizationCodeResponse(e,t){if(!e.state||!t)throw e.state?ie(T,"Cached State"):ie(T,"Server State");let n,r;try{n=decodeURIComponent(e.state)}catch(o){throw ie(C,e.state)}try{r=decodeURIComponent(t)}catch(o){throw ie(C,e.state)}if(n!==r)throw ie(S);if(e.error||e.error_description||e.suberror){const t=function(e){const t="code=",n=e.error_uri?.lastIndexOf(t);return n&&n>=0?e.error_uri?.substring(n+t.length):void 0}(e);if(Jo(e.error,e.error_description,e.suberror))throw new Qo(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new Wa(e.error||"",e.error_description,e.suberror,t)}}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){const n=`Error(s): ${e.error_codes||o.gT.NOT_AVAILABLE} - Timestamp: ${e.timestamp||o.gT.NOT_AVAILABLE} - Description: ${e.error_description||o.gT.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||o.gT.NOT_AVAILABLE} - Trace ID: ${e.trace_id||o.gT.NOT_AVAILABLE}`,r=e.error_codes?.length?e.error_codes[0]:void 0,a=new Wa(e.error,n,e.suberror,r,e.status);if(t&&e.status&&e.status>=o.oj.SERVER_ERROR_RANGE_START&&e.status<=o.oj.SERVER_ERROR_RANGE_END)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${a}`);if(t&&e.status&&e.status>=o.oj.CLIENT_ERROR_RANGE_START&&e.status<=o.oj.CLIENT_ERROR_RANGE_END)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${a}`);if(Jo(e.error,e.error_description,e.suberror))throw new Qo(e.error,e.error_description,e.suberror,e.timestamp||o.gT.EMPTY_STRING,e.trace_id||o.gT.EMPTY_STRING,e.correlation_id||o.gT.EMPTY_STRING,e.claims||o.gT.EMPTY_STRING,r);throw a}}async handleServerTokenResponse(e,t,n,r,a,i,s,c,l){let u,d;if(this.performanceClient?.addQueueMeasurement(Dn,e.correlation_id),e.id_token){if(u=ue(e.id_token||o.gT.EMPTY_STRING,this.cryptoObj.base64Decode),a&&a.nonce&&u.nonce!==a.nonce)throw ie(I);if(r.maxAge||0===r.maxAge){const e=u.auth_time;if(!e)throw ie(w);de(e,r.maxAge)}}this.homeAccountIdentifier=pt.generateHomeAccountId(e.client_info||o.gT.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,u),a&&a.state&&(d=ta.parseRequestState(this.cryptoObj,a.state)),e.key_id=e.key_id||r.sshKid||void 0;const h=this.generateCacheRecord(e,t,n,r,u,i,a);let m;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),m=new si(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(m)),s&&!c&&h.account){const e=h.account.generateAccountKey();if(!this.cacheStorage.getAccount(e,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await ci.generateAuthenticationResult(this.cryptoObj,t,h,!1,r,u,d,void 0,l)}await this.cacheStorage.saveCacheRecord(h,r.storeInCache,r.correlationId)}finally{this.persistencePlugin&&this.serializableCache&&m&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(m))}return ci.generateAuthenticationResult(this.cryptoObj,t,h,!1,r,u,d,e,l)}generateCacheRecord(e,t,n,r,o,a,i){const s=t.getPreferredCache();if(!s)throw ie(H);const c=mt(o);let l,u;e.id_token&&o&&(l=ge(this.homeAccountIdentifier,s,e.id_token,this.clientId,c||""),u=li(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,s,c,i,void 0,this.logger));let d=null;if(e.access_token){const o=e.scope?rt.fromString(e.scope):new rt(r.scopes||[]),i=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,l=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,u=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,h=n+i,m=h+l,p=u&&u>0?n+u:void 0;d=fe(this.homeAccountIdentifier,s,e.access_token,this.clientId,c||t.tenant||"",o.printScopes(),h,m,this.cryptoObj.base64Decode,p,e.token_type,a,e.key_id,r.claims,r.requestedClaimsHash)}let h=null;if(e.refresh_token){let t;if(e.refresh_token_expires_in){t=n+("string"===typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)}h=ve(this.homeAccountIdentifier,s,e.refresh_token,this.clientId,e.foci,a,t)}let m=null;return e.foci&&(m={clientId:this.clientId,environment:s,familyId:e.foci}),{account:u,idToken:l,accessToken:d,refreshToken:h,appMetadata:m}}static async generateAuthenticationResult(e,t,n,r,a,i,s,c,l){let u,d,h=o.gT.EMPTY_STRING,m=[],p=null,g=o.gT.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType!==o.hO.POP||a.popKid)h=n.accessToken.secret;else{const t=new ii(e),{secret:r,keyId:o}=n.accessToken;if(!o)throw ie(Q);h=await t.signPopToken(r,o,a)}m=rt.fromString(n.accessToken.target).asArray(),p=new Date(1e3*Number(n.accessToken.expiresOn)),u=new Date(1e3*Number(n.accessToken.extendedExpiresOn)),n.accessToken.refreshOn&&(d=new Date(1e3*Number(n.accessToken.refreshOn)))}n.appMetadata&&(g=n.appMetadata.familyId===o.ch?o.ch:"");const f=i?.oid||i?.sub||"",v=i?.tid||"";c?.spa_accountid&&n.account&&(n.account.nativeAccountId=c?.spa_accountid);const _=n.account?ct(n.account.getAccountInfo(),void 0,i,n.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:f,tenantId:v,scopes:m,account:_,idToken:n?.idToken?.secret||"",idTokenClaims:i||{},accessToken:h,fromCache:r,expiresOn:p,extExpiresOn:u,refreshOn:d,correlationId:a.correlationId,requestId:l||o.gT.EMPTY_STRING,familyId:g,tokenType:n.accessToken?.tokenType||o.gT.EMPTY_STRING,state:s?s.userRequestState:o.gT.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||o.gT.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||o.gT.EMPTY_STRING,code:c?.spa_code,fromNativeBroker:!1}}}function li(e,t,n,r,o,a,i,s,c,l,u){u?.verbose("setCachedAccount called");const d=e.getAccountKeys().find((e=>e.startsWith(n)));let h=null;d&&(h=e.getAccount(d,u));const m=h||pt.createAccount({homeAccountId:n,idTokenClaims:o,clientInfo:a,environment:i,cloudGraphHostName:c?.cloud_graph_host_name,msGraphHost:c?.msgraph_host,nativeAccountId:l},t,r),p=m.tenantProfiles||[],g=s||m.realm;if(g&&!p.find((e=>e.tenantId===g))){const e=st(n,m.localAccountId,g,o);p.push(e)}return m.tenantProfiles=p,m}async function ui(e,t,n){if("string"===typeof e)return e;return e({clientId:t,tokenEndpoint:n})}class di extends oi{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async getAuthCodeUrl(e){this.performanceClient?.addQueueMeasurement(wn,e.correlationId);const t=await qo(this.createAuthCodeUrlQueryString.bind(this),On,this.logger,this.performanceClient,e.correlationId)(e);return vt.appendQueryString(this.authority.authorizationEndpoint,t)}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement(xn,e.correlationId),!e.code)throw ie(R);const n=he(),r=await qo(this.executeTokenRequest.bind(this),Rn,this.logger,this.performanceClient,e.correlationId)(this.authority,e),a=r.headers?.[o.SZ.X_MS_REQUEST_ID],i=new ci(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return i.validateTokenResponse(r.body),qo(i.handleServerTokenResponse.bind(i),Dn,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,t,void 0,void 0,void 0,a)}handleFragmentResponse(e,t){if(new ci(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw ie(K);return e}getLogoutUri(e){if(!e)throw tt(He);const t=this.createLogoutUrlQueryString(e);return vt.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(Rn,t.correlationId);const n=this.createTokenQueryParameters(t),r=vt.appendQueryString(e.tokenEndpoint,n),a=await qo(this.createTokenRequestBody.bind(this),Nn,this.logger,this.performanceClient,t.correlationId)(t);let i;if(t.clientInfo)try{const e=ot(t.clientInfo,this.cryptoUtils.base64Decode);i={credential:`${e.uid}${o.Bv.CLIENT_INFO_SEPARATOR}${e.utid}`,type:na}}catch(l){this.logger.verbose("Could not parse client info for CCS Header: "+l)}const s=this.createTokenRequestHeaders(i||t.ccsCredential),c={clientId:t.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return qo(this.executePostToTokenEndpoint.bind(this),rn,this.logger,this.performanceClient,t.correlationId)(r,a,s,c,t.correlationId,rn)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(Nn,e.correlationId);const t=new ni;if(t.addClientId(e.tokenBodyParameters?.client_id||this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):ti.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.oidcDefaultScopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!Ut(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const n=this.config.clientCredentials.clientAssertion;t.addClientAssertion(await ui(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(n.assertionType)}if(t.addGrantType(o.qJ.AUTHORIZATION_CODE_GRANT),t.addClientInfo(),e.authenticationScheme===o.hO.POP){const n=new ii(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await qo(n.generateCnf.bind(n),Ln,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}t.addPopToken(r)}else if(e.authenticationScheme===o.hO.SSH){if(!e.sshJwk)throw tt(Ve);t.addSshJwk(e.sshJwk)}const n=e.correlationId||this.config.cryptoInterface.createNewGuid();let r;if(t.addCorrelationId(n),(!nt.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{const t=ot(e.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${t.uid}${o.Bv.CLIENT_INFO_SEPARATOR}${t.utid}`,type:na}}catch(a){this.logger.verbose("Could not parse client info for CCS Header: "+a)}else r=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case na:try{const e=at(r.credential);t.addCcsOid(e)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case ra:t.addCcsUpn(r.credential)}return e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters.return_spa_code||t.addExtraQueryParameters({[ei]:"1"}),t.createQueryString()}async createAuthCodeUrlQueryString(e){this.performanceClient?.addQueueMeasurement(On,e.correlationId);const t=new ni;t.addClientId(e.extraQueryParameters?.client_id||this.config.authOptions.clientId);const n=[...e.scopes||[],...e.extraScopesToConsent||[]];t.addScopes(n,!0,this.oidcDefaultScopes),t.addRedirectUri(e.redirectUri);const r=e.correlationId||this.config.cryptoInterface.createNewGuid();if(t.addCorrelationId(r),t.addResponseMode(e.responseMode),t.addResponseTypeCode(),t.addLibraryInfo(this.config.libraryInfo),Ut(this.config)||t.addApplicationTelemetry(this.config.telemetry.application),t.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&t.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&t.addPrompt(e.prompt),e.domainHint&&t.addDomainHint(e.domainHint),e.prompt!==o.NJ.SELECT_ACCOUNT)if(e.sid&&e.prompt===o.NJ.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),t.addSid(e.sid);else if(e.account){const n=this.extractAccountSid(e.account);let r=this.extractLoginHint(e.account);if(r&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),r=null),r){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),t.addLoginHint(r);try{const n=at(e.account.homeAccountId);t.addCcsOid(n)}catch(a){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(n&&e.prompt===o.NJ.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),t.addSid(n);try{const n=at(e.account.homeAccountId);t.addCcsOid(n)}catch(a){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),t.addLoginHint(e.account.username);try{const n=at(e.account.homeAccountId);t.addCcsOid(n)}catch(a){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&t.addNonce(e.nonce),e.state&&t.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),e.nativeBroker&&(t.addNativeBroker(),e.authenticationScheme===o.hO.POP)){const n=new ii(this.cryptoUtils);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await qo(n.generateCnf.bind(n),Ln,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}t.addPopToken(r)}return t.createQueryString()}createLogoutUrlQueryString(e){const t=new ni;return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()}extractAccountSid(e){return e.idTokenClaims?.sid||null}extractLoginHint(e){return e.idTokenClaims?.login_hint||null}}function hi(e){const{skus:t,libraryName:n,libraryVersion:r,extensionName:o,extensionVersion:a}=e,i=new Map([[0,[n,r]],[2,[o,a]]]);let s=[];if(t?.length){if(s=t.split(","),s.length<4)return t}else s=Array.from({length:4},(()=>"|"));return i.forEach(((e,t)=>{2===e.length&&e[0]?.length&&e[1]?.length&&function(e){const{skuArr:t,index:n,skuName:r,skuVersion:o}=e;if(n>=t.length)return;t[n]=[r,o].join("|")}({skuArr:s,index:t,skuName:e[0],skuVersion:e[1]})})),s.join(",")}class mi{constructor(e,t){this.cacheOutcome=o.To.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||o.gT.EMPTY_STRING,this.wrapperVer=e.wrapperVer||o.gT.EMPTY_STRING,this.telemetryCacheKey=o.HN.CACHE_KEY+o.Bv.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${o.HN.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&t.push(`broker_error=${n}`);const r=t.join(o.HN.VALUE_SEPARATOR),a=[e,this.getRegionDiscoveryFields()].join(o.HN.VALUE_SEPARATOR);return[o.HN.SCHEMA_VERSION,a,r].join(o.HN.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=mi.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(o.HN.VALUE_SEPARATOR),r=e.errors.slice(0,t).join(o.HN.VALUE_SEPARATOR),a=e.errors.length,i=[a,t<a?o.HN.OVERFLOW_TRUE:o.HN.OVERFLOW_FALSE].join(o.HN.VALUE_SEPARATOR);return[o.HN.SCHEMA_VERSION,e.cacheHits,n,r,i].join(o.HN.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=o.HN.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof h?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(o.HN.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=mi.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const n={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}}static maxErrorsToSend(e){let t,n=0,r=0;const a=e.errors.length;for(t=0;t<a;t++){const a=e.failedRequests[2*t]||o.gT.EMPTY_STRING,i=e.failedRequests[2*t+1]||o.gT.EMPTY_STRING,s=e.errors[t]||o.gT.EMPTY_STRING;if(r+=a.toString().length+i.toString().length+s.length+3,!(r<o.HN.MAX_LAST_HEADER_BYTES))break;n+=1}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||o.gT.EMPTY_STRING),e.push(this.regionSource||o.gT.EMPTY_STRING),e.push(this.regionOutcome||o.gT.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return hi(e)}}class pi{constructor(e,t,n,r,o,a,i,s,c){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=a,this.nativeMessageHandler=s,this.correlationId=c||No(),this.logger=r.clone(lr.qx.MSAL_SKU,lo,this.correlationId),this.performanceClient=i}async clearCacheOnLogout(e){if(e){pt.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(pt.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(t){this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch(n){this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri||pa();returnvt.getAbsoluteUrl(t,pa())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new mi(n,this.browserStorage)}async getDiscoveredAuthority(e,t,n){this.performanceClient.addQueueMeasurement(Jt,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e||this.config.auth.authority,a=zo.generateAuthority(o,t||this.config.auth.azureCloudOptions),i=await qo(ri,Bn,this.logger,this.performanceClient,this.correlationId)(a,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(n&&!i.isAlias(n.environment))throw tt(Qe);return i}}async function gi(e,t,n){e.addQueueMeasurement(tr,n);const r=Ho(fi,nr,t,e,n)(e,t,n);return{verifier:r,challenge:await qo(vi,rr,t,e,n)(r,e,t,n)}}function fi(e,t,n){try{const r=new Uint8Array(32);Ho(xo,ar,t,e,n)(r);return bo(r)}catch(r){throw io(dr)}}async function vi(e,t,n,r){t.addQueueMeasurement(rr,r);try{const o=await qo(Po,or,n,t,r)(e,t,r);return bo(new Uint8Array(o))}catch(o){throw io(dr)}}async function _i(e,t,n,r){n.addQueueMeasurement(pn,e.correlationId);const a=e.authority||t.auth.authority,i=[...e&&e.scopes||[]],s={...e,correlationId:e.correlationId,authority:a,scopes:i};if(s.authenticationScheme){if(s.authenticationScheme===o.hO.SSH){if(!e.sshJwk)throw tt(Ve);if(!e.sshKid)throw tt(We)}r.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}else s.authenticationScheme=o.hO.BEARER,r.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&e.claims&&!nt.isEmptyObj(e.claims)&&(s.requestedClaimsHash=await Lo(e.claims)),s}async function yi(e,t,n,r,o){r.addQueueMeasurement(gn,e.correlationId);const a=await qo(_i,pn,o,r,e.correlationId)(e,n,r,o);return{...e,...a,account:t,forceRefresh:e.forceRefresh||!1}}class bi extends pi{async initializeAuthorizationCodeRequest(e){this.performanceClient.addQueueMeasurement(In,this.correlationId);const t=await qo(gi,tr,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),n={...e,redirectUri:e.redirectUri,code:o.gT.EMPTY_STRING,codeVerifier:t.verifier};return e.codeChallenge=t.challenge,e.codeChallengeMethod=o.gT.S256_CODE_CHALLENGE_METHOD,n}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);const t={correlationId:this.correlationId||No(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=vt.getAbsoluteUrl(e.postLogoutRedirectUri,pa())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=vt.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,pa())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=vt.getAbsoluteUrl(pa(),pa())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e,t,n,r){this.performanceClient.addQueueMeasurement(Cn,this.correlationId);const o=await qo(this.getClientConfiguration.bind(this),Sn,this.logger,this.performanceClient,this.correlationId)(e,t,n,r);return new di(o,this.performanceClient)}async getClientConfiguration(e,t,n,r){this.performanceClient.addQueueMeasurement(Sn,this.correlationId);const a=await qo(this.getDiscoveredAuthority.bind(this),Jt,this.logger,this.performanceClient,this.correlationId)(t,n,r),i=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:i.loggerCallback,piiLoggingEnabled:i.piiLoggingEnabled,logLevel:i.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:lr.qx.MSAL_SKU,version:lo,cpu:o.gT.EMPTY_STRING,os:o.gT.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(Tn,this.correlationId);const n=this.getRedirectUri(e.redirectUri),r={interactionType:t},a=ta.setRequestState(this.browserCrypto,e&&e.state||o.gT.EMPTY_STRING,r),i={...await qo(_i,pn,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:n,state:a,nonce:e.nonce||No(),responseMode:this.config.auth.OIDCOptions.serverResponseType},s=e.account||this.browserStorage.getActiveAccount();if(s&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${s.homeAccountId}`,this.correlationId),i.account=s),!i.loginHint&&!s){const e=this.browserStorage.getLegacyLoginHint();e&&(i.loginHint=e)}return i}}const Ei="user_switch",Ci={[Ei]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Si extends h{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,Si.prototype),this.name="NativeAuthError",this.ext=n}}function Ti(e){return!(!e.ext||!e.ext.status||"PERSISTENT_ERROR"!==e.ext.status&&"DISABLED"!==e.ext.status)||(!(!e.ext||!e.ext.error||-2147186943!==e.ext.error)||"ContentError"===e.errorCode)}function Ii(e,t,n){if(n&&n.status)switch(n.status){case"ACCOUNT_UNAVAILABLE":return ea(Vo);case"USER_INTERACTION_REQUIRED":return new Qo(e,t);case"USER_CANCEL":return io(Cr);case"NO_NETWORK":return io(Fr)}return new Si(e,Ci[e]||t,n)}class wi extends oi{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(an,e.correlationId);const t=he(),n=await qo(this.executeTokenRequest.bind(this),on,this.logger,this.performanceClient,e.correlationId)(e,this.authority),r=n.headers?.[o.SZ.X_MS_REQUEST_ID],a=new ci(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return a.validateTokenResponse(n.body),qo(a.handleServerTokenResponse.bind(a),Dn,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,r)}async acquireTokenByRefreshToken(e){if(!e)throw tt(Fe);if(this.performanceClient?.addQueueMeasurement(cn,e.correlationId),!e.account)throw ie(B);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await qo(this.acquireTokenWithCachedRefreshToken.bind(this),sn,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(t){const n=t instanceof Qo&&t.errorCode===Xo,r=t instanceof Wa&&t.errorCode===o.D1.INVALID_GRANT_ERROR&&t.subError===o.D1.CLIENT_MISMATCH_ERROR;if(n||r)return qo(this.acquireTokenWithCachedRefreshToken.bind(this),sn,this.logger,this.performanceClient,e.correlationId)(e,!1);throw t}return qo(this.acquireTokenWithCachedRefreshToken.bind(this),sn,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(sn,e.correlationId);const n=Ho(this.cacheManager.getRefreshToken.bind(this.cacheManager),er,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!n)throw ea(Xo);if(n.expiresOn&&me(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw ea(Wo);const r={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||o.hO.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:na}};try{return await qo(this.acquireToken.bind(this),an,this.logger,this.performanceClient,e.correlationId)(r)}catch(a){if(a instanceof Qo&&a.subError===jo){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const e=pe(n);this.cacheManager.removeRefreshToken(e)}throw a}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(on,e.correlationId);const n=this.createTokenQueryParameters(e),r=vt.appendQueryString(t.tokenEndpoint,n),o=await qo(this.createTokenRequestBody.bind(this),ln,this.logger,this.performanceClient,e.correlationId)(e),a=this.createTokenRequestHeaders(e.ccsCredential),i={clientId:e.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return qo(this.executePostToTokenEndpoint.bind(this),nn,this.logger,this.performanceClient,e.correlationId)(r,o,a,i,e.correlationId,nn)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(ln,e.correlationId);const t=e.correlationId,n=new ni;if(n.addClientId(e.tokenBodyParameters?.client_id||this.config.authOptions.clientId),e.redirectUri&&n.addRedirectUri(e.redirectUri),n.addScopes(e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),n.addGrantType(o.qJ.REFRESH_TOKEN_GRANT),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!Ut(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),n.addCorrelationId(t),n.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const t=this.config.clientCredentials.clientAssertion;n.addClientAssertion(await ui(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),n.addClientAssertionType(t.assertionType)}if(e.authenticationScheme===o.hO.POP){const t=new ii(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await qo(t.generateCnf.bind(t),Ln,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}n.addPopToken(r)}else if(e.authenticationScheme===o.hO.SSH){if(!e.sshJwk)throw tt(Ve);n.addSshJwk(e.sshJwk)}if((!nt.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case na:try{const t=at(e.ccsCredential.credential);n.addCcsOid(t)}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case ra:n.addCcsUpn(e.ccsCredential.credential)}return e.tokenBodyParameters&&n.addExtraQueryParameters(e.tokenBodyParameters),n.createQueryString()}}class Ai extends oi{constructor(e,t){super(e,t)}async acquireToken(e){try{const[t,n]=await this.acquireCachedToken({...e,scopes:e.scopes?.length?e.scopes:[...o.f_]});if(n===o.To.PROACTIVELY_REFRESHED){this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");new wi(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch((()=>{}))}return t}catch(t){if(t instanceof ae&&t.errorCode===V){return new wi(this.config,this.performanceClient).acquireTokenByRefreshToken(e)}throw t}}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(dn,e.correlationId);let t=o.To.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!nt.isEmptyObj(e.claims))throw this.setCacheOutcome(o.To.FORCE_REFRESH_OR_CLAIMS,e.correlationId),ie(V);if(!e.account)throw ie(B);const n=e.account.tenantId||function(e){const t=new vt(e).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(t){case o.Nb.COMMON:case o.Nb.ORGANIZATIONS:case o.Nb.CONSUMERS:return;default:return t}}(e.authority),r=this.cacheManager.getTokenKeys(),a=this.cacheManager.getAccessToken(e.account,e,r,n,this.performanceClient,e.correlationId);if(!a)throw this.setCacheOutcome(o.To.NO_CACHED_ACCESS_TOKEN,e.correlationId),ie(V);if(i=a.cachedAt,Number(i)>he()||me(a.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(o.To.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),ie(V);var i;a.refreshOn&&me(a.refreshOn,0)&&(t=o.To.PROACTIVELY_REFRESHED);const s=e.authority||this.authority.getPreferredCache(),c={account:this.cacheManager.readAccountFromCache(e.account),accessToken:a,idToken:this.cacheManager.getIdToken(e.account,r,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await qo(this.generateResultFromCacheRecord.bind(this),hn,this.logger,this.performanceClient,e.correlationId)(c,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==o.To.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){let n;if(this.performanceClient?.addQueueMeasurement(hn,t.correlationId),e.idToken&&(n=ue(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){const e=n?.auth_time;if(!e)throw ie(w);de(e,t.maxAge)}return ci.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)}}class ki extends bi{async acquireToken(e){this.performanceClient.addQueueMeasurement(jt,e.correlationId);const t=this.initializeServerTelemetryManager(lr.WN.acquireTokenSilent_silentFlow),n=await qo(this.getClientConfiguration.bind(this),Sn,this.logger,this.performanceClient,this.correlationId)(t,e.authority,e.azureCloudOptions,e.account),r=new Ai(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const t=(await qo(r.acquireCachedToken.bind(r),dn,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),t}catch(o){throw o instanceof ao&&o.errorCode===$r&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t?.account)}}const Pi="brk_client_id",xi="brk_redirect_uri";class Ri extends pi{constructor(e,t,n,r,o,a,i,s,c,l,u,d){super(e,t,n,r,o,a,s,c,d),this.apiId=i,this.accountId=l,this.nativeMessageHandler=c,this.nativeStorageManager=u,this.silentCacheClient=new ki(e,this.nativeStorageManager,n,r,o,a,s,c,d),this.serverTelemetryManager=this.initializeServerTelemetryManager(this.apiId);const h=this.nativeMessageHandler.getExtensionId()===lr.BD.PREFERRED_EXTENSION_ID?"chrome":this.nativeMessageHandler.getExtensionId()?.length?"unknown":void 0;this.skus=mi.makeExtraSkuString({libraryName:lr.qx.MSAL_SKU,libraryVersion:lo,extensionName:h,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,"x-client-xtra-sku":this.skus}}async acquireToken(e){this.performanceClient.addQueueMeasurement(tn,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const t=this.performanceClient.startMeasurement(tn,e.correlationId),n=he();try{const o=await this.initializeNativeRequest(e);try{const e=await this.acquireTokensFromCache(this.accountId,o);return t.end({success:!0,isNativeBroker:!1,fromCache:!0}),e}catch(r){this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...a}=o,i={method:lr.Ky.GetToken,request:a},s=await this.nativeMessageHandler.sendMessage(i),c=this.validateNativeResponse(s);return await this.handleNativeResponse(c,o,n).then((e=>(t.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),this.serverTelemetryManager.clearNativeBrokerErrorCode(),e))).catch((e=>{throw t.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))}catch(r){throw r instanceof Si&&this.serverTelemetryManager.setNativeBrokerErrorCode(r.errorCode),r}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:rt.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),ie(q);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw ie(q);try{const e=this.createSilentCacheRequest(t,n),r=await this.silentCacheClient.acquireToken(e),o={...n,idTokenClaims:r?.idTokenClaims,idToken:r?.idToken};return{...r,account:o}}catch(r){throw r}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...n}=e;delete n.onRedirectNavigate;const r=await this.initializeNativeRequest(n),o={method:lr.Ky.GetToken,request:r};try{const e=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(e)}catch(s){if(s instanceof Si&&(this.serverTelemetryManager.setNativeBrokerErrorCode(s.errorCode),Ti(s)))throw s}this.browserStorage.setTemporaryCache(lr.c4.NATIVE_REQUEST,JSON.stringify(r),!0);const a={apiId:lr.WN.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},i=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(i,a)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&e?.addFields({errorCode:"no_cached_request"},t),null;const{prompt:r,...o}=n;r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(lr.c4.NATIVE_REQUEST));const a={method:lr.Ky.GetToken,request:o},i=he();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const e=await this.nativeMessageHandler.sendMessage(a);this.validateNativeResponse(e);const t=this.handleNativeResponse(e,o,i);this.browserStorage.setInteractionInProgress(!1);const n=await t;return this.serverTelemetryManager.clearNativeBrokerErrorCode(),n}catch(s){throw this.browserStorage.setInteractionInProgress(!1),s}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const r=ue(e.id_token,So),o=this.createHomeAccountIdentifier(e,r),a=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId})?.homeAccountId;if(o!==a&&e.account.id!==t.accountId)throw Ii(Ei);const i=await this.getDiscoveredAuthority(t.authority),s=li(this.browserStorage,i,o,So,r,e.client_info,void 0,r.tid,void 0,e.account.id,this.logger),c=await this.generateAuthenticationResult(e,t,r,s,i.canonicalAuthority,n);return this.cacheAccount(s),this.cacheNativeTokens(e,t,o,r,e.access_token,c.tenantId,n),c}createHomeAccountIdentifier(e,t){return pt.generateHomeAccountId(e.client_info||o.gT.EMPTY_STRING,lt,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?rt.fromString(e.scope):rt.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===o.hO.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new ii(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw ie(Q);return n.signPopToken(e.access_token,t.keyId,r)}return e.access_token}async generateAuthenticationResult(e,t,n,r,a,i){const s=this.addTelemetryFromNativeResponse(e),c=e.scope?rt.fromString(e.scope):rt.fromString(t.scope),l=e.account.properties||{},u=l.UID||n.oid||n.sub||o.gT.EMPTY_STRING,d=l.TenantId||n.tid||o.gT.EMPTY_STRING,h=ct(r.getAccountInfo(),void 0,n,e.id_token);h.nativeAccountId!==e.account.id&&(h.nativeAccountId=e.account.id);const m=await this.generatePopAccessToken(e,t),p=t.tokenType===o.hO.POP?o.hO.POP:o.hO.BEARER;return{authority:a,uniqueId:u,tenantId:d,scopes:c.asArray(),account:h,idToken:e.id_token,idTokenClaims:n,accessToken:m,fromCache:!!s&&this.isResponseFromCache(s),expiresOn:new Date(1e3*Number(i+e.expires_in)),tokenType:p,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}cacheAccount(e){this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch((e=>{this.logger.error(`Error occurred while removing account context from browser storage. ${e}`)}))}cacheNativeTokens(e,t,n,r,a,i,s){const c=ge(n,t.authority,e.id_token||"",t.clientId,r.tid||""),l=s+(t.tokenType===o.hO.POP?o.gT.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),u=this.generateScopes(e,t),d={idToken:c,accessToken:fe(n,t.authority,a,t.clientId,r.tid||i,u.printScopes(),l,0,So,void 0,t.tokenType,void 0,t.keyId)};this.nativeStorageManager.saveCacheRecord(d,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw m(l,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(t){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority(t,e.azureCloudOptions,e.account);const n=new vt(t);n.validateAsUri();const{scopes:r,...a}=e,i=new rt(r||[]);i.appendScopes(o.f_);const s={...a,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:i.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:(()=>{switch(this.apiId){case lr.WN.ssoSilent:case lr.WN.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),o.NJ.NONE}if(e.prompt)switch(e.prompt){case o.NJ.NONE:case o.NJ.CONSENT:case o.NJ.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),io(eo)}else this.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(s.signPopToken&&e.popKid)throw io(no);if(this.handleExtraBrokerParams(s),s.extraParameters=s.extraParameters||{},s.extraParameters.telemetry=lr.BD.MATS_TELEMETRY,e.authenticationScheme===o.hO.POP){const t={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},n=new ii(this.browserCrypto);let r;if(s.keyId)r=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:s.keyId})),s.signPopToken=!1;else{const o=await qo(n.generateCnf.bind(n),Ln,this.logger,this.performanceClient,e.correlationId)(t,this.logger);r=o.reqCnfString,s.keyId=o.kid,s.signPopToken=!0}s.reqCnf=r}return this.addRequestSKUs(s),s}handleExtraBrokerParams(e){if(e.extraParameters&&e.extraParameters.hasOwnProperty(Pi)&&e.extraParameters.hasOwnProperty(xi)&&e.extraParameters.hasOwnProperty(Za)){const t=e.extraParameters.client_id,n=e.redirectUri,r=e.extraParameters[xi];e.extraParameters={child_client_id:t,child_redirect_uri:n},e.redirectUri=r}}}class Ni{constructor(e,t,n,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(Yn)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:lr.BD.CHANNEL_ID,extensionId:this.extensionId,responseId:No(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise(((e,n)=>{this.resolvers.set(t.responseId,{resolve:e,reject:n})}))}static async createProvider(e,t,n){e.trace("NativeMessageHandler - createProvider called.");try{const r=new Ni(e,t,n,lr.BD.PREFERRED_EXTENSION_ID);return await r.sendHandshakeRequest(),r}catch(r){const o=new Ni(e,t,n);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:lr.BD.CHANNEL_ID,extensionId:this.extensionId,responseId:No(),body:{method:lr.Ky.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise(((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout((()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(io(Zr)),this.handshakeResolvers.delete(e.responseId)}),this.handshakeTimeoutMs)}))}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===lr.BD.CHANNEL_ID&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===lr.Ky.HandshakeRequest){const e=this.handshakeResolvers.get(t.responseId);if(!e)return void this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),e.reject(io(Yr))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{const e=t.body.method;if(e===lr.Ky.Response){if(!n)return;const e=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(e)}`),"Success"!==e.status)n.reject(Ii(e.code,e.description,e.ext));else{if(!e.result)throw m(l,"Event does not contain result.");e.result.code&&e.result.description?n.reject(Ii(e.result.code,e.result.description,e.result.ext)):n.resolve(e.result)}this.resolvers.delete(t.responseId)}else if(e===lr.Ky.HandshakeResponse){if(!r)return void this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),n?n.reject(o):r&&r.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(e,t,n,r){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!n)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(r)switch(r){case o.hO.BEARER:case o.hO.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}class Oi{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async handleCodeResponse(e,t){let n;this.performanceClient.addQueueMeasurement(kn,t.correlationId);try{n=this.authModule.handleFragmentResponse(e,t.state)}catch(r){throw r instanceof Wa&&r.subError===Cr?io(Cr):r}return qo(this.handleCodeResponseFromServer.bind(this),An,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t,n=!0){if(this.performanceClient.addQueueMeasurement(An,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await qo(this.authModule.updateAuthority.bind(this.authModule),Pn,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const e=this.createCcsCredentials(t);e&&(this.authCodeRequest.ccsCredential=e)}return await qo(this.authModule.acquireToken.bind(this.authModule),xn,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:na}:e.loginHint?{credential:e.loginHint,type:ra}:null}}function Li(e,t,n){const r=ft(e);if(!r)throw gt(e)?(n.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${t} detected is: ${e}`),io(fr)):(n.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),io(pr));return r}class Mi extends bi{constructor(e,t,n,r,o,a,i,s,c,l){super(e,t,n,r,o,a,i,c,l),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=s}acquireToken(e){try{const t=this.generatePopupName(e.scopes||o.f_,e.authority||this.config.auth.authority),n=e.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,t,n);{this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");const r=this.openSizedPopup("about:blank",t,n);return this.acquireTokenPopupAsync(e,t,n,r)}}catch(t){return Promise.reject(t)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),n=this.generateLogoutPopupName(t),r=e&&e.authority,o=e&&e.mainWindowRedirectUri,a=e?.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,a,r,void 0,o);{this.logger.verbose("asyncPopup set to false, opening popup");const e=this.openSizedPopup("about:blank",n,a);return this.logoutPopupAsync(t,n,a,r,e,o)}}catch(t){return Promise.reject(t)}}async acquireTokenPopupAsync(e,t,n,r){this.logger.verbose("acquireTokenPopupAsync called");const o=this.initializeServerTelemetryManager(lr.WN.acquireTokenPopup),a=await qo(this.initializeAuthorizationRequest.bind(this),Tn,this.logger,this.performanceClient,this.correlationId)(e,lr.s_.Popup);ya(a.authority);try{const i=await qo(this.initializeAuthorizationCodeRequest.bind(this),In,this.logger,this.performanceClient,this.correlationId)(a),s=await qo(this.createAuthCodeClient.bind(this),Cn,this.logger,this.performanceClient,this.correlationId)(o,a.authority,a.azureCloudOptions,a.account),c=Ni.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);let l;c&&(l=this.performanceClient.startMeasurement(en,e.correlationId));const u=await s.getAuthCodeUrl({...a,nativeBroker:c}),d=new Oi(s,this.browserStorage,i,this.logger,this.performanceClient),h={popup:r,popupName:t,popupWindowAttributes:n},m=this.initiateAuthRequest(u,h);this.eventHandler.emitEvent(Ha,lr.s_.Popup,{popupWindow:m},null);const p=await this.monitorPopupForHash(m),g=Ho(Li,Un,this.logger,this.performanceClient,this.correlationId)(p,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(ja.removeThrottle(this.browserStorage,this.config.auth.clientId,i),g.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),l&&l.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw io(Qr);const e=new Ri(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,lr.WN.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,g.accountId,this.nativeStorage,a.correlationId),{userRequestState:t}=ta.parseRequestState(this.browserCrypto,a.state);return await e.acquireToken({...a,state:t,prompt:void 0})}return await d.handleCodeResponse(g,a)}catch(i){throw r&&r.close(),i instanceof h&&(i.setCorrelationId(this.correlationId),o.cacheFailedRequest(i)),i}}async logoutPopupAsync(e,t,n,r,o,a){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(qa,lr.s_.Popup,e);const i=this.initializeServerTelemetryManager(lr.WN.logoutPopup);try{await this.clearCacheOnLogout(e.account);const c=await qo(this.createAuthCodeClient.bind(this),Cn,this.logger,this.performanceClient,this.correlationId)(i,r,void 0,e.account||void 0);try{c.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&c.authority.protocolMode===s){if(this.browserStorage.removeAccount(e.account?.homeAccountId),this.eventHandler.emitEvent(Ga,lr.s_.Popup,e),a){const e={apiId:lr.WN.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=vt.getAbsoluteUrl(a,pa());await this.navigationClient.navigateInternal(t,e)}return void(o&&o.close())}}const l=c.getLogoutUri(e);this.eventHandler.emitEvent(Ga,lr.s_.Popup,e);const u=this.openPopup(l,{popupName:t,popupWindowAttributes:n,popup:o});if(this.eventHandler.emitEvent(Ha,lr.s_.Popup,{popupWindow:u},null),await this.monitorPopupForHash(u).catch((()=>{})),a){const e={apiId:lr.WN.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=vt.getAbsoluteUrl(a,pa());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${t}`),await this.navigationClient.navigateInternal(t,e)}else this.logger.verbose("No main window navigation requested")}catch(c){throw o&&o.close(),c instanceof h&&(c.setCorrelationId(this.correlationId),i.cacheFailedRequest(c)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(za,lr.s_.Popup,null,c),this.eventHandler.emitEvent($a,lr.s_.Popup),c}this.eventHandler.emitEvent($a,lr.s_.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),io(mr)}monitorPopupForHash(e){return new Promise(((t,n)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const r=setInterval((()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(r),void n(io(Cr));let a="";try{a=e.location.href}catch(c){}if(!a||"about:blank"===a)return;clearInterval(r);let i="";const s=this.config.auth.OIDCOptions.serverResponseType;e&&(i=s===o.rg.QUERY?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(i)}),this.config.system.pollIntervalMilliseconds)})).finally((()=>{this.cleanPopup(e)}))}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),n.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii(`Opening popup window to: ${e}`),n=this.openSizedPopup(e,t.popupName,t.popupWindowAttributes)),!n)throw io(Er);return n.focus&&n.focus(),this.currentWindow=n,window.addEventListener("beforeunload",this.unloadWindow),n}catch(n){throw this.logger.error("error opening popup "+n.message),this.browserStorage.setInteractionInProgress(!1),io(br)}}openSizedPopup(e,t,n){const r=window.screenLeft?window.screenLeft:window.screenX,o=window.screenTop?window.screenTop:window.screenY,a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let s=n.popupSize?.width,c=n.popupSize?.height,l=n.popupPosition?.top,u=n.popupPosition?.left;return(!s||s<0||s>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),s=lr.qx.POPUP_WIDTH),(!c||c<0||c>i)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),c=lr.qx.POPUP_HEIGHT),(!l||l<0||l>i)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),l=Math.max(0,i/2-lr.qx.POPUP_HEIGHT/2+o)),(!u||u<0||u>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),u=Math.max(0,a/2-lr.qx.POPUP_WIDTH/2+r)),window.open(e,t,`width=${s}, height=${c}, top=${l}, left=${u}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(lr.s_.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e){e&&e.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,t){return`${lr.qx.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${lr.qx.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}class Di{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(lr.c4.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(lr.c4.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const n={apiId:lr.WN.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1};if("function"===typeof t.onRedirectNavigate){this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback");return!1!==t.onRedirectNavigate(e)?(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void await t.navigationClient.navigateExternal(e,n)):void this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")}return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void await t.navigationClient.navigateExternal(e,n)}throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),io(mr)}async handleCodeResponse(e,t){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const n=this.browserStorage.generateStateKey(t),r=this.browserStorage.getTemporaryCache(n);if(!r)throw ie(T,"Cached State");let o;try{o=this.authModule.handleFragmentResponse(e,r)}catch(c){throw c instanceof Wa&&c.subError===Cr?io(Cr):c}const a=this.browserStorage.generateNonceKey(r),i=this.browserStorage.getTemporaryCache(a);if(this.authCodeRequest.code=o.code,o.cloud_instance_host_name&&await qo(this.authModule.updateAuthority.bind(this.authModule),Pn,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(o.cloud_instance_host_name,this.authCodeRequest.correlationId),o.nonce=i||void 0,o.state=r,o.client_info)this.authCodeRequest.clientInfo=o.client_info;else{const e=this.checkCcsCredentials();e&&(this.authCodeRequest.ccsCredential=e)}const s=await this.authModule.acquireToken(this.authCodeRequest,o);return this.browserStorage.cleanRequestByState(t),s}checkCcsCredentials(){const e=this.browserStorage.getTemporaryCache(lr.c4.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch(t){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}}class Ui extends bi{constructor(e,t,n,r,o,a,i,s,c,l){super(e,t,n,r,o,a,i,c,l),this.nativeStorage=s}async acquireToken(e){const t=await qo(this.initializeAuthorizationRequest.bind(this),Tn,this.logger,this.performanceClient,this.correlationId)(e,lr.s_.Redirect);this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null);const n=this.initializeServerTelemetryManager(lr.WN.acquireTokenRedirect),r=e=>{e.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(t.state),this.eventHandler.emitEvent(Xa,lr.s_.Redirect))};try{const o=await qo(this.initializeAuthorizationCodeRequest.bind(this),In,this.logger,this.performanceClient,this.correlationId)(t),a=await qo(this.createAuthCodeClient.bind(this),Cn,this.logger,this.performanceClient,this.correlationId)(n,t.authority,t.azureCloudOptions,t.account),i=new Di(a,this.browserStorage,o,this.logger,this.performanceClient),s=await a.getAuthCodeUrl({...t,nativeBroker:Ni.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}),c=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${c}`),window.addEventListener("pageshow",r),await i.initiateAuthRequest(s,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:c,onRedirectNavigate:e.onRedirectNavigate})}catch(o){throw o instanceof h&&(o.setCorrelationId(this.correlationId),n.cacheFailedRequest(o)),window.removeEventListener("pageshow",r),this.browserStorage.cleanRequestByState(t.state),o}}async handleRedirectPromise(e="",t){const n=this.initializeServerTelemetryManager(lr.WN.handleRedirectPromise);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[r,a]=this.getRedirectResponse(e||"");if(!r)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(lr.s_.Redirect),t.event.errorCode="no_server_response",null;const i=this.browserStorage.getTemporaryCache(lr.c4.ORIGIN_URI,!0)||o.gT.EMPTY_STRING,s=vt.removeHashFromUrl(i);if(s===vt.removeHashFromUrl(window.location.href)&&this.config.auth.navigateToLoginRequestUrl){this.logger.verbose("Current page is loginRequestUrl, handling response"),i.indexOf("#")>-1&&function(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(i);return await this.handleResponse(r,n)}if(!this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(r,n);if(!ma()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(lr.c4.URL_HASH,a,!0);const e={apiId:lr.WN.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let t=!0;if(i&&"null"!==i)this.logger.verbose(`Navigating to loginRequestUrl: ${i}`),t=await this.navigationClient.navigateInternal(i,e);else{const n=function(){const e=new vt(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}();this.browserStorage.setTemporaryCache(lr.c4.ORIGIN_URI,n,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),t=await this.navigationClient.navigateInternal(n,e)}if(!t)return await this.handleResponse(r,n)}return null}catch(r){throw r instanceof h&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),this.browserStorage.cleanRequestByInteractionType(lr.s_.Redirect),r}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===o.rg.QUERY?window.location.search:window.location.hash);let n=ft(t);if(n){try{!function(e,t,n){if(!e.state)throw io(gr);const r=da(t,e.state);if(!r)throw io(vr);if(r.interactionType!==n)throw io(_r)}(n,this.browserCrypto,lr.s_.Redirect)}catch(i){return i instanceof h&&this.logger.error(`Interaction type validation failed due to ${i.errorCode}: ${i.errorMessage}`),[null,""]}return(r=window).location.hash="","function"===typeof r.history.replaceState&&r.history.replaceState(null,"",`${r.location.origin}${r.location.pathname}${r.location.search}`),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}var r;const a=this.browserStorage.getTemporaryCache(lr.c4.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(lr.c4.URL_HASH)),a&&(n=ft(a),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,a]):[null,""]}async handleResponse(e,t){const n=e.state;if(!n)throw io(gr);const r=this.browserStorage.getCachedRequest(n);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw io(Qr);const t=new Ri(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,lr.WN.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,r.correlationId),{userRequestState:o}=ta.parseRequestState(this.browserCrypto,n);return t.acquireToken({...r,state:o,prompt:void 0}).finally((()=>{this.browserStorage.cleanRequestByState(n)}))}const o=this.browserStorage.getCachedAuthority(n);if(!o)throw io(Lr);const a=await qo(this.createAuthCodeClient.bind(this),Cn,this.logger,this.performanceClient,this.correlationId)(t,o);ja.removeThrottle(this.browserStorage,this.config.auth.clientId,r);return new Di(a,this.browserStorage,r,this.logger,this.performanceClient).handleCodeResponse(e,n)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(lr.WN.logout);try{this.eventHandler.emitEvent(qa,lr.s_.Redirect,e),await this.clearCacheOnLogout(t.account);const r={apiId:lr.WN.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=await qo(this.createAuthCodeClient.bind(this),Cn,this.logger,this.performanceClient,this.correlationId)(n,e&&e.authority,void 0,e&&e.account||void 0);if(o.authority.protocolMode===s)try{o.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId)return this.browserStorage.removeAccount(t.account?.homeAccountId),void this.eventHandler.emitEvent(Ga,lr.s_.Redirect,t)}const a=o.getLogoutUri(t);if(this.eventHandler.emitEvent(Ga,lr.s_.Redirect,t),!e||"function"!==typeof e.onRedirectNavigate)return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(a,r);if(!1!==e.onRedirectNavigate(a))return this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(a,r);this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(r){throw r instanceof h&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),this.eventHandler.emitEvent(za,lr.s_.Redirect,null,r),this.eventHandler.emitEvent($a,lr.s_.Redirect),r}this.eventHandler.emitEvent($a,lr.s_.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return vt.getAbsoluteUrl(t,pa())}}async function Bi(e,t,n,r,o){if(t.addQueueMeasurement(_n,r),!e)throw n.info("Navigate url is empty"),io(mr);return o?qo(Hi,bn,n,t,r)(e,o,t,r):Ho(qi,En,n,t,r)(e)}async function Fi(e,t,n,r,a,i,s){return r.addQueueMeasurement(yn,i),new Promise(((r,i)=>{t<co&&a.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (10000ms). This may result in timeouts.`);const c=window.setTimeout((()=>{window.clearInterval(l),i(io(Tr))}),t),l=window.setInterval((()=>{let t="";const n=e.contentWindow;try{t=n?n.location.href:""}catch(i){}if(!t||"about:blank"===t)return;let a="";n&&(a=s===o.rg.QUERY?n.location.search:n.location.hash),window.clearTimeout(c),window.clearInterval(l),r(a)}),n)})).finally((()=>{Ho(zi,Qn,a,r,i)(e)}))}function Hi(e,t,n,r){return n.addQueueMeasurement(bn,r),new Promise(((n,r)=>{const o=Gi();window.setTimeout((()=>{o?(o.src=e,n(o)):r("Unable to load iframe")}),t)}))}function qi(e){const t=Gi();return t.src=e,t}function Gi(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function zi(e){document.body===e.parentNode&&document.body.removeChild(e)}class $i extends bi{constructor(e,t,n,r,o,a,i,s,c,l,u){super(e,t,n,r,o,a,s,l,u),this.apiId=i,this.nativeStorage=c}async acquireToken(e){this.performanceClient.addQueueMeasurement(Kt,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==o.NJ.NONE&&t.prompt!==o.NJ.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${o.NJ.NONE}`),t.prompt=o.NJ.NONE):t.prompt=o.NJ.NONE;const n=await qo(this.initializeAuthorizationRequest.bind(this),Tn,this.logger,this.performanceClient,e.correlationId)(t,lr.s_.Silent);ya(n.authority);const r=this.initializeServerTelemetryManager(this.apiId);try{const t=await qo(this.createAuthCodeClient.bind(this),Cn,this.logger,this.performanceClient,e.correlationId)(r,n.authority,n.azureCloudOptions,n.account);return await qo(this.silentTokenHelper.bind(this),vn,this.logger,this.performanceClient,e.correlationId)(t,n)}catch(a){throw a instanceof h&&(a.setCorrelationId(this.correlationId),r.cacheFailedRequest(a)),a}}logout(){return Promise.reject(io(Pr))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(vn,n);const r=await qo(this.initializeAuthorizationCodeRequest.bind(this),In,this.logger,this.performanceClient,n)(t),a=await qo(e.getAuthCodeUrl.bind(e),wn,this.logger,this.performanceClient,n)({...t,nativeBroker:Ni.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}),i=new Oi(e,this.browserStorage,r,this.logger,this.performanceClient),s=await qo(Bi,_n,this.logger,this.performanceClient,n)(a,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),c=this.config.auth.OIDCOptions.serverResponseType,l=await qo(Fi,yn,this.logger,this.performanceClient,n)(s,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,c),u=Ho(Li,Un,this.logger,this.performanceClient,this.correlationId)(l,c,this.logger);if(u.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw io(Qr);const e=new Ri(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,u.accountId,this.browserStorage,n),{userRequestState:r}=ta.parseRequestState(this.browserCrypto,t.state);return qo(e.acquireToken.bind(e),tn,this.logger,this.performanceClient,n)({...t,state:r,prompt:t.prompt||o.NJ.NONE})}return qo(i.handleCodeResponse.bind(i),kn,this.logger,this.performanceClient,n)(u,t)}}class Xi extends bi{async acquireToken(e){this.performanceClient.addQueueMeasurement(Yt,e.correlationId);const t=await qo(_i,pn,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n={...e,...t};e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(lr.WN.acquireTokenSilent_silentFlow),o=await this.createRefreshTokenClient(r,n.authority,n.azureCloudOptions,n.account);return qo(o.acquireTokenByRefreshToken.bind(o),cn,this.logger,this.performanceClient,e.correlationId)(n).catch((e=>{throw e.setCorrelationId(this.correlationId),r.cacheFailedRequest(e),e}))}logout(){return Promise.reject(io(Pr))}async createRefreshTokenClient(e,t,n,r){const o=await qo(this.getClientConfiguration.bind(this),Sn,this.logger,this.performanceClient,this.correlationId)(e,t,n,r);return new wi(o,this.performanceClient)}}class Vi{constructor(e,t,n,r){this.isBrowserEnvironment=!0,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw io(Ur);const r=t.id_token?ue(t.id_token,So):void 0,o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=e.authority?new zo(zo.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,o,this.logger,e.correlationId||No()):void 0,i=this.loadAccount(e,n.clientInfo||t.client_info||"",r,a),s=this.loadIdToken(t,i.homeAccountId,i.environment,i.realm),c=this.loadAccessToken(e,t,i.homeAccountId,i.environment,i.realm,n),l=this.loadRefreshToken(t,i.homeAccountId,i.environment);return this.generateAuthenticationResult(e,{account:i,idToken:s,accessToken:c,refreshToken:l},r,a)}loadAccount(e,t,n,r){if(this.logger.verbose("TokenCache - loading account"),e.account){const t=pt.createFromAccountInfo(e.account);return this.storage.setAccount(t),t}if(!r||!t&&!n)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),io(zr);const o=pt.generateHomeAccountId(t,r.authorityType,this.logger,this.cryptoObj,n),a=n?.tid,i=li(this.storage,r,o,So,n,t,r.hostnameAndPort,a,void 0,void 0,this.logger);return this.storage.setAccount(i),i}loadIdToken(e,t,n,r){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const o=ge(t,n,e.id_token,this.config.auth.clientId,r);return this.storage.setIdTokenCredential(o),o}loadAccessToken(e,t,n,r,o,a){if(!t.access_token)return this.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;this.logger.verbose("TokenCache - loading access token");const i=t.scope?rt.fromString(t.scope):new rt(e.scopes),s=a.expiresOn||t.expires_in+(new Date).getTime()/1e3,c=a.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+(new Date).getTime()/1e3,l=fe(n,r,t.access_token,this.config.auth.clientId,o,i.printScopes(),s,c,So);return this.storage.setAccessTokenCredential(l),l}loadRefreshToken(e,t,n){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const r=ve(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return this.storage.setRefreshTokenCredential(r),r}generateAuthenticationResult(e,t,n,r){let o,a="",i=[],s=null;t?.accessToken&&(a=t.accessToken.secret,i=rt.fromString(t.accessToken.target).asArray(),s=new Date(1e3*Number(t.accessToken.expiresOn)),o=new Date(1e3*Number(t.accessToken.extendedExpiresOn)));const c=t.account;return{authority:r?r.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:i,account:c.getAccountInfo(),idToken:t.idToken?.secret||"",idTokenClaims:n||{},accessToken:a,fromCache:!0,expiresOn:s,correlationId:e.correlationId||"",requestId:"",extExpiresOn:o,familyId:t.refreshToken?.familyId||"",tokenType:t?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:c.cloudGraphHostName||"",msGraphHost:c.msGraphHost||"",fromNativeBroker:!1}}}class Wi extends di{constructor(e){super(e),this.includeRedirectUri=!1}}class ji extends bi{constructor(e,t,n,r,o,a,i,s,c,l){super(e,t,n,r,o,a,s,c,l),this.apiId=i}async acquireToken(e){if(!e.code)throw io(Xr);const t=await qo(this.initializeAuthorizationRequest.bind(this),Tn,this.logger,this.performanceClient,e.correlationId)(e,lr.s_.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const r={...t,code:e.code},o=await qo(this.getClientConfiguration.bind(this),Sn,this.logger,this.performanceClient,e.correlationId)(n,t.authority,t.azureCloudOptions,t.account),a=new Wi(o);this.logger.verbose("Auth code client created");const i=new Oi(a,this.browserStorage,r,this.logger,this.performanceClient);return await qo(i.handleCodeResponseFromServer.bind(i),An,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(r){throw r instanceof h&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),r}}logout(){return Promise.reject(io(Pr))}}function Ki(e){const t=e?.idTokenClaims;return t?.tfp||t?.acr?"B2C":t?.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===t?.tid?"MSA":"AAD":void 0}function Zi(e,t){try{va(e)}catch(n){throw t.end({success:!1},n),n}}class Yi{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Bo(this.logger,this.performanceClient):se,this.eventHandler=new Va(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new ha(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,function(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch(r){throw tt(ze)}return{canonicalAuthority:e.authority?$o(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}(this.config.auth),this.performanceClient):((e,t)=>{const n={cacheLocation:lr.Ix.MemoryStorage,temporaryCacheLocation:lr.Ix.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new ha(e,n,se,t)})(this.config.auth.clientId,this.logger);const t={cacheLocation:lr.Ix.MemoryStorage,temporaryCacheLocation:lr.Ix.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new ha(this.config.auth.clientId,t,this.browserCrypto,this.logger,void 0,this.performanceClient),this.tokenCache=new Vi(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,t){const n=new Yi(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e){if(this.logger.trace("initialize called"),this.initialized)return void this.logger.info("initialize has already been called, exiting early.");const t=e?.correlationId||this.getRequestCorrelationId(),n=this.config.system.allowNativeBroker,r=this.performanceClient.startMeasurement(fn,t);if(this.eventHandler.emitEvent(ba),n)try{this.nativeExtensionProvider=await Ni.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(o){this.logger.verbose(o)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await qo(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),Jn,this.logger,this.performanceClient,t)(this.performanceClient,t)),this.initialized=!0,this.eventHandler.emitEvent(Ea),r.end({allowNativeBroker:n,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),fa(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return"undefined"===typeof n?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){const t=this.getAllAccounts(),n=this.browserStorage.getCachedNativeRequest(),r=n&&Ni.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,o=r?n?.correlationId:this.browserStorage.getTemporaryCache(lr.c4.CORRELATION_ID,!0)||"",a=this.performanceClient.startMeasurement(Xt,o);let i;if(this.eventHandler.emitEvent(Ba,lr.s_.Redirect),r&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const e=new Ri(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,lr.WN.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,n.accountId,this.nativeInternalStorage,n.correlationId);i=qo(e.handleRedirectPromise.bind(e),Zn,this.logger,this.performanceClient,a.event.correlationId)(this.performanceClient,a.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const t=this.createRedirectClient(o);i=qo(t.handleRedirectPromise.bind(t),Kn,this.logger,this.performanceClient,a.event.correlationId)(e,a)}return i.then((e=>{if(e){t.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(wa,lr.s_.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(Pa,lr.s_.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),a.end({success:!0,accountType:Ki(e.account)})}else a.event.errorCode?a.end({success:!1}):a.discard();return this.eventHandler.emitEvent(Fa,lr.s_.Redirect),e})).catch((e=>{const n=e;throw t.length>0?this.eventHandler.emitEvent(xa,lr.s_.Redirect,null,n):this.eventHandler.emitEvent(Aa,lr.s_.Redirect,null,n),this.eventHandler.emitEvent(Fa,lr.s_.Redirect),a.end({success:!1},n),e}))}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement($t,t);n.add({accountType:Ki(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;e.onRedirectNavigate=e=>{const t="function"===typeof r?r(e):void 0;return!1!==t?n.end({success:!0}):n.discard(),t};const o=this.getAllAccounts().length>0;try{let r;if(_a(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),o?this.eventHandler.emitEvent(ka,lr.s_.Redirect,e):this.eventHandler.emitEvent(Ia,lr.s_.Redirect,e),this.nativeExtensionProvider&&this.canUseNative(e)){r=new Ri(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,lr.WN.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch((n=>{if(n instanceof Si&&Ti(n)){this.nativeExtensionProvider=void 0;return this.createRedirectClient(t).acquireToken(e)}if(n instanceof Qo){this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createRedirectClient(t).acquireToken(e)}throw this.browserStorage.setInteractionInProgress(!1),n}))}else{r=this.createRedirectClient(t).acquireToken(e)}return await r}catch(a){throw n.end({success:!1},a),o?this.eventHandler.emitEvent(xa,lr.s_.Redirect,null,a):this.eventHandler.emitEvent(Aa,lr.s_.Redirect,null,a),a}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(zt,t);n.add({scenarioId:e.scenarioId,accountType:Ki(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),Zi(this.initialized,n),this.browserStorage.setInteractionInProgress(!0)}catch(a){return Promise.reject(a)}const r=this.getAllAccounts();let o;if(r.length>0?this.eventHandler.emitEvent(ka,lr.s_.Popup,e):this.eventHandler.emitEvent(Ia,lr.s_.Popup,e),this.canUseNative(e))o=this.acquireTokenNative({...e,correlationId:t},lr.WN.acquireTokenPopup).then((e=>(this.browserStorage.setInteractionInProgress(!1),n.end({success:!0,isNativeBroker:!0,requestId:e.requestId,accountType:Ki(e.account)}),e))).catch((n=>{if(n instanceof Si&&Ti(n)){this.nativeExtensionProvider=void 0;return this.createPopupClient(t).acquireToken(e)}if(n instanceof Qo){this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createPopupClient(t).acquireToken(e)}throw this.browserStorage.setInteractionInProgress(!1),n}));else{o=this.createPopupClient(t).acquireToken(e)}return o.then((e=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(wa,lr.s_.Popup,e):this.eventHandler.emitEvent(Pa,lr.s_.Popup,e),n.end({success:!0,requestId:e.requestId,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Ki(e.account)}),e))).catch((e=>(r.length>0?this.eventHandler.emitEvent(xa,lr.s_.Popup,null,e):this.eventHandler.emitEvent(Aa,lr.s_.Popup,null,e),n.end({success:!1},e),Promise.reject(e))))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){const t=this.getRequestCorrelationId(e),n={...e,prompt:e.prompt,correlationId:t};let r;if(this.ssoSilentMeasurement=this.performanceClient.startMeasurement(Qt,t),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:Ki(e.account)}),Zi(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(Na,lr.s_.Silent,n),this.canUseNative(n))r=this.acquireTokenNative(n,lr.WN.ssoSilent).catch((e=>{if(e instanceof Si&&Ti(e)){this.nativeExtensionProvider=void 0;return this.createSilentIframeClient(n.correlationId).acquireToken(n)}throw e}));else{r=this.createSilentIframeClient(n.correlationId).acquireToken(n)}return r.then((e=>(this.eventHandler.emitEvent(Oa,lr.s_.Silent,e),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:e.fromNativeBroker,requestId:e.requestId,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Ki(e.account)}),e))).catch((e=>{throw this.eventHandler.emitEvent(La,lr.s_.Silent,null,e),this.ssoSilentMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(Ft,t);Zi(this.initialized,n),this.eventHandler.emitEvent(Ma,lr.s_.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw io(Wr);if(e.code){const r=e.code;let o=this.hybridAuthCodeResponses.get(r);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync({...e,correlationId:t}).then((e=>(this.eventHandler.emitEvent(Da,lr.s_.Silent,e),this.hybridAuthCodeResponses.delete(r),n.end({success:!0,isNativeBroker:e.fromNativeBroker,requestId:e.requestId,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Ki(e.account)}),e))).catch((e=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(Ua,lr.s_.Silent,null,e),n.end({success:!1},e),e})),this.hybridAuthCodeResponses.set(r,o)),await o}if(e.nativeAccountId){if(this.canUseNative(e,e.nativeAccountId)){const r=await this.acquireTokenNative({...e,correlationId:t},lr.WN.acquireTokenByCode,e.nativeAccountId).catch((e=>{throw e instanceof Si&&Ti(e)&&(this.nativeExtensionProvider=void 0),e}));return n.end({accountType:Ki(r.account),success:!0}),r}throw io(Kr)}throw io(Vr)}catch(r){throw this.eventHandler.emitEvent(Ua,lr.s_.Silent,null,r),n.end({success:!1},r),r}}async acquireTokenByCodeAsync(e){this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(jn,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const t=this.createSilentAuthCodeClient(e.correlationId);return await t.acquireToken(e).then((e=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e))).catch((e=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(un,e.correlationId),t){case lr.lu.Default:case lr.lu.AccessToken:case lr.lu.AccessTokenAndRefreshToken:const t=this.createSilentCacheClient(e.correlationId);return qo(t.acquireToken.bind(t),jt,this.logger,this.performanceClient,e.correlationId)(e);default:throw ie(V)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(Ht,e.correlationId),t){case lr.lu.Default:case lr.lu.AccessTokenAndRefreshToken:case lr.lu.RefreshToken:case lr.lu.RefreshTokenAndNetwork:const t=this.createSilentRefreshClient(e.correlationId);return qo(t.acquireToken.bind(t),Yt,this.logger,this.performanceClient,e.correlationId)(e);default:throw ie(V)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(mn,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return qo(t.acquireToken.bind(t),Kt,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);_a(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0);return this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);va(this.initialized),this.browserStorage.setInteractionInProgress(!0);return this.createPopupClient(t).logout(e)}catch(t){return Promise.reject(t)}}async clearCache(e){const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return function(e,t,n,r){return e.verbose("getAllAccounts called"),n?t.getAllAccounts(r):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return function(e,t,n){if(t.trace("getAccount called"),0===Object.keys(e).length)return t.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(e);return r?(t.verbose("getAccount: Account matching provided filter found, returning"),r):(t.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByUsername(e){return function(e,t,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:e});return r?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${e}`),r):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return function(e,t,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:e});return r?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${e}`),r):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return function(e,t,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:e});return r?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${e}`),r):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}setActiveAccount(e){!function(e,t){t.setActiveAccount(e)}(e,this.browserStorage)}getActiveAccount(){return this.browserStorage.getActiveAccount()}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=pt.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return this.browserStorage.setAccount(n),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw io(Qr);return new Ri(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)}canUseNative(e,t){if(this.logger.trace("canUseNative called"),!Ni.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case o.NJ.NONE:case o.NJ.CONSENT:case o.NJ.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${e.prompt} is not compatible with native flow, returning false`),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1)}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new Mi(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new Ui(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new $i(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,lr.WN.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new ki(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new Xi(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new ji(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,lr.WN.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e){return this.eventHandler.addEventCallback(e)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.eventHandler.enableAccountStorageEvents()}disableAccountStorageEvents(){this.eventHandler.disableAccountStorageEvents()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getEventHandler(){return this.eventHandler}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?No():o.gT.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||lr.yo})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||lr.yo})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(qt,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Zi(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const r=e.account||this.getActiveAccount();if(!r)throw io(xr);n.add({accountType:Ki(r)});const a={clientId:this.config.auth.clientId,authority:e.authority||o.gT.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:r.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},i=JSON.stringify(a),s=this.activeSilentTokenRequests.get(i);if("undefined"===typeof s){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t);const o=qo(this.acquireTokenSilentAsync.bind(this),Gt,this.logger,this.performanceClient,t)({...e,correlationId:t},r).then((t=>(this.activeSilentTokenRequests.delete(i),n.end({success:!0,fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,requestId:t.requestId,accessTokenSize:t.accessToken.length,idTokenSize:t.idToken.length}),t))).catch((e=>{throw this.activeSilentTokenRequests.delete(i),n.end({success:!1},e),e}));return this.activeSilentTokenRequests.set(i,o),{...await o,state:e.state}}return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),n.discard(),{...await s,state:e.state}}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(Gt,e.correlationId),this.eventHandler.emitEvent(ka,lr.s_.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const r=await qo(yi,gn,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||lr.lu.Default;return this.acquireTokenSilentNoIframe(r,o).catch((async e=>{const t=function(e,t){const n=!(e instanceof Qo&&e.subError!==jo),r=e.errorCode===lr.qx.INVALID_GRANT_ERROR||e.errorCode===V,o=n&&r||e.errorCode===Xo||e.errorCode===Wo,a=lr.se.includes(t);return o&&a}(e,o);if(t){if(this.activeIframeRequest){if(o!==lr.lu.Skip){const[t,n]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${n}`,r.correlationId);const a=this.performanceClient.startMeasurement(Zt,r.correlationId);a.add({awaitIframeCorrelationId:n});const i=await t;if(a.end({success:i}),i)return this.logger.verbose(`Parallel iframe request with correlationId: ${n} succeeded. Retrying cache and/or RT redemption`,r.correlationId),this.acquireTokenSilentNoIframe(r,o);throw this.logger.info(`Iframe request with correlationId: ${n} failed. Interaction is required.`),e}return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),qo(this.acquireTokenBySilentIframe.bind(this),mn,this.logger,this.performanceClient,r.correlationId)(r)}{let e;return this.activeIframeRequest=[new Promise((t=>{e=t})),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),qo(this.acquireTokenBySilentIframe.bind(this),mn,this.logger,this.performanceClient,r.correlationId)(r).then((t=>(e(!0),t))).catch((t=>{throw e(!1),t})).finally((()=>{this.activeIframeRequest=void 0}))}}throw e})).then((t=>(this.eventHandler.emitEvent(Pa,lr.s_.Silent,t),e.correlationId&&this.performanceClient.addFields({fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker,requestId:t.requestId},e.correlationId),t))).catch((e=>{throw this.eventHandler.emitEvent(xa,lr.s_.Silent,null,e),e})).finally((()=>{document.removeEventListener("visibilitychange",n)}))}async acquireTokenSilentNoIframe(e,t){return Ni.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,lr.WN.acquireTokenSilent_silentFlow).catch((async e=>{if(e instanceof Si&&Ti(e))throw this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,ie(V);throw e}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),qo(this.acquireTokenFromCache.bind(this),un,this.logger,this.performanceClient,e.correlationId)(e,t).catch((n=>{if(t===lr.lu.AccessToken)throw n;return this.eventHandler.emitEvent(Ra,lr.s_.Silent,e),qo(this.acquireTokenByRefreshToken.bind(this),Ht,this.logger,this.performanceClient,e.correlationId)(e,t)})))}}class Qi{static async createPublicClientApplication(e){const t=await async function(e,t){const n=new ho(e);return await n.initialize(),Yi.createController(n,t)}(e);return new Qi(e,t)}constructor(e,t){this.controller=t||new Yi(new ho(e))}async initialize(e){return this.controller.initialize(e)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e){return this.controller.addEventCallback(e)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}},27694:(e,t,n)=>{"use strict";n.d(t,{d:()=>r});class r{navigateInternal(e,t){return r.defaultNavigateWindow(e,t)}navigateExternal(e,t){return r.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e=>{setTimeout((()=>{e(!0)}),t.timeout)}))}}},49845:(e,t,n)=>{"use strict";n.d(t,{BD:()=>a,Bs:()=>d,EC:()=>c,Gv:()=>_,H4:()=>f,Ix:()=>s,Ky:()=>i,Mm:()=>g,Oq:()=>u,PK:()=>C,WN:()=>h,bg:()=>E,c4:()=>l,kd:()=>v,lu:()=>y,qx:()=>o,s_:()=>m,se:()=>b,yo:()=>p});var r=n(49523);const o={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},a={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},i={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},s={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},c={GET:"GET",POST:"POST"},l={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},u={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},d={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},h={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var m;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(m||(m={}));const p={scopes:r.f_},g="jwk",f="msal.db",v=1,_=`${f}.keys`,y={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},b=[y.Default,y.Skip,y.RefreshTokenAndNetwork],E="msal.browser.log.level",C="msal.browser.log.pii"},49523:(e,t,n)=>{"use strict";n.d(t,{$A:()=>L,$f:()=>i,As:()=>u,Bv:()=>v,D1:()=>A,Ge:()=>k,HN:()=>T,NJ:()=>d,Nb:()=>l,QU:()=>C,SZ:()=>s,To:()=>N,VX:()=>h,Vi:()=>c,W:()=>x,YY:()=>P,bb:()=>w,ch:()=>E,d3:()=>_,dg:()=>y,f_:()=>a,gT:()=>r,hO:()=>I,iR:()=>f,ki:()=>R,oj:()=>o,pQ:()=>S,qJ:()=>g,rg:()=>m,sR:()=>b,vw:()=>p,xd:()=>O});const r={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},o={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},a=[r.OPENID_SCOPE,r.PROFILE_SCOPE,r.OFFLINE_ACCESS_SCOPE],i=[...a,r.EMAIL_SCOPE],s={CONTENT_TYPE:"Content-Type",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},c={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},l={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},u={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},d={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},h={PLAIN:"plain",S256:"S256"},m={QUERY:"query",FRAGMENT:"fragment"},p={...m,FORM_POST:"form_post"},g={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},f={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},v={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},_={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},y="appmetadata",b="client_info",E="1",C={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:86400},S={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},T={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},I={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},w={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},A={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},k={username:"username",password:"password"},P={httpSuccess:200,httpBadRequest:400},x={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},R={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},N={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},O={Jwt:"JWT",Jwk:"JWK",Pop:"pop"},L=300},85215:(e,t,n)=>{"use strict";n.d(t,{Yo:()=>a});var r=n(3062);class o extends Error{constructor(e,t,n){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,o.prototype),this.errorCode=e||r.gT.EMPTY_STRING,this.errorMessage=t||r.gT.EMPTY_STRING,this.subError=n||r.gT.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}class a extends o{constructor(e,t,n,o,i,s,c,l){super(e,t,n),Object.setPrototypeOf(this,a.prototype),this.timestamp=o||r.gT.EMPTY_STRING,this.traceId=i||r.gT.EMPTY_STRING,this.correlationId=s||r.gT.EMPTY_STRING,this.claims=c||r.gT.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=l}}},806:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>r}),function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(r||(r={}))},56958:(e,t,n)=>{"use strict";n.d(t,{A:()=>me,x:()=>be});var r=n(2784),o=n(28316),{entries:a,setPrototypeOf:i,isFrozen:s,getPrototypeOf:c,getOwnPropertyDescriptor:l}=Object,{freeze:u,seal:d,create:h}=Object,{apply:m,construct:p}="undefined"!=typeof Reflect&&Reflect;u||(u=function(e){return e}),d||(d=function(e){return e}),m||(m=function(e,t,n){return e.apply(t,n)}),p||(p=function(e,t){return new e(...t)});var g,f=k(Array.prototype.forEach),v=k(Array.prototype.pop),_=k(Array.prototype.push),y=k(String.prototype.toLowerCase),b=k(String.prototype.toString),E=k(String.prototype.match),C=k(String.prototype.replace),S=k(String.prototype.indexOf),T=k(String.prototype.trim),I=k(Object.prototype.hasOwnProperty),w=k(RegExp.prototype.test),A=(g=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p(g,t)});function k(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return m(e,t,r)}}function P(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;i&&i(e,null);let r=t.length;for(;r--;){let o=t[r];if("string"==typeof o){let e=n(o);e!==o&&(s(t)||(t[r]=e),o=e)}e[o]=!0}return e}function x(e){for(let t=0;t<e.length;t++)I(e,t)||(e[t]=null);return e}function R(e){let t=h(null);for(let[n,r]of a(e))I(e,n)&&(Array.isArray(r)?t[n]=x(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=R(r):t[n]=r);return t}function N(e,t){for(;null!==e;){let n=l(e,t);if(n){if(n.get)return k(n.get);if("function"==typeof n.value)return k(n.value)}e=c(e)}return function(){return null}}var O=u(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),L=u(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),M=u(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D=u(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),U=u(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),B=u(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),F=u(["#text"]),H=u(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),q=u(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G=u(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),z=u(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$=d(/\{\{[\w\W]*|[\w\W]*\}\}/gm),X=d(/<%[\w\W]*|[\w\W]*%>/gm),V=d(/\${[\w\W]*}/gm),W=d(/^data-[\-\w.\u00B7-\uFFFF]/),j=d(/^aria-[\-\w]+$/),K=d(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Z=d(/^(?:\w+script|data):/i),Y=d(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Q=d(/^html$/i),J=d(/^[a-z][a-z\d]*(-[a-z\d]+)+$/i),ee=Object.freeze({__proto__:null,MUSTACHE_EXPR:$,ERB_EXPR:X,TMPLIT_EXPR:V,DATA_ATTR:W,ARIA_ATTR:j,IS_ALLOWED_URI:K,IS_SCRIPT_OR_DATA:Z,ATTR_WHITESPACE:Y,DOCTYPE_NAME:Q,CUSTOM_ELEMENT:J}),te=function(){return window},ne=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null,r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));let o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(a){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};var re=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te(),n=t=>e(t);if(n.version="3.0.10",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;let{document:r}=t,o=r,i=o.currentScript,{DocumentFragment:s,HTMLTemplateElement:c,Node:l,Element:d,NodeFilter:m,NamedNodeMap:p=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:g,DOMParser:k,trustedTypes:x}=t,$=d.prototype,X=N($,"cloneNode"),V=N($,"nextSibling"),W=N($,"childNodes"),j=N($,"parentNode");if("function"==typeof c){let e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let Z,Y="",{implementation:J,createNodeIterator:re,createDocumentFragment:oe,getElementsByTagName:ae}=r,{importNode:ie}=o,se={};n.isSupported="function"==typeof a&&"function"==typeof j&&J&&void 0!==J.createHTMLDocument;let{MUSTACHE_EXPR:ce,ERB_EXPR:le,TMPLIT_EXPR:ue,DATA_ATTR:de,ARIA_ATTR:he,IS_SCRIPT_OR_DATA:me,ATTR_WHITESPACE:pe,CUSTOM_ELEMENT:ge}=ee,{IS_ALLOWED_URI:fe}=ee,ve=null,_e=P({},[...O,...L,...M,...U,...F]),ye=null,be=P({},[...H,...q,...G,...z]),Ee=Object.seal(h(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ce=null,Se=null,Te=!0,Ie=!0,we=!1,Ae=!0,ke=!1,Pe=!1,xe=!1,Re=!1,Ne=!1,Oe=!1,Le=!1,Me=!0,De=!1,Ue="user-content-",Be=!0,Fe=!1,He={},qe=null,Ge=P({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ze=null,$e=P({},["audio","video","img","source","image","track"]),Xe=null,Ve=P({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),We="http://www.w3.org/1998/Math/MathML",je="http://www.w3.org/2000/svg",Ke="http://www.w3.org/1999/xhtml",Ze=Ke,Ye=!1,Qe=null,Je=P({},[We,je,Ke],b),et=null,tt=["application/xhtml+xml","text/html"],nt="text/html",rt=null,ot=null,at=r.createElement("form"),it=function(e){return e instanceof RegExp||e instanceof Function},st=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ot||ot!==e){if((!e||"object"!=typeof e)&&(e={}),e=R(e),et=-1===tt.indexOf(e.PARSER_MEDIA_TYPE)?nt:e.PARSER_MEDIA_TYPE,rt="application/xhtml+xml"===et?b:y,ve=I(e,"ALLOWED_TAGS")?P({},e.ALLOWED_TAGS,rt):_e,ye=I(e,"ALLOWED_ATTR")?P({},e.ALLOWED_ATTR,rt):be,Qe=I(e,"ALLOWED_NAMESPACES")?P({},e.ALLOWED_NAMESPACES,b):Je,Xe=I(e,"ADD_URI_SAFE_ATTR")?P(R(Ve),e.ADD_URI_SAFE_ATTR,rt):Ve,ze=I(e,"ADD_DATA_URI_TAGS")?P(R($e),e.ADD_DATA_URI_TAGS,rt):$e,qe=I(e,"FORBID_CONTENTS")?P({},e.FORBID_CONTENTS,rt):Ge,Ce=I(e,"FORBID_TAGS")?P({},e.FORBID_TAGS,rt):{},Se=I(e,"FORBID_ATTR")?P({},e.FORBID_ATTR,rt):{},He=!!I(e,"USE_PROFILES")&&e.USE_PROFILES,Te=!1!==e.ALLOW_ARIA_ATTR,Ie=!1!==e.ALLOW_DATA_ATTR,we=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ae=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,ke=e.SAFE_FOR_TEMPLATES||!1,Pe=e.WHOLE_DOCUMENT||!1,Ne=e.RETURN_DOM||!1,Oe=e.RETURN_DOM_FRAGMENT||!1,Le=e.RETURN_TRUSTED_TYPE||!1,Re=e.FORCE_BODY||!1,Me=!1!==e.SANITIZE_DOM,De=e.SANITIZE_NAMED_PROPS||!1,Be=!1!==e.KEEP_CONTENT,Fe=e.IN_PLACE||!1,fe=e.ALLOWED_URI_REGEXP||K,Ze=e.NAMESPACE||Ke,Ee=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&it(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ee.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&it(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ee.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ee.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ke&&(Ie=!1),Oe&&(Ne=!0),He&&(ve=P({},F),ye=[],!0===He.html&&(P(ve,O),P(ye,H)),!0===He.svg&&(P(ve,L),P(ye,q),P(ye,z)),!0===He.svgFilters&&(P(ve,M),P(ye,q),P(ye,z)),!0===He.mathMl&&(P(ve,U),P(ye,G),P(ye,z))),e.ADD_TAGS&&(ve===_e&&(ve=R(ve)),P(ve,e.ADD_TAGS,rt)),e.ADD_ATTR&&(ye===be&&(ye=R(ye)),P(ye,e.ADD_ATTR,rt)),e.ADD_URI_SAFE_ATTR&&P(Xe,e.ADD_URI_SAFE_ATTR,rt),e.FORBID_CONTENTS&&(qe===Ge&&(qe=R(qe)),P(qe,e.FORBID_CONTENTS,rt)),Be&&(ve["#text"]=!0),Pe&&P(ve,["html","head","body"]),ve.table&&(P(ve,["tbody"]),delete Ce.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw A('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw A('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Z=e.TRUSTED_TYPES_POLICY,Y=Z.createHTML("")}else void 0===Z&&(Z=ne(x,i)),null!==Z&&"string"==typeof Y&&(Y=Z.createHTML(""));u&&u(e),ot=e}},ct=P({},["mi","mo","mn","ms","mtext"]),lt=P({},["foreignobject","desc","title","annotation-xml"]),ut=P({},["title","style","font","a","script"]),dt=P({},[...L,...M,...D]),ht=P({},[...U,...B]),mt=function(e){let t=j(e);(!t||!t.tagName)&&(t={namespaceURI:Ze,tagName:"template"});let n=y(e.tagName),r=y(t.tagName);return!!Qe[e.namespaceURI]&&(e.namespaceURI===je?t.namespaceURI===Ke?"svg"===n:t.namespaceURI===We?"svg"===n&&("annotation-xml"===r||ct[r]):!!dt[n]:e.namespaceURI===We?t.namespaceURI===Ke?"math"===n:t.namespaceURI===je?"math"===n&&lt[r]:!!ht[n]:e.namespaceURI===Ke?!(t.namespaceURI===je&&!lt[r]||t.namespaceURI===We&&!ct[r])&&(!ht[n]&&(ut[n]||!dt[n])):!("application/xhtml+xml"!==et||!Qe[e.namespaceURI]))},pt=function(e){_(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},gt=function(e,t){try{_(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(r){_(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ye[e])if(Ne||Oe)try{pt(t)}catch(r){}else try{t.setAttribute(e,"")}catch(r){}},ft=function(e){let t=null,n=null;if(Re)e="<remove></remove>"+e;else{let t=E(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===et&&Ze===Ke&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>
<script type="text/javascript" src="https://ad.xdomain.ne.jp/js/server-php.js"></script>'+e+"</body></html>");let o=Z?Z.createHTML(e):e;if(Ze===Ke)try{t=(new k).parseFromString(o,et)}catch(i){}if(!t||!t.documentElement){t=J.createDocument(Ze,"template",null);try{t.documentElement.innerHTML=Ye?Y:o}catch(i){}}let a=t.body||t.documentElement;return e&&n&&a.insertBefore(r.createTextNode(n),a.childNodes[0]||null),Ze===Ke?ae.call(t,Pe?"html":"body")[0]:Pe?t.documentElement:a},vt=function(e){return re.call(e.ownerDocument||e,e,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT|m.SHOW_PROCESSING_INSTRUCTION,null)},_t=function(e){return e instanceof g&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof p)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},yt=function(e){return"function"==typeof l&&e instanceof l},bt=function(e,t,r){se[e]&&f(se[e],(e=>{e.call(n,t,r,ot)}))},Et=function(e){let t=null;if(bt("beforeSanitizeElements",e,null),_t(e))return pt(e),!0;let r=rt(e.nodeName);if(bt("uponSanitizeElement",e,{tagName:r,allowedTags:ve}),e.hasChildNodes()&&!yt(e.firstElementChild)&&w(/<[/\w]/g,e.innerHTML)&&w(/<[/\w]/g,e.textContent))return pt(e),!0;if(!ve[r]||Ce[r]){if(!Ce[r]&&St(r)&&(Ee.tagNameCheck instanceof RegExp&&w(Ee.tagNameCheck,r)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(r)))return!1;if(Be&&!qe[r]){let t=j(e)||e.parentNode,n=W(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r)t.insertBefore(X(n[r],!0),V(e))}}return pt(e),!0}return e instanceof d&&!mt(e)||("noscript"===r||"noembed"===r||"noframes"===r)&&w(/<\/no(script|embed|frames)/i,e.innerHTML)?(pt(e),!0):(ke&&3===e.nodeType&&(t=e.textContent,f([ce,le,ue],(e=>{t=C(t,e," ")})),e.textContent!==t&&(_(n.removed,{element:e.cloneNode()}),e.textContent=t)),bt("afterSanitizeElements",e,null),!1)},Ct=function(e,t,n){if(Me&&("id"===t||"name"===t)&&(n in r||n in at))return!1;if((!Ie||Se[t]||!w(de,t))&&(!Te||!w(he,t)))if(!ye[t]||Se[t]){if(!(St(e)&&(Ee.tagNameCheck instanceof RegExp&&w(Ee.tagNameCheck,e)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(e))&&(Ee.attributeNameCheck instanceof RegExp&&w(Ee.attributeNameCheck,t)||Ee.attributeNameCheck instanceof Function&&Ee.attributeNameCheck(t))||"is"===t&&Ee.allowCustomizedBuiltInElements&&(Ee.tagNameCheck instanceof RegExp&&w(Ee.tagNameCheck,n)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(n))))return!1}else if(!Xe[t]&&!w(fe,C(n,pe,""))&&("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==S(n,"data:")||!ze[e])&&(!we||w(me,C(n,pe,"")))&&n)return!1;return!0},St=function(e){return"annotation-xml"!==e&&E(e,ge)},Tt=function(e){bt("beforeSanitizeAttributes",e,null);let{attributes:t}=e;if(!t)return;let r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ye},o=t.length;for(;o--;){let i=t[o],{name:s,namespaceURI:c,value:l}=i,u=rt(s),d="value"===s?l:T(l);if(r.attrName=u,r.attrValue=d,r.keepAttr=!0,r.forceKeepAttr=void 0,bt("uponSanitizeAttribute",e,r),d=r.attrValue,r.forceKeepAttr||(gt(s,e),!r.keepAttr))continue;if(!Ae&&w(/\/>/i,d)){gt(s,e);continue}ke&&f([ce,le,ue],(e=>{d=C(d,e," ")}));let h=rt(e.nodeName);if(Ct(h,u,d)){if(De&&("id"===u||"name"===u)&&(gt(s,e),d=Ue+d),Z&&"object"==typeof x&&"function"==typeof x.getAttributeType&&!c)switch(x.getAttributeType(h,u)){case"TrustedHTML":d=Z.createHTML(d);break;case"TrustedScriptURL":d=Z.createScriptURL(d)}try{c?e.setAttributeNS(c,s,d):e.setAttribute(s,d),v(n.removed)}catch(a){}}}bt("afterSanitizeAttributes",e,null)},It=function e(t){let n=null,r=vt(t);for(bt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)bt("uponSanitizeShadowNode",n,null),!Et(n)&&(n.content instanceof s&&e(n.content),Tt(n));bt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,a=null,i=null,c=null;if(Ye=!e,Ye&&(e="\x3c!--\x3e"),"string"!=typeof e&&!yt(e)){if("function"!=typeof e.toString)throw A("toString is not a function");if("string"!=typeof(e=e.toString()))throw A("dirty is not a string, aborting")}if(!n.isSupported)return e;if(xe||st(t),n.removed=[],"string"==typeof e&&(Fe=!1),Fe){if(e.nodeName){let t=rt(e.nodeName);if(!ve[t]||Ce[t])throw A("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)r=ft("\x3c!----\x3e"),a=r.ownerDocument.importNode(e,!0),1===a.nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?r=a:r.appendChild(a);else{if(!Ne&&!ke&&!Pe&&-1===e.indexOf("<"))return Z&&Le?Z.createHTML(e):e;if(r=ft(e),!r)return Ne?null:Le?Y:""}r&&Re&&pt(r.firstChild);let u=vt(Fe?e:r);for(;i=u.nextNode();)Et(i)||(i.content instanceof s&&It(i.content),Tt(i));if(Fe)return e;if(Ne){if(Oe)for(c=oe.call(r.ownerDocument);r.firstChild;)c.appendChild(r.firstChild);else c=r;return(ye.shadowroot||ye.shadowrootmode)&&(c=ie.call(o,c,!0)),c}let d=Pe?r.outerHTML:r.innerHTML;return Pe&&ve["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&w(Q,r.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+d),ke&&f([ce,le,ue],(e=>{d=C(d,e," ")})),Z&&Le?Z.createHTML(d):d},n.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};st(e),xe=!0},n.clearConfig=function(){ot=null,xe=!1},n.isValidAttribute=function(e,t,n){ot||st({});let r=rt(e),o=rt(t);return Ct(r,o,n)},n.addHook=function(e,t){"function"==typeof t&&(se[e]=se[e]||[],_(se[e],t))},n.removeHook=function(e){if(se[e])return v(se[e])},n.removeHooks=function(e){se[e]&&(se[e]=[])},n.removeAllHooks=function(){se={}},n}(),oe=Array(12).fill(0),ae=({visible:e})=>r.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},r.createElement("div",{className:"sonner-spinner"},oe.map(((e,t)=>r.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`}))))),ie=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),se=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ce=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),le=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ue=1,de=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach((t=>t(e)))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,o="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:ue++,a=this.toasts.find((e=>e.id===o)),i=void 0===e.dismissible||e.dismissible;return a?this.toasts=this.toasts.map((t=>t.id===o?(this.publish({...t,...e,id:o,title:n}),{...t,...e,id:o,dismissible:i,title:n}):t)):this.addToast({title:n,...r,dismissible:i,id:o}),o},this.dismiss=e=>(e||this.toasts.forEach((e=>{this.subscribers.forEach((t=>t({id:e.id,dismiss:!0})))})),this.subscribers.forEach((t=>t({id:e,dismiss:!0}))),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let r=e instanceof Promise?e:e(),o=void 0!==n;return r.then((e=>{if(e&&"boolean"==typeof e.ok&&!e.ok){o=!1;let r="function"==typeof t.error?t.error(`HTTP error! status: ${e.status}`):t.error,a="function"==typeof t.description?t.description(`HTTP error! status: ${e.status}`):t.description;this.create({id:n,type:"error",message:r,description:a})}else if(void 0!==t.success){o=!1;let r="function"==typeof t.success?t.success(e):t.success,a="function"==typeof t.description?t.description(e):t.description;this.create({id:n,type:"success",message:r,description:a})}})).catch((e=>{if(void 0!==t.error){o=!1;let r="function"==typeof t.error?t.error(e):t.error,a="function"==typeof t.description?t.description(e):t.description;this.create({id:n,type:"error",message:r,description:a})}})).finally((()=>{var e;o&&(this.dismiss(n),n=void 0),null==(e=t.finally)||e.call(t)})),n},this.custom=(e,t)=>{let n=(null==t?void 0:t.id)||ue++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},he=(e,t)=>{let n=(null==t?void 0:t.id)||ue++;return de.addToast({title:e,...t,id:n}),n},me=Object.assign(he,{success:de.success,info:de.info,warning:de.warning,error:de.error,custom:de.custom,message:de.message,promise:de.promise,dismiss:de.dismiss,loading:de.loading});function pe(e){return void 0!==e.label&&"function"==typeof e.onClick}!function(e,{insertAt:t}={}){if(!e||"undefined"==typeof document)return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true] [data-sonner-toast][data-type=success],[data-rich-colors=true] [data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true] [data-sonner-toast][data-type=info],[data-rich-colors=true] [data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true] [data-sonner-toast][data-type=warning],[data-rich-colors=true] [data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true] [data-sonner-toast][data-type=error],[data-rich-colors=true] [data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var ge=3,fe=14;function ve(...e){return e.filter(Boolean).join(" ")}var _e=e=>{var t,n,o,a,i,s,c;let{invert:l,toast:u,unstyled:d,interacting:h,setHeights:m,visibleToasts:p,heights:g,index:f,toasts:v,expanded:_,removeToast:y,closeButton:b,style:E,cancelButtonStyle:C,actionButtonStyle:S,className:T="",descriptionClassName:I="",duration:w,position:A,gap:k,loadingIcon:P,expandByDefault:x,classNames:R,icons:N,closeButtonAriaLabel:O="Close toast",pauseWhenPageIsHidden:L,cn:M}=e,[D,U]=r.useState(!1),[B,F]=r.useState(!1),[H,q]=r.useState(!1),[G,z]=r.useState(!1),[$,X]=r.useState(0),[V,W]=r.useState(0),j=r.useRef(null),K=r.useRef(null),Z=0===f,Y=f+1<=p,Q=u.type,J=!1!==u.dismissible,ee=u.className||"",te=u.descriptionClassName||"",ne=r.useMemo((()=>g.findIndex((e=>e.toastId===u.id))||0),[g,u.id]),oe=r.useMemo((()=>{var e;return null!=(e=u.closeButton)?e:b}),[u.closeButton,b]),ue=r.useMemo((()=>u.duration||w||4e3),[u.duration,w]),de=r.useRef(0),he=r.useRef(0),me=r.useRef(0),ge=r.useRef(null),[fe,ve]=A.split("-"),_e=r.useMemo((()=>g.reduce(((e,t,n)=>n>=ne?e:e+t.height),0)),[g,ne]),ye=(()=>{let[e,t]=r.useState(!1);return r.useEffect((()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)}),[]),e})(),be=u.invert||l,Ee="loading"===Q;he.current=r.useMemo((()=>ne*k+_e),[ne,_e]),r.useEffect((()=>{U(!0)}),[]),r.useLayoutEffect((()=>{if(!D)return;let e=K.current,t=e.style.height;e.style.height="auto";let n=e.getBoundingClientRect().height;e.style.height=t,W(n),m((e=>e.find((e=>e.toastId===u.id))?e.map((e=>e.toastId===u.id?{...e,height:n}:e)):[{toastId:u.id,height:n,position:u.position},...e]))}),[D,u.title,u.description,m,u.id]);let Ce=r.useCallback((()=>{F(!0),X(he.current),m((e=>e.filter((e=>e.toastId!==u.id)))),setTimeout((()=>{y(u)}),200)}),[u,y,m,he]);function Se(e){return{__html:re.sanitize(e)}}return r.useEffect((()=>{if(u.promise&&"loading"===Q||u.duration===1/0||"loading"===u.type)return;let e,t=ue;return _||h||L&&ye?(()=>{if(me.current<de.current){let e=(new Date).getTime()-de.current;t-=e}me.current=(new Date).getTime()})():t!==1/0&&(de.current=(new Date).getTime(),e=setTimeout((()=>{var e;null==(e=u.onAutoClose)||e.call(u,u),Ce()}),t)),()=>clearTimeout(e)}),[_,h,x,u,ue,Ce,u.promise,Q,L,ye]),r.useEffect((()=>{let e=K.current;if(e){let t=e.getBoundingClientRect().height;return W(t),m((e=>[{toastId:u.id,height:t,position:u.position},...e])),()=>m((e=>e.filter((e=>e.toastId!==u.id))))}}),[m,u.id]),r.useEffect((()=>{u.delete&&Ce()}),[Ce,u.delete]),r.createElement("li",{"aria-live":u.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:K,className:M(T,ee,null==R?void 0:R.toast,null==(t=null==u?void 0:u.classNames)?void 0:t.toast,null==R?void 0:R.default,null==R?void 0:R[Q],null==(n=null==u?void 0:u.classNames)?void 0:n[Q]),"data-sonner-toast":"","data-styled":!(u.jsx||u.unstyled||d),"data-mounted":D,"data-promise":!!u.promise,"data-removed":B,"data-visible":Y,"data-y-position":fe,"data-x-position":ve,"data-index":f,"data-front":Z,"data-swiping":H,"data-dismissible":J,"data-type":Q,"data-invert":be,"data-swipe-out":G,"data-expanded":!!(_||x&&D),style:{"--index":f,"--toasts-before":f,"--z-index":v.length-f,"--offset":`${B?$:he.current}px`,"--initial-height":x?"auto":`${V}px`,...E,...u.style},onPointerDown:e=>{Ee||!J||(j.current=new Date,X(he.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(q(!0),ge.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n,r;if(G||!J)return;ge.current=null;let o=Number((null==(e=K.current)?void 0:e.style.getPropertyValue("--swipe-amount").replace("px",""))||0),a=(new Date).getTime()-(null==(t=j.current)?void 0:t.getTime()),i=Math.abs(o)/a;if(Math.abs(o)>=20||i>.11)return X(he.current),null==(n=u.onDismiss)||n.call(u,u),Ce(),void z(!0);null==(r=K.current)||r.style.setProperty("--swipe-amount","0px"),q(!1)},onPointerMove:e=>{var t;if(!ge.current||!J)return;let n=e.clientY-ge.current.y,r=e.clientX-ge.current.x,o=("top"===fe?Math.min:Math.max)(0,n),a="touch"===e.pointerType?10:2;Math.abs(o)>a?null==(t=K.current)||t.style.setProperty("--swipe-amount",`${n}px`):Math.abs(r)>a&&(ge.current=null)}},oe&&!u.jsx?r.createElement("button",{"aria-label":O,"data-disabled":Ee,"data-close-button":!0,onClick:Ee||!J?()=>{}:()=>{var e;Ce(),null==(e=u.onDismiss)||e.call(u,u)},className:M(null==R?void 0:R.closeButton,null==(o=null==u?void 0:u.classNames)?void 0:o.closeButton)},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},r.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,u.jsx||r.isValidElement(u.title)?u.jsx||u.title:r.createElement(r.Fragment,null,Q||u.icon||u.promise?r.createElement("div",{"data-icon":"",className:M(null==R?void 0:R.icon)},u.promise||"loading"===u.type&&!u.icon?u.icon||(null!=N&&N.loading?r.createElement("div",{className:"sonner-loader","data-visible":"loading"===Q},N.loading):P?r.createElement("div",{className:"sonner-loader","data-visible":"loading"===Q},P):r.createElement(ae,{visible:"loading"===Q})):null,"loading"!==u.type?u.icon||(null==N?void 0:N[Q])||(e=>{switch(e){case"success":return ie;case"info":return ce;case"warning":return se;case"error":return le;default:return null}})(Q):null):null,r.createElement("div",{"data-content":"",className:M(null==R?void 0:R.content)},r.createElement("div",{"data-title":"",className:M(null==R?void 0:R.title,null==(a=null==u?void 0:u.classNames)?void 0:a.title),dangerouslySetInnerHTML:Se(u.title)}),u.description?r.createElement("div",{"data-description":"",className:M(I,te,null==R?void 0:R.description,null==(i=null==u?void 0:u.classNames)?void 0:i.description),dangerouslySetInnerHTML:Se(u.description)}):null),r.isValidElement(u.cancel)?u.cancel:u.cancel&&pe(u.cancel)?r.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||C,onClick:e=>{pe(u.cancel)&&J&&(Ce(),u.cancel.onClick(e))},className:M(null==R?void 0:R.cancelButton,null==(s=null==u?void 0:u.classNames)?void 0:s.cancelButton)},u.cancel.label):null,r.isValidElement(u.action)?u.action:u.action&&pe(u.action)?r.createElement("button",{"data-button":"",style:u.actionButtonStyle||S,onClick:e=>{pe(u.action)&&(u.action.onClick(e),!e.defaultPrevented&&Ce())},className:M(null==R?void 0:R.actionButton,null==(c=null==u?void 0:u.classNames)?void 0:c.actionButton)},u.action.label):null))};function ye(){if("undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}var be=e=>{let{invert:t,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:s,className:c,offset:l,theme:u="light",richColors:d,duration:h,style:m,visibleToasts:p=ge,toastOptions:g,dir:f=ye(),gap:v=fe,loadingIcon:_,icons:y,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:E,cn:C=ve}=e,[S,T]=r.useState([]),I=r.useMemo((()=>Array.from(new Set([n].concat(S.filter((e=>e.position)).map((e=>e.position)))))),[S,n]),[w,A]=r.useState([]),[k,P]=r.useState(!1),[x,R]=r.useState(!1),[N,O]=r.useState("system"!==u?u:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=r.useRef(null),M=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=r.useRef(null),U=r.useRef(!1),B=r.useCallback((e=>T((t=>t.filter((({id:t})=>t!==e.id))))),[]);return r.useEffect((()=>de.subscribe((e=>{e.dismiss?T((t=>t.map((t=>t.id===e.id?{...t,delete:!0}:t)))):setTimeout((()=>{o.flushSync((()=>{T((t=>{let n=t.findIndex((t=>t.id===e.id));return-1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]}))}))}))}))),[]),r.useEffect((()=>{"system"===u?("system"===u&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(({matches:e})=>{O(e?"dark":"light")}))):O(u)}),[u]),r.useEffect((()=>{S.length<=1&&P(!1)}),[S]),r.useEffect((()=>{let e=e=>{var t,n;a.every((t=>e[t]||e.code===t))&&(P(!0),null==(t=L.current)||t.focus()),"Escape"===e.code&&(document.activeElement===L.current||null!=(n=L.current)&&n.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[a]),r.useEffect((()=>{if(L.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,U.current=!1)}}),[L.current]),S.length?r.createElement("section",{"aria-label":`${b} ${M}`,tabIndex:-1},I.map(((e,n)=>{var o;let[a,u]=e.split("-");return r.createElement("ol",{key:e,dir:"auto"===f?ye():f,tabIndex:-1,ref:L,className:c,"data-sonner-toaster":!0,"data-theme":N,"data-rich-colors":d,"data-y-position":a,"data-x-position":u,style:{"--front-toast-height":`${(null==(o=w[0])?void 0:o.height)||0}px`,"--offset":"number"==typeof l?`${l}px`:l||"32px","--width":"356px","--gap":`${v}px`,...m},onBlur:e=>{U.current&&!e.currentTarget.contains(e.relatedTarget)&&(U.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||U.current||(U.current=!0,D.current=e.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{x||P(!1)},onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||R(!0)},onPointerUp:()=>R(!1)},S.filter((t=>!t.position&&0===n||t.position===e)).map(((n,o)=>{var a,c;return r.createElement(_e,{key:n.id,icons:y,index:o,toast:n,duration:null!=(a=null==g?void 0:g.duration)?a:h,className:null==g?void 0:g.className,descriptionClassName:null==g?void 0:g.descriptionClassName,invert:t,visibleToasts:p,closeButton:null!=(c=null==g?void 0:g.closeButton)?c:s,interacting:x,position:e,style:null==g?void 0:g.style,unstyled:null==g?void 0:g.unstyled,classNames:null==g?void 0:g.classNames,cancelButtonStyle:null==g?void 0:g.cancelButtonStyle,actionButtonStyle:null==g?void 0:g.actionButtonStyle,removeToast:B,toasts:S.filter((e=>e.position==n.position)),heights:w.filter((e=>e.position==n.position)),setHeights:A,expandByDefault:i,gap:v,loadingIcon:_,expanded:k,pauseWhenPageIsHidden:E,cn:C})})))}))):null}},22970:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__addDisposableResource:()=>L,__assign:()=>a,__asyncDelegator:()=>I,__asyncGenerator:()=>T,__asyncValues:()=>w,__await:()=>S,__awaiter:()=>p,__classPrivateFieldGet:()=>R,__classPrivateFieldIn:()=>O,__classPrivateFieldSet:()=>N,__createBinding:()=>f,__decorate:()=>s,__disposeResources:()=>D,__esDecorate:()=>l,__exportStar:()=>v,__extends:()=>o,__generator:()=>g,__importDefault:()=>x,__importStar:()=>P,__makeTemplateObject:()=>A,__metadata:()=>m,__param:()=>c,__propKey:()=>d,__read:()=>y,__rest:()=>i,__runInitializers:()=>u,__setFunctionName:()=>h,__spread:()=>b,__spreadArray:()=>C,__spreadArrays:()=>E,__values:()=>_,default:()=>U});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t,n,r,o,a){function i(e){if(void 0!==e&&"function"!==typeof e)throw new TypeError("Function expected");return e}for(var s,c=r.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!t&&e?r.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,m=n.length-1;m>=0;m--){var p={};for(var g in r)p[g]="access"===g?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(e||null))};var f=(0,n[m])("accessor"===c?{get:d.get,set:d.set}:d[l],p);if("accessor"===c){if(void 0===f)continue;if(null===f||"object"!==typeof f)throw new TypeError("Object expected");(s=i(f.get))&&(d.get=s),(s=i(f.set))&&(d.set=s),(s=i(f.init))&&o.unshift(s)}else(s=i(f))&&("field"===c?o.unshift(s):d[l]=s)}u&&Object.defineProperty(u,r.name,d),h=!0}function u(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function d(e){return"symbol"===typeof e?e:"".concat(e)}function h(e,t,n){return"symbol"===typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function m(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))}function g(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(c){s=[6,c],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function v(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function _(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function E(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r}function C(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function T(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),a=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof S?Promise.resolve(n.value.v).then(c,l):u(a[0][2],n)}catch(r){u(a[0][3],r)}var n}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function I(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:S(e[r](t)),done:!1}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=_(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var k=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return k(t,e),t}function x(e){return e&&e.__esModule?e:{default:e}}function R(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function N(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function O(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}function L(e,t,n){if(null!==t&&void 0!==t){if("object"!==typeof t&&"function"!==typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!==typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var M="function"===typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function D(e){function t(t){e.error=e.hasError?new M(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var o=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(o).then(n,(function(e){return t(e),n()}))}catch(a){t(a)}}if(e.hasError)throw e.error}()}const U={__extends:o,__assign:a,__rest:i,__decorate:s,__param:c,__metadata:m,__awaiter:p,__generator:g,__createBinding:f,__exportStar:v,__values:_,__read:y,__spread:b,__spreadArrays:E,__spreadArray:C,__await:S,__asyncGenerator:T,__asyncDelegator:I,__asyncValues:w,__makeTemplateObject:A,__importStar:P,__importDefault:x,__classPrivateFieldGet:R,__classPrivateFieldSet:N,__classPrivateFieldIn:O,__addDisposableResource:L,__disposeResources:D}}}]);
//# sourceMappingURL=1719.73c8ddc3.js.map
