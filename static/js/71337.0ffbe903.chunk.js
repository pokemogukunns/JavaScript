"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[71337],{33819:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(22970),i=a(2784);const r=function(e){var{title:t,titleId:a}=e,r=(0,n.__rest)(e,["title","titleId"]);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":a},r),t?i.createElement("title",{id:a},t):null,i.createElement("path",{d:"M1661 896q80 0 150 30t123 81 83 122 31 151q0 80-30 149t-82 122-123 83-149 30H512q-106 0-199-40t-163-109-110-163-40-200q0-106 40-199t109-163 163-110 200-40q46 0 93 9 37-62 90-111t117-83 133-53 143-18q111 0 209 39t175 107 125 163 64 203zm3 640q53 0 99-20t82-55 55-81 20-100q0-53-20-99t-55-82-81-55-100-20h-128v-64q0-93-35-174t-96-143-142-96-175-35q-70 0-135 21t-119 59-97 91-67 120q-75-35-158-35-80 0-149 30t-122 82-83 123-30 149q0 80 30 149t82 122 122 83 150 30h1152z"}))}},53684:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(22970),i=a(2784);const r=function(e){var{title:t,titleId:a}=e,r=(0,n.__rest)(e,["title","titleId"]);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":a},r),t?i.createElement("title",{id:a},t):null,i.createElement("path",{d:"M1504 128q113 0 212 42t173 117 116 173 43 212q0 109-41 208t-118 177l-865 864-865-864Q82 980 41 881T0 672q0-113 42-212t117-173 173-116 212-43q109 0 208 41t177 118q24 24 47 48t48 48q24-24 47-48t48-48q77-77 176-118t209-41zm294 838q59-59 90-135t31-159q0-87-32-162t-88-131-132-87-163-32q-82 0-158 30t-136 88l-186 186-186-186q-60-60-134-91t-160-31q-86 0-162 32t-132 89-89 133-33 162q0 83 31 159t91 135l774 774 774-774z"}))}},39012:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(22970),i=a(2784);const r=function(e){var{title:t,titleId:a}=e,r=(0,n.__rest)(e,["title","titleId"]);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":a},r),t?i.createElement("title",{id:a},t):null,i.createElement("path",{d:"M384 128l1280 896-1280 896V128zm128 246v1300l929-650-929-650z"}))}},87116:(e,t,a)=>{a.d(t,{P:()=>h});var n=a(814),i=a.n(n),r=a(24923),o=a.n(r),s=a(52322),l=a(96473),c=a(12524),d=a.n(c),m=a(2784),u=a(86523),_=a(83929),g=a(48068),p=a(28861);const v=["className"],h=(0,m.forwardRef)(((e,t)=>{let{className:a}=e,n=o()(e,v);const r=(0,u.iV)("Play_With_Game_Pass_Ultimate"),c=(0,_.G)(),h=(0,m.useCallback)((()=>{c(g.j8.path,{})}),[c]);return(0,s.jsx)(l.kD,i()(i()({ref:t,as:"button",isCallToAction:!0,className:d()(p.L,a),buttonType:l.L$.Brand,onClick:h,buttonSize:l.qE.Large},n),{},{children:r}))}))},31540:(e,t,a)=>{a.d(t,{NR:()=>I,YP:()=>y,LA:()=>j});var n=a(24923),i=a.n(n),r=a(814),o=a.n(r),s=(a(634),a(44112),a(6886),a(52322)),l=a(16216),c=a(18671),d=a(74495);const m=a.p+"static/media/CloudGaming_LetterBox.scale-200.ef909bf4.png";var u=a(61872),_=a(49687),g=a(4517);var p=a(86523),v=a(27168);const h=["browserTitle"],x=e=>{const{locale:t}=(0,d.useSelector)(l.yWe),a=(()=>{const{origin:e}=(0,d.useSelector)(l.Xnf),{locale:t}=(0,d.useSelector)(l.yWe),{pathname:a}=(0,g.TH)();return`${null!==e&&void 0!==e?e:"https://www.xbox.com"}/${null!==t&&void 0!==t?t:"en-US"}${a}`})(),n=(0,_.nj)(u.y.HideBetaReferences),i=(0,p.iV)(n?"Page_Title_HideBeta":"Page_Title"),[r,s,c,v]=(0,p.QF)(n?"Home_Description_HideBeta":"Home_Description","Home_Primary_Keyword","Home_Secondary_Keyword","Header_Xenon"),h=`${s}, ${c}`,x=e.siteName||i;return o()(o()({},e),{},{socialMediaTitle:`${e.socialMediaTitle?`${e.socialMediaTitle} | `:""}${x}`,description:e.description||r,keywords:e.keywords||h,imageUrl:e.imageUrl||m,imageAlt:e.imageAlt||v,siteName:x,twitterCardType:e.twitterCardType||"summary_large_image",locale:e.locale||t,url:e.url||a})},j=e=>e.startsWith("//")?`https:${e}`:e,I=e=>{const{browserTitle:t}=e,a=i()(e,h);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.V,{title:t,siteName:a.siteName}),(0,s.jsx)(y,o()({},a))]})},y=e=>{const t=x(e);return(0,s.jsxs)(c.q,{children:[(0,s.jsx)("meta",{name:"description",content:t.description}),(0,s.jsx)("meta",{name:"keywords",content:t.keywords}),t.noIndexTag&&(0,s.jsx)("meta",{name:"robots",content:"noindex"}),(0,s.jsx)("meta",{property:"twitter:title",content:t.socialMediaTitle}),(0,s.jsx)("meta",{property:"twitter:description",content:t.description}),(0,s.jsx)("meta",{property:"twitter:image",content:t.imageUrl}),(0,s.jsx)("meta",{property:"twitter:image:alt",content:t.imageAlt}),(0,s.jsx)("meta",{property:"twitter:site",content:t.siteName}),(0,s.jsx)("meta",{property:"twitter:card",content:t.twitterCardType}),(0,s.jsx)("meta",{property:"og:title",content:t.socialMediaTitle}),(0,s.jsx)("meta",{property:"og:description",content:t.description}),(0,s.jsx)("meta",{property:"og:image",content:t.imageUrl}),(0,s.jsx)("meta",{property:"og:image:alt",content:t.imageAlt}),(0,s.jsx)("meta",{property:"og:url",content:t.url}),(0,s.jsx)("meta",{property:"og:site_name",content:t.siteName}),(0,s.jsx)("meta",{property:"og:locale",content:t.locale}),(0,s.jsx)("meta",{property:"og:type",content:"website"})]})}},43468:(e,t,a)=>{a.d(t,{u:()=>u});var n=a(814),i=a.n(n),r=a(24923),o=a.n(r),s=a(52322),l=a(46209),c=a(2784),d=a(89085);const m=["sinkId"],u=(0,c.forwardRef)(((e,t)=>{let{sinkId:a}=e,n=o()(e,m);const r=(0,c.useRef)(null),u=(0,c.useMemo)((()=>new l.Logger("VideoWithAudioOutputDevice")),[]),_=(0,c.useCallback)((e=>{t&&(r.current=e,"current"in t?t.current=e:"function"===typeof t&&t(e))}),[t]);return(0,c.useEffect)((()=>{var e,t;r.current&&"sinkId"in HTMLMediaElement.prototype&&"setSinkId"in HTMLMediaElement.prototype&&null!=a&&r.current.sinkId!==a&&(null===(t=(e=r.current).setSinkId)||void 0===t||t.call(e,a).catch((e=>{var t,a;const n=(0,d.L)(e);u.warn("setSinkID failed with error",n.message),null===(a=null===(t=r.current)||void 0===t?void 0:t.setSinkId)||void 0===a||a.call(t,"").catch((()=>{}))})))}),[u,a,r]),(0,s.jsx)("video",i()(i()({ref:_},n),{},{children:(0,s.jsx)("track",{kind:"captions"})}))}))},72533:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(62293),i=a(8318);const r=()=>{const{top:e,left:t,bottom:a,right:r}=(0,n.$)();return{top:e+i.gt,bottom:a+i.gt,left:t,right:r}}},65619:(e,t,a)=>{a.d(t,{D:()=>s,g:()=>o});a(6886);var n=a(2784),i=a(95577),r=a(11619);const o=()=>{const e=(0,i.d)();return s(e)},s=e=>{const[t,a]=(0,n.useState)(!1),{isIOS:i,isSafari:o}=e,s=(0,n.useCallback)((()=>{a(!(!i||!o)&&window.innerHeight!==document.documentElement.clientHeight)}),[i,o]);return(0,r._)((()=>{s()})),t}},62293:(e,t,a)=>{a.d(t,{$:()=>s,N:()=>o});a(68995),a(77950),a(85940),a(6886);var n=a(2784),i=a(65619),r=a(11619);const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=getComputedStyle(document.documentElement).getPropertyValue(e);a=a.replace("px","");const n=parseInt(a,10);return Number.isNaN(n)?t:n},s=()=>{const[e,t]=(0,n.useState)(0),[a,s]=(0,n.useState)(0),[l,c]=(0,n.useState)(0),[d,m]=(0,n.useState)(0),u=(0,i.g)(),_=(0,n.useCallback)((()=>{t(o("--safeAreaTop")),s(o("--safeAreaLeft")),c(o("--safeAreaBottom")),m(o("--safeAreaRight"))}),[]);return(0,r._)(_),(0,n.useEffect)((()=>{_()}),[u,_]),{top:e,left:a,bottom:l,right:d}}},15554:(e,t,a)=>{a.r(t),a.d(t,{MediaPage:()=>$e,default:()=>ze});var n=a(814),i=a.n(n),r=(a(31235),a(6886),a(52322)),o=a(15946),s=a(16216),l=a(2784),c=a(4517),d=(a(77950),a(85940),a(96473)),m=a(22970);const u=function(e){var{title:t,titleId:a}=e,n=(0,m.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":a},n),t?l.createElement("title",{id:a},t):null,l.createElement("path",{d:"M1024 512q150 0 292 39t272 107 246 163 214 203q-98 110-213 203t-246 162-273 108-292 39q-150 0-292-39t-272-107-247-162T0 1024q97-109 213-203t246-162 273-108 292-39zm384 512q0-79-30-149t-82-122-123-83-149-30q-80 0-149 30t-122 82-83 123-30 149q0 80 30 149t82 122 122 83 150 30q79 0 149-30t122-82 83-122 30-150zm-1231 0q94 91 200 166t227 127q-45-64-68-139t-24-154q0-78 23-153t69-140q-120 51-226 126t-201 167zm1267 293q120-51 226-126t201-167q-94-91-200-166t-227-127q45 64 68 139t24 154q0 78-23 153t-69 140zm-420-165q-27 0-50-10t-40-27-28-41-10-50q0-27 10-50t27-40 41-28 50-10q27 0 50 10t40 27 28 41 10 50q0 27-10 50t-27 40-41 28-50 10z"}))};var _="MediaItem-module__container___WoC+q",g="MediaItem-module__headerInfoWrapper___P+cPQ",p="MediaItem-module__headerWrapper___A+fe-",v="MediaItem-module__lightText___yk+Yd",h=a(61872);const x=e=>null===e||void 0===e?void 0:e.replace("http://images-eds","https://images-eds-ssl");var j=a(68872),I=a(87592),y=a(49687),f=a(86523),N=(a(73439),a(46209)),C=a(89085),P=a(94158),M=a(13742),w=a(20647);const b=new N.Logger("useIncrementGameClipViewCount"),S=e=>()=>{const t=(0,w.j)("media",e),a=(0,M.kq)(),n=(0,l.useCallback)((async e=>{if(t&&a)try{await t.incrementViewCountForGameClip(e)}catch(n){const e=(0,C.L)(n);b.error("Failed to increment gameclip view count",e)}}),[a,t]);return(0,P.Z)(n,!!t&&a)},k=new N.Logger("useIncrementScreenshotViewCount"),T=e=>()=>{const t=(0,w.j)("media",e),a=(0,M.kq)(),n=(0,l.useCallback)((async e=>{if(t&&a)try{await t.incrementViewCountForScreenshot(e)}catch(n){const e=(0,C.L)(n);k.error("Failed to increment screenshot view count",e)}}),[a,t]);return(0,P.Z)(n,!!t&&a)};var L=a(78222);const{useIncrementGameClipViewCount:q,useIncrementScreenshotViewCount:E}=(O=L.XS,{useIncrementGameClipViewCount:S(O),useIncrementScreenshotViewCount:T(O)});var O;const B=e=>{let{screenshotId:t,imageUri:a}=e;const[n,i]=(0,l.useState)(!1),o=(0,l.useRef)(null),s=E(),c=(0,l.useCallback)((()=>{n||(s(t),i(!0))}),[n,s,t]);(0,l.useEffect)((()=>{o.current&&o.current.complete&&o.current.naturalHeight>0&&c()}),[]);const d=(0,f.iV)("MediaItem_Screenshot");return(0,r.jsx)("img",{ref:o,src:a,className:"ImageMediaItem-module__mediaElement___h33e8",alt:d,onLoad:c})};var D=a(65447),U=a(53684);const A=function(e){var{title:t,titleId:a}=e,n=(0,m.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":a},n),t?l.createElement("title",{id:a},t):null,l.createElement("path",{d:"M0 128h2048v1408H730l-474 475v-475H0V128zm1920 1280V256H128v1152h256v294l293-294h1243z"}))};var V="PureMediaCaption-module__captionRow___gh+s4";const W=Number("32px".replace("px","")),F=e=>{let{authorInfo:t,authorXuid:a,timeLongAgoString:n,captionText:i}=e;return!i||0===i.length&&n?n?(0,r.jsx)("div",{className:V,children:(0,r.jsx)("div",{className:"PureMediaCaption-module__postedDate___TzYsZ",children:n})}):null:(0,r.jsxs)("div",{className:V,children:[(0,r.jsx)(j.p,{src:t.gamerpicUrl,className:"PureMediaCaption-module__gamerPic___PXyZS",size:d.nh.Small,"aria-label":t.gamertag,defaultImageSize:W}),(0,r.jsxs)("div",{className:"PureMediaCaption-module__inlineColumn___9MWjD",children:[(0,r.jsxs)("div",{className:"PureMediaCaption-module__gamertagDateRow___jLAf3",children:[(0,r.jsx)("div",{className:"PureMediaCaption-module__gamertagText___bgQ7z",children:t.gamertag}),t.modernGamertagSuffix&&(0,r.jsxs)("div",{className:"PureMediaCaption-module__gamertagSuffixText___tWZHH",children:["#",t.modernGamertagSuffix]}),n&&(0,r.jsx)("div",{className:"PureMediaCaption-module__inlinePostedDate___cp+Vc",children:n})]}),i&&(0,r.jsx)("div",{className:"PureMediaCaption-module__captionText___-TWXS",children:i})]})]})};var G=a(27451);const $=e=>{let{authorInfo:t,authorXuid:a,postedDate:n,captionText:i}=e;const o=(0,G.n)(n);return(0,r.jsx)(F,{authorInfo:t,authorXuid:a,timeLongAgoString:o,captionText:i})};var z="MediaItemFooter-module__iconWrapper___45P4W",R=a(66269),Z=a(74461),H=a(25948);const X=e=>{let{options:t}=e;const[a,n]=(0,l.useState)(!1),i=(0,l.useRef)(null),o=(0,l.useCallback)((()=>{n(!0)}),[n]);return(0,r.jsxs)("div",{className:"MediaItemFooter-module__popupOptionsMenu___Diin0",children:[(0,r.jsx)(d.$D,{as:"button",ref:i,"data-action-type":H.t.OverlayIn,buttonType:d.L$.Tertiary,icon:R.Z,onClick:o}),(0,r.jsx)(Z.F,{isOpen:a,setIsOpen:n,horizontalAlignment:"right",dropdownClassName:"MediaItemFooter-module__dropdown___FMThN",buttons:t,relativeRef:i})]})};var Q=a(26038),K=a(83929),J=a(48068);const Y=e=>(0,r.jsxs)("div",{className:e.className,"aria-label":e.accessibilityLabel,"aria-hidden":!e.accessibilityLabel,children:[(0,r.jsx)(d.JO,{iconSize:d.Jh.XSmall,className:"MediaItemFooter-module__icon___hNZZw",icon:e.icon,"aria-hidden":!0}),(0,r.jsx)("div",{className:"MediaItemFooter-module__metadataCount___Cz74d","aria-hidden":!0,children:e.count})]}),ee=e=>{let{item:t,isSignedIn:a}=e;var n;const[i,o,c,d,m,_,g]=(0,f.QF)("MediaItem_LikeCount_Singular","MediaItem_LikeCount_Plural","MediaItem_CommentCount_Singular","MediaItem_CommentCount_Plural","MediaItem_ViewCount_Singular","MediaItem_ViewCount_Plural","Report_Label"),p=(0,y.nj)(h.y.EnableMediaEngagement),v=1===t.likeCount?i:(0,s.WUZ)(o,`${t.likeCount}`),x=1===t.commentCount?c:(0,s.WUZ)(d,`${t.commentCount}`),j=1===t.viewCount?m:(0,s.WUZ)(_,`${t.viewCount}`),I=(0,K.G)(),N=(0,l.useCallback)((()=>{var e,a;I(J.mM.path,{xuid:t.authorXuid,gamertag:null!==(a=null===(e=t.authorInfo)||void 0===e?void 0:e.gamertag)&&void 0!==a?a:"",contextType:Q.j.ActivityFeed,evidenceId:t.locator})}),[null===(n=t.authorInfo)||void 0===n?void 0:n.gamertag,t.authorXuid,t.locator,I]),C=a?[{optionType:"labelButton",label:g,onClick:N}]:[];return(0,r.jsxs)("div",{className:"MediaItemFooter-module__footerWrapper___ipRkY",children:[(0,r.jsxs)("div",{className:"MediaItemFooter-module__metadataRow___2o69m",children:[p&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Y,{className:z,count:t.likeCount,icon:t.hasLiked?D.Z:U.Z,accessibilityLabel:v}),(0,r.jsx)(Y,{className:z,count:t.commentCount,icon:A,accessibilityLabel:x})]}),(0,r.jsx)(Y,{className:z,count:t.viewCount,icon:u,accessibilityLabel:j}),0!==C.length&&(0,r.jsx)(X,{options:C})]}),t.authorInfo&&(0,r.jsx)($,{authorInfo:t.authorInfo,authorXuid:t.authorXuid,postedDate:t.postedDateInMs,captionText:t.ugcCaption})]})};var te=a(9348),ae=a(87342),ne=a(4195),ie=a(5801),re=a(99402);const oe=()=>{const e=(0,f.iV)("MediaItem_SignInToPlay_Button"),t=(0,ne.h)(),a=(0,ie.hW)("SignInToPlayButton"),n=(0,l.useCallback)((()=>{a.trackUserAction(re.V.SignInToPlay,"SignInToPlayButton"),a.trackLink(t,"SignInUrl")}),[t,a]);return(0,r.jsx)(d.kD,{as:"a",isCallToAction:!0,className:"Button-module__button___YQnG3",buttonType:d.L$.Brand,onClick:n,href:t,children:e})};var se=a(33819);const le=e=>{let{productId:t,isFreeToPlay:a}=e;const[n,i]=(0,f.QF)("Play","FreeToPlay_Play"),o=(0,K.G)(),s=(0,l.useCallback)((()=>{o(J.Aq.path,{productId:t})}),[o,t]);return(0,r.jsx)(d.Zi,{as:"button",isCallToAction:!0,className:"Button-module__playButton___3SRtW",buttonType:d.L$.Brand,icon:se.Z,iconClassName:"Button-module__buttonIcon___5zovf",onClick:s,children:a?i:n})};var ce="PurePlayOnWebBanner-module__bannerLeft___sVpeX",de="PurePlayOnWebBanner-module__bannerRight___FZ-ap",me="PurePlayOnWebBanner-module__gameArt___vQK+2",ue=a(42354),_e=a(79834);const ge=()=>(0,r.jsxs)("div",{className:"PurePlayOnWebBanner-module__banner___WShXP",children:[(0,r.jsxs)("div",{className:ce,children:[(0,r.jsx)(I.O,{className:me}),(0,r.jsx)(I.O,{className:"PurePlayOnWebBanner-module__skeletonGameTitle___g18Ib"})]}),(0,r.jsx)("div",{className:de,children:(0,r.jsx)(ue.f,{})})]}),pe=e=>{let{isLoading:t,titleArtUri:a,titleName:n,contextualButton:i}=e;const o=(0,l.useMemo)((()=>({className:me})),[]);return t?(0,r.jsx)(ge,{}):i&&(0,r.jsx)("div",{className:"PurePlayOnWebBanner-module__container___joZtG",children:(0,r.jsxs)("div",{className:"PurePlayOnWebBanner-module__innerContent___OVxeC",children:[(0,r.jsxs)("div",{className:ce,children:[(0,r.jsx)(_e.D,{containerProps:o,src:a,alt:n}),(0,r.jsx)("div",{className:"PurePlayOnWebBanner-module__gameTitle___ZHOmu",children:n})]}),(0,r.jsx)("div",{className:de,children:i})]})})};var ve,he=a(34431),xe=a(54762),je=a(81634),Ie=a(5839),ye=a(20860);!function(e){e.Loading="Loading",e.None="None",e.SignIn="SignIn",e.GamepassUpsell="GamepassUpsell",e.Play="Play",e.F2P="F2P"}(ve||(ve={}));var fe=a(87116);const Ne=e=>{let{titleData:t}=e;var a;const{state:n,productId:i}=function(e){const[t,{loading:a}]=(0,ye.M)(e),[n,{loading:i}]=(0,Ie.B)(t||""),r=(0,y.nj)(h.y.EnableFreeToPlay),o=(0,he.A)(),[s,{loading:c}]=(0,xe.L)(),d=(0,l.useMemo)((()=>({state:ve.Loading,productId:void 0})),[]),m=(0,l.useMemo)((()=>({state:ve.None,productId:void 0})),[]),u=(0,l.useMemo)((()=>({state:ve.GamepassUpsell,productId:void 0})),[]),_=(0,l.useMemo)((()=>({state:ve.SignIn,productId:void 0})),[]);return(0,l.useMemo)((()=>{if(a||c||i)return d;if(!t||!n)return m;if(!o)return _;const e=(0,je._O)(t);return r&&e?{state:ve.F2P,productId:t}:s?{state:ve.Play,productId:t}:u}),[a,c,i,t,n,o,r,s,d,m,_,u])}(t.titleId),o=(0,ae.Qc)();(0,l.useEffect)((()=>{n!==ve.None&&n!==ve.Loading&&o.logContentUpdate({content:{contentName:"PlayOnWebBanner",productId:i,templateName:n}})}),[o,i,n]);const s=(0,l.useMemo)((()=>{switch(n){case ve.None:return null;case ve.GamepassUpsell:return(0,r.jsx)(fe.P,{});case ve.SignIn:return(0,r.jsx)(oe,{});case ve.F2P:case ve.Play:return i?(0,r.jsx)(le,{productId:i,isFreeToPlay:n===ve.F2P}):null;default:return null}}),[i,n]),c=null!==(a=t.imageUri&&(0,te.getResizeUrl)(t.imageUri,48,48))&&void 0!==a?a:"";return(0,r.jsx)(pe,{isLoading:n===ve.Loading,titleName:t.name,titleArtUri:c,contextualButton:s})};var Ce=a(39012),Pe=a(43468),Me=a(19719);const we=e=>{let{clipId:t,contentUri:a,posterUri:n}=e;const i=(0,f.iV)("Play"),o=q(),[s,,,]=(0,Me.R1)("audioOutputDeviceId"),c=(0,l.useRef)(null),m=(0,l.useRef)(null),[u,_]=(0,l.useState)(!1),[g,p]=(0,l.useState)(!1),[v,h]=(0,l.useState)(),x=(0,l.useCallback)((()=>{p(null!==document.fullscreenElement)}),[]);(0,l.useEffect)((()=>(document.addEventListener("fullscreenchange",x),()=>document.removeEventListener("fullscreenchange",x))),[x]);const j=(0,l.useCallback)((()=>{c.current&&h(!1)}),[]),I=(0,l.useCallback)((()=>{c.current&&!g&&h(!0)}),[g]),y=(0,l.useCallback)((()=>{m.current&&clearTimeout(m.current),j()}),[j]),N=(0,l.useCallback)((()=>{m.current&&clearTimeout(m.current)}),[]),C=(0,l.useCallback)((()=>{m.current=setTimeout(I,200)}),[I]),[P,M]=(0,l.useState)(null),w=(0,l.useCallback)((e=>{u||(P&&e.currentTarget.currentTime>=P?(o(t),_(!0)):P||M(.7*e.currentTarget.duration))}),[t,P,u,o]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"VideoMediaItem-module__videoWrapper___HJ4d2",children:[(0,r.jsx)(Pe.u,{ref:c,className:"VideoMediaItem-module__mediaElement___gk60f",src:a,loop:!0,autoPlay:!0,muted:!0,playsInline:!0,controls:!v,onTimeUpdate:w,onPlay:y,onPause:C,onSeeking:N,poster:n,sinkId:s}),v&&(0,r.jsx)(d.$D,{as:"button",className:"VideoMediaItem-module__videoPlayButton___ZcnK+","aria-label":i,buttonType:d.L$.Primary,overlayMode:d.gT.Acrylic,icon:Ce.Z,iconClassName:"VideoMediaItem-module__videoPlayButtonIcon___Ta96L",onClick:()=>{var e;null===(e=c.current)||void 0===e||e.play()}})]})})},be=Number("64px".replace("px","")),Se=e=>{let{info:t,showRealName:a}=e;return(0,r.jsxs)("div",{className:"MediaItem-module__row___g47aS",children:[(0,r.jsx)("div",{className:"MediaItem-module__gamertag___8XC+3",children:t.gamertag}),t.modernGamertagSuffix&&(0,r.jsxs)("div",{className:v,children:["#",t.modernGamertagSuffix]}),a&&t.name&&(0,r.jsx)("div",{className:"MediaItem-module__realName___ZOG8I",children:t.name})]})},ke=()=>(0,r.jsxs)("div",{className:_,children:[(0,r.jsxs)("div",{className:p,children:[(0,r.jsx)(I.O,{className:"MediaItem-module__gamerPicSkeleton___J3mms"}),(0,r.jsxs)("div",{className:g,children:[(0,r.jsx)(I.O,{className:"MediaItem-module__gamertagSkeleton___MIR5t"}),(0,r.jsx)(I.O,{className:"MediaItem-module__titleNameSkeleton___6sXzw"})]})]}),(0,r.jsx)(I.O,{className:"MediaItem-module__mediaElementSkeleton___uDBkD"}),(0,r.jsx)("div",{className:"MediaItem-module__footerWrapper___F7qMc",children:(0,r.jsxs)("div",{className:"MediaItem-module__infoRow___3wvDC",children:[(0,r.jsx)("div",{className:"MediaItem-module__iconWrapper___9q6qy",children:(0,r.jsx)(d.JO,{iconSize:d.Jh.XXSmall,className:"MediaItem-module__icon___ftvI9",icon:u})}),(0,r.jsx)(I.O,{className:"MediaItem-module__viewCountSkeleton___ViXzU"}),(0,r.jsx)("div",{className:"MediaItem-module__postedDateSkeletonWrapper___RqJQ5",children:(0,r.jsx)(I.O,{className:"MediaItem-module__postedDateSkeleton___jmNqd"})})]})})]}),Te=e=>{let{item:t,isSignedIn:a}=e;const n=(0,y.nj)(h.y.EnableMediaPlayOnWeb),i="GameClip"===t.type||"Screenshot"===t.type,o="GameClip"===t.type,s="Screenshot"===t.type,l=x(t.originalContentUri),c=x(t.previewThumbnailUri);return i&&t.authorInfo?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:_,children:[(0,r.jsxs)("div",{className:p,children:[(0,r.jsx)(j.p,{src:t.authorInfo.gamerpicUrl,className:"MediaItem-module__gamerPic___HkjL4",size:d.nh.Large,defaultImageSize:be}),(0,r.jsxs)("div",{className:g,children:[(0,r.jsx)(Se,{info:t.authorInfo,showRealName:!0}),(0,r.jsx)("div",{className:v,children:t.title.name})]})]}),(0,r.jsx)("div",{className:"MediaItem-module__mediaWrapper___sItb4",children:o?(0,r.jsx)(we,{clipId:t.clipId,contentUri:t.originalContentUri,posterUri:c}):s&&l?(0,r.jsx)(B,{screenshotId:t.screenshotId,imageUri:l}):null}),n&&(0,r.jsx)(Ne,{titleData:t.title}),(0,r.jsx)(ee,{item:t,isSignedIn:a})]})}):null};var Le="MediaPage-module__privateContentError___-i9+h",qe=a(31540),Ee=a(6186),Oe=a(72533),Be=a(98660),De=a(5653),Ue=a(21883),Ae=a(99779);const Ve=e=>t=>{const{useSelector:a,useDispatch:n,useStore:i}=(0,l.useContext)(e),r=(0,M.kq)(),o=(0,w.j)("feed",e),s=null===o||void 0===o?void 0:o.feedSelectors,c=(0,l.useMemo)((()=>s?s.getLinkPreviewLCE:()=>Ue.LCE_NOT_REQUESTED),[s]),d=(0,l.useCallback)((e=>c(e,t)),[c,t]),m=(0,l.useMemo)((()=>o?o.actions.getLinkPreview.start(t,!r):void 0),[o,t,r]);return(0,Ae.O)(d,m,void 0,{useSelector:a,useDispatch:n,useStore:i})};const{useLinkPreview:We}=function(e){return{useLinkPreview:Ve(e)}}(L.XS);var Fe;!function(e){e.Loading="Loading",e.Display="Display",e.GenericError="GenericError",e.Private="Private",e.AnonPrivate="AnonPrivate"}(Fe||(Fe={}));const Ge=e=>{let{imageClassName:t,message:a,showSignInButton:n}=e;return(0,r.jsxs)("div",{className:"MediaPage-module__errorContainer___8QDom",children:[(0,r.jsx)("div",{className:t}),(0,r.jsx)("div",{className:"MediaPage-module__errorMessage___-lo5Y",children:a}),n&&(0,r.jsx)(Ee.$,{className:"MediaPage-module__signInButton___SuLWk"})]})},$e=()=>{const{locator:e}=(0,c.UO)(),[t,{loading:a}]=We(e),[n,d,m]=(0,f.QF)("MediaPage_GenericError","MediaPage_PrivateContentError","MediaPage_PrivateContentAnonError"),u=(0,ie.hW)("MediaPage"),_=(0,he.A)(),g=(0,c.k6)();(0,Be.Yf)((0,l.useCallback)((()=>(g.goBack(),!0)),[g]));const p=(0,Oe.Z)(),v=null===t||void 0===t?void 0:t.item,h=(e=>{const t=(0,f.iV)("MediaItem_Share_Description"),a=(0,f.iV)("MediaPage_DefaultPageTitle"),n=null===e||void 0===e?void 0:e.authorInfo,i=n&&n.gamertag?n.modernGamertagSuffix?`${n.gamertag}#${n.modernGamertagSuffix}`:`${n.gamertag}`:void 0,r=i&&e?`${i} | ${e.title.name}`:void 0,o=e&&e.ugcCaption?e.ugcCaption:i?(0,s.WUZ)(t,i):void 0,l=i?`${i}`:a,c=x(null===e||void 0===e?void 0:e.previewThumbnailUri),d=(0,f.iV)("Xbox"),m=(0,f.iV)("Media_Clip_Keyword",d),u=(0,f.iV)("Media_Clip_Keyword",e?e.title.name:""),_=(0,f.iV)("Media_Screenshot_Keyword",d),g=(0,f.iV)("Media_Screenshot_Keyword",e?e.title.name:"");return{socialMediaTitle:r,description:o,browserTitle:l,imageUrl:c,siteName:d,keywords:"GameClip"===(null===e||void 0===e?void 0:e.type)?`${m}, ${u}`:"Screenshot"===(null===e||void 0===e?void 0:e.type)?`${_}, ${g}`:""}})(v),j=(0,l.useMemo)((()=>!v||"GameClip"!==v.type&&"Screenshot"!==v.type?null===v?_?Fe.Private:Fe.AnonPrivate:a?Fe.Loading:Fe.GenericError:Fe.Display),[v,_,a]);return(0,l.useEffect)((()=>{[Fe.Private,Fe.AnonPrivate,Fe.GenericError].includes(j)&&u.trackUserAction(re.V.FailedToDisplayMediaPage,j)}),[j,u]),e?(0,r.jsx)(ie.Pl,{location:"MediaPage",children:(0,r.jsxs)("div",{className:"MediaPage-module__outerContainer___ITjme",children:[(0,r.jsx)(qe.NR,i()({},h)),(0,r.jsx)(o.BodyScrollable,{scrollOffsets:p}),(0,r.jsx)(o.BodyTrappable,{}),(0,r.jsxs)("div",{className:"MediaPage-module__container___7o4Vv",children:[j===Fe.Loading&&(0,r.jsx)(ke,{}),j===Fe.Display&&(0,r.jsx)(Te,{item:v,isSignedIn:_}),j===Fe.GenericError&&(0,r.jsx)(Ge,{imageClassName:"MediaPage-module__genericError___Owrdv",message:n}),j===Fe.Private&&(0,r.jsx)(Ge,{imageClassName:Le,message:d}),j===Fe.AnonPrivate&&(0,r.jsx)(Ge,{imageClassName:Le,message:m,showSignInButton:!0})]})]})}):(0,r.jsx)(c.l_,{to:De.Home.getLink()})},ze=$e}}]);
//# sourceMappingURL=71337.0ffbe903.chunk.js.map
