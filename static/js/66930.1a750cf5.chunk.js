"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[66930],{64174:(e,t,n)=>{n.d(t,{k:()=>o});class o{static isNotStartedState(e){return e instanceof o}NotStatedState(){}}},35700:(e,t,n)=>{var o;n.d(t,{f:()=>o}),function(e){e.Home="home",e.InvitePeople="invite-people",e.StateShare="state-share",e.ShowPeoplePicker="show-people-picker",e.CreateParty="create-party"}(o||(o={}))},86459:(e,t,n)=>{n.d(t,{f:()=>o});class o extends Event{constructor(e,t){super(o.type),this.isVisible=e,this.dialogName=t}static is(e){return e.type===o.type}}o.type="dialogVisibilityChanged"},57530:(e,t,n)=>{n.d(t,{h:()=>a});var o=n(74495),r=n(72776);const a=()=>(0,o.useSelector)(r.kz)},3197:(e,t,n)=>{n.d(t,{e:()=>s,g:()=>d});n(6886);var o=n(80631),r=n(36749),a=n(1001),i=n(18226);function s(e){const t=(0,r.Z)(),[n]=(0,a.n)("enableNativeTouch");return function(e,t,n,r){return d(!!r&&(0,o.isNativeTouchTitle)(r),e,t,n)}(t,n,(0,i.h)(),e)}function d(e,t,n,o){return!0===o&&(e||t&&n)}},62566:(e,t,n)=>{n.d(t,{U:()=>m});var o=n(2784),r=n(61872),a=n(83929),i=n(48068),s=n(9758),d=n(49687),l=n(42879),u=n(3968);const c=864e5,m=()=>{var e;const t=(0,l.w)(),{attemptAndroidExitFullscreen:n}=(0,s.A)();let m=null!==(e=(0,d.dh)(r.y.F2PPostPlayUpsellCooldown))&&void 0!==e?e:c;isNaN(m)&&(m=c);const{dialogSettingsStore:p}=(0,u.S)(),v=(0,a.G)(),g=(0,o.useCallback)((()=>{v(i.j8.path,{},{shouldPersistStateOnPageNavigation:!0})}),[v]),f=(0,o.useCallback)((()=>{const e=Date.now();e-p.getSetting("f2PPostPlayUpsellCooldownStartTime")>m&&(p.setSetting("f2PPostPlayUpsellCooldownStartTime",e),g())}),[m,g,p]);return(0,o.useCallback)((e=>{!1!==(null===e||void 0===e?void 0:e.shouldNavigate)&&t(),n(),!0===(null===e||void 0===e?void 0:e.shouldOpenUpsellDialog)&&f()}),[n,t,f])}},23383:(e,t,n)=>{n.d(t,{I:()=>V});n(6886);var o=n(46209),r=n(16216),a=n(2784),i=n(74495),s=n(62566),d=n(814),l=n.n(d),u=(n(74407),n(26464),n(64903),n(36749)),c=n(35751),m=n(49687),p=n(57530),v=n(72776);var g=n(86459),f=n(48068),S=n(58632),h=n(99896),I=n(33214),y=n(35700),b=n(13675);const C=e=>{switch(e){case y.f.InvitePeople:return[I.GuideGameInviteHome.path];case y.f.StateShare:return[I.GuideStateShareHome.path];case y.f.CreateParty:return[I.GuideCreateParty.path];case y.f.Home:return[I.GuideHome.path];case y.f.ShowPeoplePicker:return[I.RemotedPeoplePicker.path];default:return[I.GuideHome.path]}},w=(e,t)=>{switch(e){case y.f.StateShare:return{[I.GuideStateShareHome.path]:t};case y.f.ShowPeoplePicker:return{[I.RemotedPeoplePicker.path]:t};default:return{}}};n(71372),n(4173),n(68995),n(73439),n(88233);var E,P=n(22799);!function(e){e.XCloudTransferToken="service::http://Passport.NET/purpose::PURPOSE_XBOX_CLOUD_CONSOLE_TRANSFER_TOKEN",e.FamilySafety="service::family.microsoft.com::MBI_SSL"}(E||(E={}));var G=n(1931),R=n(3968);var T=n(61872),k=n(89085),M=n(22565);var x=n(53801),D=n(87143);var L=n(99689),O=n(41935),U=n(99779),A=n(86523),F=n(28044),j=n(40866),_=n(4517),H=n(5653);const N=new class{constructor(){}setPostStreamRedirectUrl(e){this.postStreamRedirectUrl=e}isSwitchStreamRedirectUrl(){if(!this.postStreamRedirectUrl)return!1;return!!(0,_.LX)(this.postStreamRedirectUrl,{path:H.Play.path,exact:!0})}};n(96708);const B="https://www.xbox.com";function X(e){var t,n,o;let r=(null===(t=globalThis.location)||void 0===t?void 0:t.origin)||B;return(null===(n=globalThis.location)||void 0===n?void 0:n.hostname)&&(null===(o=globalThis.location)||void 0===o?void 0:o.hostname.endsWith("xbox.com"))||(r=B),`${r}/${H.ShareStatePrototypeTestHarness.getLink(e)}`}function V(e,t,n,d,y,_,H){const B=(0,G.I)((()=>new o.Logger("GameStreamBootstrapper/useGameStream"))),V=(0,O.If)(),$=(0,s.U)(),q=(0,i.useSelector)(r.yWe),{audioContextBootstrapper:z,telemetryProvider:Z,accsManager:K}=(0,R.S)(),W=(0,A.Ri)(),Q=(()=>{const e=(0,a.useRef)(),t=(0,a.useRef)(),n=(0,u.Z)(),o=(0,i.useSelector)(v.Z1),s=(0,p.h)(),d=(0,i.useSelector)((n=>{const o=(0,r.TrC)(n);return t.current&&e.current===o||(t.current=Object.entries(c.y).reduce(((e,t)=>{let[n,r]=t;const a=o[r.toLowerCase()];return null!=a&&(e[n]=a),e}),{})),t.current})),g=(0,m.nj)(c.y.CollectUserEmail),f=d.CollectUserEmail||g||n||o,S=(0,m.nj)(c.y.EnableInternalFeedback),h=d.EnableInternalFeedback||S||s||o;return(0,a.useMemo)((()=>l()({CollectUserEmail:f,EnableInternalFeedback:h},d)),[d,f,h])})(),J=(0,L.t)(),Y=function(){const e=(0,G.I)((()=>new o.Logger("GameStreamBootstrapper/useTransferTokenCallback"))),{authProvider:t}=(0,R.S)();return(0,a.useCallback)((async()=>{var n,o,r,a,i,s;const d="transfer-token-msa-redirect";try{const r=await t.getMsaAccessTokenSilently(E.XCloudTransferToken);if(!r)throw new Error("MsaAccessTokenSilently returned undefined token");try{null===(n=globalThis.window)||void 0===n||n.sessionStorage.removeItem(d)}catch(l){const t=(0,P.toError)(l);null===(o=e.current)||void 0===o||o.warn(`Failed to remove ${d} from session storage. Reason: ${t.message}`,t)}return r}catch(u){const n=(0,P.toError)(u),o=`Unable to acquire transfer token (Reason: ${n.message}) - Redirecting to MSA login`;null===(r=e.current)||void 0===r||r.warn(o,n);try{const e=null===(a=globalThis.window)||void 0===a?void 0:a.sessionStorage.getItem(d),n=e?parseInt(e,10):NaN;if(!isNaN(n)&&Date.now()-n<3e5)throw null===(i=globalThis.window)||void 0===i||i.sessionStorage.removeItem(d),new Error("Failed to acquire transfer token after redirecting to MSA login.");null===(s=globalThis.window)||void 0===s||s.sessionStorage.setItem(d,Date.now().toString()),await t.startSignInWithRedirect(window.location.href,{prompt:"none"})}catch(l){const e=(0,P.toError)(l);throw new Error(`Failed to start sign-in with redirect. Reason: ${e.message}`)}throw n}}),[e,t])}(),ee=(0,u.Z)(),te=(0,i.useDispatch)(),[ne,{loading:oe,error:re}]=(0,U.O)(j.rl),ae=(()=>{const{closeGuide:e,openGuide:t}=(0,h.getGuideNavigation)(),n=(0,S.d)(),o=(0,a.useRef)(n);o.current!==n&&(o.current=n);const r=(0,a.useRef)(null);r.current||(r.current=new EventTarget);const i=(0,a.useRef)(!1);(0,a.useEffect)((()=>b.Am.onChange((e=>{var t,n;if(null===(n=null===(t=e.content)||void 0===t?void 0:t.props)||void 0===n?void 0:n.onClick)switch(e.status){case"added":i.current=!0;break;case"removed":i.current=!1}}))),[]);const s=(0,a.useRef)({open:(e,n)=>{i.current||o.current||t({history:e?C(e):[I.GuideHome.path],currentTelemetryLocation:["GameStream"],replace:!0,dialogProps:n?w(e,n):{}})},close:()=>{i.current||e()},addEventListener:r.current.addEventListener.bind(r.current),removeEventListener:r.current.removeEventListener.bind(r.current),isOpen:()=>o.current});return(0,a.useEffect)((()=>{r.current.dispatchEvent(new g.f(n,f.Dn.name))}),[n]),s.current})(),ie=(()=>{const e=(0,a.useRef)(new EventTarget),{getIsDialogOpen:t,navigate:n,goBack:o}=(0,M.c)(),r=t(f.Xm.path),i=(0,a.useRef)({open:e=>n(f.Xm.path,e),close:o,addEventListener:e.current.addEventListener.bind(e.current),removeEventListener:e.current.removeEventListener.bind(e.current)});return(0,a.useEffect)((()=>{e.current.dispatchEvent(new g.f(r,"AskExceptionRequestDialog"))}),[r]),i.current})(),se=(0,m.nj)(T.y.EnableClientGuideInStream),de=(0,m.nj)(T.y.EnableOpenEndedGameInvites),le=(0,m.nj)(T.y.EnableStateShareTcui),ue=(0,m.nj)(T.y.EnableAccs),ce=(()=>{const{closeSettings:e,openSettings:t}=(0,x.O)(),{getIsDialogOpen:n}=(0,M.c)(),o=n(f.DL.path),r=(0,a.useRef)(null);r.current||(r.current=new EventTarget);const i=(0,a.useRef)({open:e=>{let n=[];if(e)switch(e){case D.nM.name:n=[D.nM.getLink()];break;case D.nf.name:n=[D.nf.getLink()]}t({history:n,currentTelemetryLocation:[],dialogProps:{context:"in-stream"}})},close:e,addEventListener:r.current.addEventListener.bind(r.current),removeEventListener:r.current.removeEventListener.bind(r.current)});return(0,a.useEffect)((()=>{r.current.dispatchEvent(new g.f(o,f.DL.name))}),[o]),i.current})(),me=(()=>{const e=(0,a.useRef)(new EventTarget),{getIsDialogOpen:t,navigate:n,goBack:o}=(0,M.c)(),r=t(f.HZ.path),i=(0,a.useRef)({open:()=>n(f.HZ.path,null),close:o,addEventListener:e.current.addEventListener.bind(e.current),removeEventListener:e.current.removeEventListener.bind(e.current)});return(0,a.useEffect)((()=>{e.current.dispatchEvent(new g.f(r,"StreamFeedbackDialog"))}),[r]),i.current})(),pe=(()=>{const e=(0,a.useRef)(new EventTarget),{getIsDialogOpen:t,navigate:n,goBack:o}=(0,M.c)(),r=t(f.Uo.path),i=(0,a.useRef)({open:e=>n(f.Uo.path,e),close:o,addEventListener:e.current.addEventListener.bind(e.current),removeEventListener:e.current.removeEventListener.bind(e.current)});return(0,a.useEffect)((()=>{e.current.dispatchEvent(new g.f(r,"UserGestureDialog"))}),[r]),i.current})(),ve="xhome-connect"===(null===_||void 0===_?void 0:_.connectMode),ge=le||(se||de)&&!ve?ae:void 0,{userSettingsStore:fe,deviceInformation:Se,developerSettingsStore:he}=(0,R.S)();(0,a.useEffect)((()=>{var o,r,a,i;if(!ne&&!oe){if(re)throw re;try{null===(o=B.current)||void 0===o||o.debug("Instantiating GameStream instance"),e.current||null===(r=B.current)||void 0===r||r.warn("Unexpected state reached - Parameter 'gameStreamContainerRef.current' was undefined"),t.current||null===(a=B.current)||void 0===a||a.warn("Unexpected state reached - Parameter 'purchaseUIRef.current' was undefined"),te(F.Fw.start(e.current,{audioContext:z.audioContext,client:d,createEncapsulatedStateShareUrl:X,developerSettingsStore:he,deviceInformation:Se,featureGateConfig:Q,fullscreenElement:document.documentElement,getTransferToken:Y,navigationManager:N,guideUI:ge,askExceptionUI:ie,isChildAccount:J,isDeveloperMode:ee,marketInfo:q,navigateBack:H||(()=>$()),persistentSettingsStore:fe,playSound:V,purchaseUI:t.current,provisioningAdUI:n.current,strings:W,telemetryProvider:Z,user:y,settingsUI:ce,feedbackUI:me,userGestureUI:pe,accsManager:ue?K:void 0}))}catch(s){const e=(0,k.L)(s);null===(i=B.current)||void 0===i||i.error(`An error occurred while initializing GameStream - ${e.message}`,e)}}}),[z.audioContext,Se,he,te,re,$,Q,ne,e,Y,J,ee,oe,B,q,V,t,n,d,W,Z,y,fe,H,ge,ie,ce,me,pe,K,ue]),(0,a.useEffect)((()=>{ne&&ne.user!==y&&(ne.user=y)}),[ne,y]),(0,a.useEffect)((()=>{ne&&Q&&ne.updateFeatureGates(Q)}),[ne,Q]);const Ie=(0,a.useRef)({});return Ie.current.gameStream=ne,(0,a.useEffect)((()=>()=>{const{gameStream:e}=Ie.current;null!=e&&te((0,F.Hl)(e))}),[te]),ne}},23941:(e,t,n)=>{n.d(t,{d:()=>R});n(71372),n(73439),n(6886);var o=n(80631),r=n(46209),a=n(2784),i=n(8929),s=n(87223),d=n(95577),l=n(28902);var u=n(36749),c=n(61872),m=n(1001),p=n(5058),v=n(49687);var g=n(3197),f=n(32062),S=n(80822);const h=e=>{const t=[e.buttons[2],e.buttons[0],e.buttons[3],e.buttons[1]].concat(e.buttons.slice(4));return{id:e.id,index:e.index,connected:e.connected,timestamp:e.timestamp,mapping:e.mapping,axes:e.axes,vibrationActuator:e.vibrationActuator,buttons:t,displayId:e.displayId,hapticActuators:[e.vibrationActuator]}};var I=n(89085),y=n(3522),b=n(64174);var C=n(1931),w=n(86114),E=n(3968),P=n(19719),G=n(69634);function R(e,t,n){const R=(0,C.I)((()=>new r.Logger("GameStreamBootstrapper/useSessionConnect"))),T=(0,a.useRef)(!1),[k,{loading:M}]=(0,P.R1)("enableNarrator"),[x,{loading:D}]=(0,P.R1)("highContrastMode"),[L,{loading:O}]=(0,P.R1)("enableMonoAudioOutput"),U=function(){const[,e]=(0,a.useState)();return(0,a.useCallback)((t=>{e((()=>{throw t}))}),[])}(),A=(0,u.Z)(),{stickyQueryStrings:F}=(0,E.S)(),{isTizen:j,isMacOS:_,isSafari:H,isIOS:N,isIPadOS:B}=(0,d.d)(),[X]=(0,m.n)("takAllowMouseInteraction"),V=(0,v.nj)(c.y.EnableLowerMaxBufferLimit),$=(0,v.dh)(c.y.NumberOfStatsEventsToStore),q=(0,v.dh)(c.y.StatsEventFrequencySec),z=(0,v.dh)(c.y.StatsCollectionSizeSec),Z=(0,v.nj)(c.y.StringifyStatUponCollect),K=(0,v.nj)(c.y.Remove78FPSHack),W=(0,v.nj)(c.y.UseWebCodecsByDefault),Q=(0,v.dh)(c.y.VideoLatencyPreset),J=(0,v.nj)(c.y.EnableUseRetryAfterHeader),Y=j,ee=!"MISSING_ENV_VAR".E2E&&(_&&H||B||N),te=(0,v.nj)(c.y.SetCodecPreferences),ne=(0,v.nj)(c.y.UseTizenH264MainSdpHack),oe=function(){const{isTV:e}=(0,d.d)();if(!e)return;const t=(0,l.D)(),[n]=(0,s.B)("enableStreamMicrophone");return t?n:void 0}(),re=(0,v.dh)(c.y.InputChannelMaxVersion),ae="titleInfo"in t?t.titleInfo:void 0,ie=(0,g.e)(ae),se=function(e){var t;const n=(0,u.Z)(),[r]=(0,m.n)("enableMouseAndKeyboard"),a=null!==(t=(0,v.nj)(c.y.ShowMouseKeyboardSetting))&&void 0!==t&&t,i=!!e&&(0,o.isMouseAndKeyboardTitle)(e),s=(0,p.$)();return(i||n&&a&&r)&&s}(ae),de=function(e){return!!(0,v.nj)(c.y.EnableAbsoluteMouse)&&e}(se),le=function(){var e;const t=(0,u.Z)(),[n]=(0,m.n)("enableSensors"),o=null!==(e=(0,v.nj)(c.y.ShowSensorsSetting))&&void 0!==e&&e;return t&&o&&n}(),ue=(0,v.nj)(c.y.EnableSensorInput),ce=(0,v.dh)(c.y.SensorInputPollingRateInHz),me=(0,v.nj)(c.y.EnablePrivacyControls),pe=(0,v.nj)(c.y.EnableAudioDeviceSelection),ve=(0,v.nj)(c.y.EnableXSTHLogs),[ge]=(0,w.K)(),fe=me?null===ge||void 0===ge?void 0:ge.optionalDataCollectionValue:void 0,[Se]=(0,G.ad)(),[he]=(0,P.R1)("gameVolumeLevel"),[Ie]=(0,P.R1)("audioOutputDeviceId"),ye=(()=>{const{isDualSense:e}=(0,S.useControllerInformation)(),t=(0,v.nj)(c.y.TransformFireOSGamepads),{isFireOS:n,osVersion:o}=(0,d.d)(),r=n&&(0,f.gS)(o);return e&&t&&r?h:void 0})(),be=(0,a.useCallback)((()=>{(async()=>{var r;if(e)try{const r={enableNarrator:k,highContrastMode:x,systemUpdateGroup:"",releaseChannel:o.ReleaseChannel.Release,requestPlayStreamGesture:!0,enableOptionalDataCollection:fe,enableDebugMessageHandler:ve},a={},s={gameVolumeLevel:he,enableMicrophone:oe,enableGameChat:Se?!Se.getPartyChatEnabled():void 0,outputDeviceSinkId:pe?Ie:void 0},d={},l={},u=new o.ServerAllocationPollingConfiguration(!!J);let c;if(W&&(a.videoDecoderType=i.RainwayVideoDecoder.WebCodecs),null!=Q&&(a.latencyPreset=Q),A){const e=F.getBoolean(y.R4.Session.ignoreServiceConfiguration);null!=e&&(r.ignoreServiceConfiguration=e),r.systemUpdateGroup=F.getString(y.R4.Session.systemUpdateGroup,"");const t=F.getBoolean(y.R4.Session.showStreamStatisticsOverlay),n=F.getBoolean(y.R4.Session.useSoftwareRendering),o=F.getInteger(y.R4.Session.videoDecoderType),d=F.getInteger(y.R4.Session.videoLatencyPreset);null!=d&&(a.latencyPreset=d);const l=F.getBoolean(y.R4.Session.enableHevc),u=F.getBoolean(y.R4.Session.useHardwareAudioDecoding);r.releaseChannel=F.getInteger(y.R4.Session.releaseChannel,r.releaseChannel),r.requestPlayStreamGesture=F.getBoolean(y.R4.StreamClient.requestUserGesture);const m=F.getInteger(y.R4.StreamClient.streamType);c=void 0!==m?m:void 0,null!=t&&(a.showStreamStatisticsOverlay=t),null!=o&&(a.videoDecoderType=o),null!=n&&!0===n&&(a.videoDecoderType=i.RainwayVideoDecoder.Software),null!=l&&(a.enableHevc=l),null!=u&&(s.useHardwareAudioDecoding=u)}d.statsPollingIntervalMs=1e3,d.statsEventFrequencySec=null!==q&&void 0!==q?q:30,d.statsCollectionSizeSec=null!==z&&void 0!==z?z:30,d.stringifyStatUponCollect=null===Z||void 0===Z||Z,d.numberOfStatsEventsToStore=null!==$&&void 0!==$?$:8,B&&(d.statsEventFrequencySec=0,d.statsCollectionSizeSec=180,d.stringifyStatUponCollect=!1,d.numberOfStatsEventsToStore=1),a.perfTrackerProfile=V?i.PerfTrackerProfile.LowerMaxBufferLimit:i.PerfTrackerProfile.Default,a.remove78FPSHack=K,a.setCodecPreferences=te,a.useTizenH264MainSdpHack=ne,s.audioMode=L?o.AudioMode.Mono:o.AudioMode.Stereo,l.useNexusPressWorkaround=Y,l.useIntervalWorkerThreadForInput=ee,l.inputChannelMaxVersion=re,l.enableTouchInput=ie,l.enableMouseInput=se,l.enableKeyboardInput=se,l.enableAbsoluteMouse=de,l.enableSensorInput=ue||le,l.sensorInputPollingRateInHz=ce,l.maxTouchPoints=0!==navigator.maxTouchPoints?navigator.maxTouchPoints:A&&X?1:0,l.gamepadTransformer=ye;const m=t.connectMode;if("cloud-connect"===m)await e.cloudConnect(t.titleInfo,{options:r,videoConfiguration:a,audioConfiguration:s,statisticsConfiguration:d,inputConfiguration:l,pollingConfiguration:u},c,t.gameInvite,n,t.stateShare);else if("xhome-connect"===m)await e.homeConsoleConnect(t.remotePlayServerId,{options:r,videoConfiguration:a,audioConfiguration:s,statisticsConfiguration:d,inputConfiguration:l,pollingConfiguration:u},c,n);else if("ip-connect"===m){e.updateFeatureGates({ShowNotStartedRocket:!1});const o=t.uriPathAndQuery,i=t.ipAddress,m="";await e.directConnect(i,m,{options:r,videoConfiguration:a,audioConfiguration:s,statisticsConfiguration:d,inputConfiguration:l,pollingConfiguration:u},o,c,n)}else{if("managed-devkit-connect"!==m)throw new Error(`An unexpected state was reached - Neither Cloud Connect, Remote Play nor Ip-Connect \n                    requirements were satisfied by the passed in arguments, connectMode: ${m}`);await e.managedDevkitConnect(t.managedDevkitSessionDetails,{options:r,videoConfiguration:a,audioConfiguration:s,statisticsConfiguration:d,inputConfiguration:l,pollingConfiguration:u},n)}}catch(a){const e=(0,I.L)(a);return null===(r=R.current)||void 0===r||r.warn(`An error occurred while connecting via GameStream - ${e.message}`,e),void U(e)}finally{T.current=!1}})()}),[t,de,V,oe,L,se,k,fe,ue,le,ie,e,x,re,A,B,Z,R,Se,K,ce,te,n,F,X,U,ee,Y,$,J,z,q,ne,Q,W,he,Ie,pe,ve,ye]),Ce=(0,a.useRef)(null);(0,a.useEffect)((()=>{var n,o;const r="cloud-connect"===t.connectMode?t.titleInfo:null,a=!!e&&!b.k.isNotStartedState(e.state);if((null===r||void 0===r?void 0:r.titleId)!==(null===(n=Ce.current)||void 0===n?void 0:n.titleId)){const e=Ce.current;if(Ce.current=r,r&&a)return null===(o=R.current)||void 0===o||o.info(`User is trying to switch stream session, from ${null===e||void 0===e?void 0:e.titleId} to ${r.titleId}`),void be()}T.current||!e||a||M||D||O||(T.current=!0,be())}),[t,e,O,M,D,R,be])}},35626:(e,t,n)=>{n.d(t,{y:()=>s});n(73439),n(6886);var o=n(46209),r=n(2784),a=n(89085),i=n(50957);const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new o.Logger("StreamPage/useGameStreamClass");return(0,i.sZ)((0,r.useCallback)((async()=>{try{const{GameStream:e}=await Promise.all([n.e(81772),n.e(98465),n.e(36721),n.e(22674),n.e(20974),n.e(84881),n.e(13346),n.e(10589),n.e(46381),n.e(69899),n.e(24371)]).then(n.bind(n,65849));return e}catch(t){const n=(0,a.L)(t);return void(null===e||void 0===e||e.error(`An error occurred while loading the GameStream class - ${n.message}`,n))}}),[e]))}},2871:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ControllerInformation=void 0;const o=n(68287),r=n(21372);t.ControllerInformation=class{constructor(e){const t=(0,r.getDisambiguatedGamepadId)(e);this.vendorId=(0,r.extractRegexMatch)(r.vendorIdRegEx,t),this.productId=(0,r.extractRegexMatch)(r.productIdRegEx,t);const n=(0,r.getGamepadInfo)(this.vendorId,this.productId);n?(this.isDualSense=n.model===o.GamepadModel.DualSense,this.isDualShock4=n.model===o.GamepadModel.DualShock4,this.isXbox=n.model===o.GamepadModel.Xbox,this.isStadia=n.model===o.GamepadModel.Stadia,this.isSwitchPro=n.model===o.GamepadModel.SwitchPro,this.isLuna=n.model===o.GamepadModel.Luna,this.isUnknown=n.model===o.GamepadModel.Unknown,this.controllerType=n.type):(this.isDualSense=!1,this.isDualShock4=!1,this.isXbox=!1,this.isStadia=!1,this.isSwitchPro=!1,this.isLuna=!1,this.isUnknown=!0,this.controllerType=o.ControllerType.Other)}}},80822:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useControllerInformation=t.getGamepadInfoFromId=t.ControllerType=t.GamepadModel=void 0;n(22970).__exportStar(n(2871),t);var o=n(68287);Object.defineProperty(t,"GamepadModel",{enumerable:!0,get:function(){return o.GamepadModel}}),Object.defineProperty(t,"ControllerType",{enumerable:!0,get:function(){return o.ControllerType}});var r=n(21372);Object.defineProperty(t,"getGamepadInfoFromId",{enumerable:!0,get:function(){return r.getGamepadInfoFromId}});var a=n(7025);Object.defineProperty(t,"useControllerInformation",{enumerable:!0,get:function(){return a.useControllerInformation}})},68287:(e,t)=>{var n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.ControllerType=t.GamepadModel=void 0,function(e){e[e.DualSense=0]="DualSense",e[e.DualShock4=1]="DualShock4",e[e.Xbox=2]="Xbox",e[e.Stadia=3]="Stadia",e[e.SwitchPro=4]="SwitchPro",e[e.Luna=5]="Luna",e[e.Unknown=6]="Unknown"}(n||(t.GamepadModel=n={})),function(e){e.Xbox="Xbox",e.XboxTakehome="XboxTakehome",e.Luna="Luna",e.PlayStation="PlayStation",e.Other="Other"}(o||(t.ControllerType=o={}))},7025:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useControllerInformation=void 0;const o=n(15946),r=n(2784),a=n(2871);t.useControllerInformation=()=>{const e=(0,o.useGetGamepadsInOrder)()[0];return(0,r.useMemo)((()=>new a.ControllerInformation(e)),[e])}},21372:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getDisambiguatedGamepadId=t.getProductIdFromGamepadId=t.getVendorIdFromGamepadId=t.extractRegexMatch=t.getGamepadInfo=t.getGamepadInfoFromDisambiguatedGamepadId=t.getGamepadInfoFromId=t.productIdRegEx=t.vendorIdRegEx=void 0;const o=n(68287),r=[{vendorId:1356,productId:3302,model:o.GamepadModel.DualSense,type:o.ControllerType.PlayStation},{vendorId:1356,productId:1476,model:o.GamepadModel.DualShock4,type:o.ControllerType.PlayStation},{vendorId:1356,productId:2508,model:o.GamepadModel.DualShock4,type:o.ControllerType.PlayStation},{vendorId:1118,model:o.GamepadModel.Xbox,type:o.ControllerType.Xbox},{vendorId:6353,productId:37888,model:o.GamepadModel.Stadia,type:o.ControllerType.Other},{vendorId:1406,productId:8201,model:o.GamepadModel.SwitchPro,type:o.ControllerType.Other},{vendorId:369,productId:1049,model:o.GamepadModel.Luna,type:o.ControllerType.Luna}].reduce(((e,t)=>{const{vendorId:n,productId:o}=t;e[n]||(e[n]={});const r=null!==o&&void 0!==o?o:"default";return e[n][r]=t,e}),{});t.vendorIdRegEx=/Vendor:\s*([0-9a-fA-F]+)/,t.productIdRegEx=/Product:\s*([0-9a-fA-F]+)/;t.getGamepadInfoFromId=e=>{const n=(0,t.getDisambiguatedGamepadId)(e);return(0,t.getGamepadInfoFromDisambiguatedGamepadId)(n)};t.getGamepadInfoFromDisambiguatedGamepadId=e=>{if(!e)return;const n=(0,t.extractRegexMatch)(t.vendorIdRegEx,e),o=(0,t.extractRegexMatch)(t.productIdRegEx,e);return(0,t.getGamepadInfo)(n,o)};t.getGamepadInfo=(e,t)=>{if(!e)return;const n=parseInt(null!==e&&void 0!==e?e:"0",16),o=parseInt(null!==t&&void 0!==t?t:"0",16),a=r[n];return a?a[o]||a.default:void 0};t.extractRegexMatch=(e,t)=>{var n;return t?null===(n=t.match(e))||void 0===n?void 0:n[1]:void 0};t.getVendorIdFromGamepadId=e=>{const n=(0,t.getDisambiguatedGamepadId)(e);return(0,t.extractRegexMatch)(t.vendorIdRegEx,n)};t.getProductIdFromGamepadId=e=>{const n=(0,t.getDisambiguatedGamepadId)(e);return(0,t.extractRegexMatch)(t.productIdRegEx,n)};t.getDisambiguatedGamepadId=e=>{var t,n,o;let r;if("number"===typeof e){const a=null===(n=null===(t=globalThis.navigator)||void 0===t?void 0:t.getGamepads)||void 0===n?void 0:n.call(t);r=null===(o=null===a||void 0===a?void 0:a[e])||void 0===o?void 0:o.id}else r=e;return r}}}]);
//# sourceMappingURL=66930.1a750cf5.chunk.js.map
